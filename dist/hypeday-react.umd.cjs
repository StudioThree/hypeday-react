(function(i,d){typeof exports=="object"&&typeof module<"u"?module.exports=d(require("react")):typeof define=="function"&&define.amd?define(["react"],d):(i=typeof globalThis<"u"?globalThis:i||self,i.HypeDayReact=d(i.React))})(this,function(i){"use strict";const e=(n=>n&&typeof n=="object"&&"default"in n?n:{default:n})(i),f={wrapper:"_wrapper_l5wcw_1",reqSection:"_reqSection_l5wcw_37",sectionInfo:"_sectionInfo_l5wcw_49",responseInput:"_responseInput_l5wcw_60",hypeButton:"_hypeButton_l5wcw_73",registerButton:"_registerButton_l5wcw_100"};function m({title:n,showButton:t=!0,buttonLabel:r,onClick:l,info:a}){return e.default.createElement("section",{className:f.reqSection},e.default.createElement("header",null,e.default.createElement("h3",null,n),t&&e.default.createElement("button",{className:f.hypeButton,onClick:l,disabled:!!r},r||"Connect")),a.map((o,c)=>e.default.createElement("span",{key:c,className:f.sectionInfo},o)))}function p({projectData:n}){var c,u,E;if(!((c=n==null?void 0:n.discord)!=null&&c.enabled)&&!((u=n==null?void 0:n.discord2)!=null&&u.enabled))return null;const{discord:t,discord2:r,userInfo:l}=n,a=[];t!=null&&t.enabled&&a.push(t),r!=null&&r.enabled&&a.push(r);const o=[];return a.forEach(s=>{var g;if(s.isServerRequired){const h=e.default.createElement(e.default.Fragment,null,"Join the"," ",e.default.createElement("a",{href:s==null?void 0:s.serverLink,target:"_blank",rel:"noreferrer"},e.default.createElement("strong",null,s==null?void 0:s.serverDisplayName))," ","server on Discord",s.isShouldJoinBeforeRequired?e.default.createElement(e.default.Fragment,null," ","before"," ",e.default.createElement("strong",null,new Date((s==null?void 0:s.shouldJoinBefore)||"").toLocaleString())):null);o.push(h)}if(s.isRoleRequired){const h=e.default.createElement(e.default.Fragment,null,'and have the "',(g=s==null?void 0:s.roleDisplayNames)==null?void 0:g.join(", "),'" role(s)');o.push(h)}}),e.default.createElement(m,{title:"Discord",onClick:()=>alert("This is going to redirect user to Discord"),info:o,buttonLabel:(E=l==null?void 0:l.discord)==null?void 0:E.username})}function b({projectData:n}){var r;if(!((r=n==null?void 0:n.email)!=null&&r.isEmailRequired))return null;const{userInfo:t}=n;return e.default.createElement(m,{title:"Email",onClick:()=>console.log("email button clicked"),info:["Have a verified email address"],buttonLabel:t==null?void 0:t.email})}function w({projectData:n}){var r;if(!((r=n==null?void 0:n.customfield)!=null&&r.enabled))return null;const{customfield:t}=n;return e.default.createElement("section",{className:f.reqSection},e.default.createElement("header",null,e.default.createElement("h3",null,"Open Response")),e.default.createElement("span",{className:f.sectionInfo},t.labels[0]),e.default.createElement("input",{className:f.responseInput,type:"text",placeholder:t.labels[0]}))}function R({projectData:n}){var a,o,c;if(!((a=n==null?void 0:n.twitter)!=null&&a.enabled))return null;const{twitter:t,userInfo:r}=n,l=[];if(t!=null&&t.isAccountCreatedRequired){const u=e.default.createElement(e.default.Fragment,null,"Have an account created before"," ",e.default.createElement("strong",null,new Date((t==null?void 0:t.accountCreated)||"").toLocaleDateString()));l.push(u)}if(t!=null&&t.isFollowRequired){const u=(o=t==null?void 0:t.follow)==null?void 0:o.split(","),E=e.default.createElement(e.default.Fragment,null,"Follow these account(s):",e.default.createElement("ul",null,u==null?void 0:u.map(s=>e.default.createElement("li",{key:s},e.default.createElement("a",{href:`https://twitter.com/${s.trim()}`,target:"_blank",rel:"noreferrer"},e.default.createElement("strong",null,"@",s))))));l.push(E)}if(t!=null&&t.isMinFollowersRequired){const u=e.default.createElement(e.default.Fragment,null,"Have at least ",e.default.createElement("b",null,t.minFollowers," follower(s)"));l.push(u)}if(t!=null&&t.isRetweetRequired){const u=e.default.createElement(e.default.Fragment,null,"Retweet"," ",e.default.createElement("a",{href:t.retweetUrl,target:"_blank",rel:"noreferrer"},e.default.createElement("strong",null,"this tweet")));l.push(u)}return e.default.createElement(m,{title:"Twitter",onClick:()=>alert("This is going to redirect user to Twitter"),info:l,buttonLabel:(c=r==null?void 0:r.twitter)==null?void 0:c.username})}const y={ethereum:"ETH",solana:"SOL",polygon:"MATIC",avalanche:"AVAX",flow:"FLOW"};function _({projectData:n}){if(!(n!=null&&n.wallet))return null;const{wallet:t}=n,r=[];if(t!=null&&t.isBalanceRequired){const l=e.default.createElement(e.default.Fragment,null,"Have at least",e.default.createElement("strong",null," "+t.balance+" "+y[n.chain]+" "),"in your wallet");r.push(l)}if(t!=null&&t.isNftRequired){const{nftCollection:l}=t,a=e.default.createElement(e.default.Fragment,null,"Hold an NFT from"," ",e.default.createElement("strong",null,e.default.createElement("a",{href:l==null?void 0:l.url,target:"_blank",rel:"noreferrer"},l==null?void 0:l.name)));r.push(a)}return e.default.createElement(m,{title:"Wallet",onClick:()=>console.log("wallet button clicked"),info:r,showButton:!1})}function q({appId:n,projectId:t,userId:r}){var c;const[l,a]=i.useState();i.useEffect(()=>{!t||fetch(`https://apitest.hype.day/getProject?appId=${n}&projectid=${t}&userid=${r}`).then(u=>u.json()).then(u=>a(u))},[]);const o=()=>{var u;(u=l==null?void 0:l.userInfo)!=null&&u.registered||console.log("register button clicked")};return e.default.createElement("div",{className:f.wrapper},e.default.createElement(_,{projectData:l}),e.default.createElement(R,{projectData:l}),e.default.createElement(p,{projectData:l}),e.default.createElement(b,{projectData:l}),e.default.createElement(w,{projectData:l}),e.default.createElement("button",{className:f.registerButton,onClick:o},(c=l==null?void 0:l.userInfo)!=null&&c.registered?"Registered! \u{1F389}":"Click to Register"))}return q});
