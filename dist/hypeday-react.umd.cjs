(function(o,R){typeof exports=="object"&&typeof module<"u"?module.exports=R(require("react")):typeof define=="function"&&define.amd?define(["react"],R):(o=typeof globalThis<"u"?globalThis:o||self,o.HypeDayReact=R(o.React))})(this,function(o){"use strict";const n=(e=>e&&typeof e=="object"&&"default"in e?e:{default:e})(o),d={wrapper:"_wrapper_l5wcw_1",reqSection:"_reqSection_l5wcw_37",sectionInfo:"_sectionInfo_l5wcw_49",responseInput:"_responseInput_l5wcw_60",hypeButton:"_hypeButton_l5wcw_73",registerButton:"_registerButton_l5wcw_100"};function A({title:e,showButton:t=!0,buttonLabel:l,onClick:s,info:r}){return n.default.createElement("section",{className:d.reqSection},n.default.createElement("header",null,n.default.createElement("h3",null,e),t&&n.default.createElement("button",{className:d.hypeButton,onClick:s,disabled:!!l},l||"Connect")),r.map((c,f)=>n.default.createElement("span",{key:f,className:d.sectionInfo},c)))}function I({projectData:e}){var f,u,a;if(!((f=e==null?void 0:e.discord)!=null&&f.enabled)&&!((u=e==null?void 0:e.discord2)!=null&&u.enabled))return null;const{discord:t,discord2:l,userInfo:s}=e,r=[];t!=null&&t.enabled&&r.push(t),l!=null&&l.enabled&&r.push(l);const c=[];return r.forEach(i=>{var m;if(i.isServerRequired){const g=n.default.createElement(n.default.Fragment,null,"Join the"," ",n.default.createElement("a",{href:i==null?void 0:i.serverLink,target:"_blank",rel:"noreferrer"},n.default.createElement("strong",null,i==null?void 0:i.serverDisplayName))," ","server on Discord",i.isShouldJoinBeforeRequired?n.default.createElement(n.default.Fragment,null," ","before"," ",n.default.createElement("strong",null,new Date((i==null?void 0:i.shouldJoinBefore)||"").toLocaleString())):null);c.push(g)}if(i.isRoleRequired){const g=n.default.createElement(n.default.Fragment,null,'and have the "',(m=i==null?void 0:i.roleDisplayNames)==null?void 0:m.join(", "),'" role(s)');c.push(g)}}),n.default.createElement(A,{title:"Discord",onClick:()=>alert("This is going to redirect user to Discord"),info:c,buttonLabel:(a=s==null?void 0:s.discord)==null?void 0:a.username})}function N({projectData:e}){var l;if(!((l=e==null?void 0:e.customfield)!=null&&l.enabled))return null;const{customfield:t}=e;return n.default.createElement("section",{className:d.reqSection},n.default.createElement("header",null,n.default.createElement("h3",null,"Open Response")),n.default.createElement("span",{className:d.sectionInfo},t.labels[0]),n.default.createElement("input",{className:d.responseInput,type:"text",placeholder:t.labels[0]}))}function T({dateString:e,message:t}){const[l,s]=o.useState(!1),[r,c]=o.useState(0),[f,u]=o.useState(0),[a,i]=o.useState(0),[m,g]=o.useState(0);return o.useEffect(()=>{const q=new Date(e).getTime(),S=setInterval(()=>{const b=new Date().getTime(),E=q-b,h=Math.floor(E/(1e3*60*60*24)),w=Math.floor(E%(1e3*60*60*24)/(1e3*60*60)),y=Math.floor(E%(1e3*60*60)/(1e3*60)),_=Math.floor(E%(1e3*60)/1e3);if(E<=0){clearInterval(S),s(!0),c(0),u(0),i(0),g(0);return}c(h),u(w),i(y),g(_)},1e3);return()=>clearInterval(S)},[e]),!l&&!r&&!f&&!a&&!m?n.default.createElement("span",{style:{visibility:"hidden"}},"Calculating.."):l?n.default.createElement(n.default.Fragment,null,t):n.default.createElement(n.default.Fragment,null,r>0&&`${r} days, `,f>0&&`${f} hours, `,a>0&&`${a} minutes, `,m>0&&`${m} seconds`)}function F({children:e,title:t}){return n.default.createElement("section",{className:d.reqSection},n.default.createElement("header",null,n.default.createElement("h3",null,t)),n.default.createElement("span",{className:d.sectionInfo},e))}function v({projectData:e}){var r,c,f,u,a,i,m,g,q,S,b,E;const[t,l]=o.useState(),s=((r=e==null?void 0:e.signupAccess)==null?void 0:r.isEndDateRequired)&&((c=e==null?void 0:e.signupAccess)==null?void 0:c.endDate)&&new Date((f=e==null?void 0:e.signupAccess)==null?void 0:f.endDate).getTime()<Date.now();return o.useEffect(()=>{var h,w,y,_;(h=e==null?void 0:e.signupAccess)!=null&&h.isStartDateRequired&&l(!!(((w=e==null?void 0:e.signupAccess)==null?void 0:w.isStartDateRequired)&&((y=e==null?void 0:e.signupAccess)==null?void 0:y.startDate)&&new Date((_=e==null?void 0:e.signupAccess)==null?void 0:_.startDate).getTime()>Date.now()))},[e]),o.useEffect(()=>{var h,w;if(t&&((h=e==null?void 0:e.signupAccess)==null?void 0:h.startDate)){const y=setTimeout(()=>l(!1),new Date((w=e==null?void 0:e.signupAccess)==null?void 0:w.startDate).getTime()-Date.now());return()=>clearTimeout(y)}},[t,(u=e==null?void 0:e.signupAccess)==null?void 0:u.startDate]),s&&((a=e.signupAccess)==null?void 0:a.endDate)?n.default.createElement(F,{title:"Registration is closed"},"Registration is closed on"," ",(m=new Date((i=e.signupAccess)==null?void 0:i.endDate))==null?void 0:m.toUTCString(),". Thank you for your interest."):t&&((g=e==null?void 0:e.signupAccess)==null?void 0:g.startDate)?n.default.createElement(F,{title:"Registration starts in:"},n.default.createElement(T,{dateString:(q=e==null?void 0:e.signupAccess)==null?void 0:q.startDate,message:"Registration is open."})):!s&&!t&&((S=e==null?void 0:e.signupAccess)==null?void 0:S.isEndDateRequired)&&((b=e==null?void 0:e.signupAccess)==null?void 0:b.endDate)?n.default.createElement(F,{title:"Registration ends in:"},n.default.createElement("span",{className:d.sectionInfo},n.default.createElement(T,{dateString:(E=e==null?void 0:e.signupAccess)==null?void 0:E.endDate,message:"Registration is closed."}))):null}function k({projectData:e}){var r,c,f;if(!((r=e==null?void 0:e.twitter)!=null&&r.enabled))return null;const{twitter:t,userInfo:l}=e,s=[];if(t!=null&&t.isAccountCreatedRequired){const u=n.default.createElement(n.default.Fragment,null,"Have an account created before"," ",n.default.createElement("strong",null,new Date((t==null?void 0:t.accountCreated)||"").toLocaleDateString()));s.push(u)}if(t!=null&&t.isFollowRequired){const u=(c=t==null?void 0:t.follow)==null?void 0:c.split(","),a=n.default.createElement(n.default.Fragment,null,"Follow these account(s):",n.default.createElement("ul",null,u==null?void 0:u.map(i=>n.default.createElement("li",{key:i},n.default.createElement("a",{href:`https://twitter.com/${i.trim()}`,target:"_blank",rel:"noreferrer"},n.default.createElement("strong",null,"@",i))))));s.push(a)}if(t!=null&&t.isMinFollowersRequired){const u=n.default.createElement(n.default.Fragment,null,"Have at least ",n.default.createElement("b",null,t.minFollowers," follower(s)"));s.push(u)}if(t!=null&&t.isRetweetRequired){const u=n.default.createElement(n.default.Fragment,null,"Retweet"," ",n.default.createElement("a",{href:t.retweetUrl,target:"_blank",rel:"noreferrer"},n.default.createElement("strong",null,"this tweet")));s.push(u)}return n.default.createElement(A,{title:"Twitter",onClick:()=>alert("This is going to redirect user to Twitter"),info:s,buttonLabel:(f=l==null?void 0:l.twitter)==null?void 0:f.username})}const B={ethereum:"ETH",solana:"SOL",polygon:"MATIC",avalanche:"AVAX",flow:"FLOW"};function C({projectData:e}){if(!(e!=null&&e.wallet))return null;const{wallet:t}=e,l=[];if(t!=null&&t.isBalanceRequired){const s=n.default.createElement(n.default.Fragment,null,"Have at least",n.default.createElement("strong",null," "+t.balance+" "+B[e.chain]+" "),"in your wallet");l.push(s)}if(t!=null&&t.isNftRequired){const{nftCollection:s}=t,r=n.default.createElement(n.default.Fragment,null,"Hold an NFT from"," ",n.default.createElement("strong",null,n.default.createElement("a",{href:s==null?void 0:s.url,target:"_blank",rel:"noreferrer"},s==null?void 0:s.name)));l.push(r)}return n.default.createElement(A,{title:"Wallet",onClick:()=>console.log("wallet button clicked"),info:l,showButton:!1})}function H({appId:e,projectId:t,userId:l}){var f;const[s,r]=o.useState();o.useEffect(()=>{!t||fetch(`https://apitest.hype.day/getProject?appId=${e}&projectid=${t}&userid=${l}`).then(u=>u.json()).then(u=>r(u))},[]);const c=()=>{var u;(u=s==null?void 0:s.userInfo)!=null&&u.registered||console.log("register button clicked")};return n.default.createElement("div",{className:d.wrapper},n.default.createElement(v,{projectData:s}),n.default.createElement(C,{projectData:s}),n.default.createElement(k,{projectData:s}),n.default.createElement(I,{projectData:s}),n.default.createElement(N,{projectData:s}),n.default.createElement("button",{className:d.registerButton,onClick:c},(f=s==null?void 0:s.userInfo)!=null&&f.registered?"Registered! \u{1F389}":"Click to Register"))}return H});
