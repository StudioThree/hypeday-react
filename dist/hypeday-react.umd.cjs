(function(K,ir){typeof exports=="object"&&typeof module<"u"?module.exports=ir(require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["react","react-dom"],ir):(K=typeof globalThis<"u"?globalThis:K||self,K.HypeDayReact=ir(K.React,K.ReactDOM))})(this,function(K,ir){"use strict";const _a=r=>r&&typeof r=="object"&&"default"in r?r:{default:r},D=_a(K),Bl=_a(ir),Br="https://api.hype.day",Pn=new Headers({"Content-Type":"application/json"});function Tl(r){r?Pn.set("Authorization",`Bearer ${r}`):Pn.delete("Authorization")}function Tr(r){return r.text().then(e=>{var n;if(e==="OK")return e;const t=e&&JSON.parse(e);if(!r.ok){const o=((n=t==null?void 0:t.error)==null?void 0:n.message)||r.statusText;return console.error(o),Promise.reject(o)}return t})}function Cl({appId:r,projectId:e}){const t={method:"GET",headers:Pn};return fetch(`${Br}/getProject?`+new URLSearchParams({appid:r,projectid:e}),t).then(Tr)}function kl(r){const e="solana",t={method:"POST",headers:Pn,body:JSON.stringify({chain:e,...r})};return fetch(`${Br}/addWallet`,t).then(Tr)}function Nl(r){const e="solana",t={method:"POST",headers:Pn,body:JSON.stringify({chain:e,...r})};return fetch(`${Br}/verifyWallet`,t).then(Tr)}function Ma({provider:r,appId:e,projectId:t,returnUrl:n}){const o={method:"POST",headers:Pn,body:JSON.stringify({appId:e,projectId:t,returnUrl:n})};return fetch(`${Br}/${r==="twitter"?"t":"d"}GetUrlForApp`,o).then(Tr)}function Ol({appId:r,projectId:e,customField:t}){const n={method:"POST",headers:Pn,body:JSON.stringify({appId:r,projectId:e,customField:t})};return fetch(`${Br}/validateForAppProject`,n).then(Tr)}const Ba=K.createContext({});function Rl({children:r}){const[e,t]=K.useState(),[n,o]=K.useState(),i=K.useMemo(()=>({discordData:e,twitterData:n,setDiscordData:t,setTwitterData:o}),[e,t,n,o]);return D.default.createElement(Ba.Provider,{value:i},r)}function ci(){return K.useContext(Ba)}function fo(r){return r?`${r.slice(0,4)}...${r.slice(-4)}`:""}function ho(){return Math.min(window.screen.width,window.screen.height)<768||navigator.userAgent.indexOf("Mobi")>-1}function Ta(r){const e="Something went wrong. Please try again later.";return typeof r=="string"?r:r!=null&&r.message?r.message:e}function tn({required:r}){return r?D.default.createElement("span",{title:"Required"}," *"):null}function po({title:r,rightText:e,buttonDisabled:t=!1,onClick:n,info:o,isLoading:i=!1,showButton:c=!0,errorMessage:u}){return D.default.createElement("section",{className:"hypeday-section"},D.default.createElement("header",{className:"hypeday-section-header"},D.default.createElement("h3",{className:"hypeday-h3"},r),c&&D.default.createElement("button",{className:"hypeday-button",onClick:n,disabled:i||t,title:t?"Please login first":void 0},i&&D.default.createElement("div",{className:"hypeday-spinner hypeday-btn-spinner"}),D.default.createElement("span",{style:{visibility:i?"hidden":"initial"}},e||"Connect"))),!!u&&D.default.createElement("span",{className:"hypeday-error"},u),o.map((h,y)=>D.default.createElement("span",{key:y,className:"hypeday-info"},h)))}function Ll({projectData:r,appId:e,hasUser:t,logger:n}){var x,C;const[o,i]=K.useState(!1),[c,u]=K.useState(""),{discordData:h}=ci(),y=K.useMemo(()=>{var P,z;if(!((P=r==null?void 0:r.discord)!=null&&P.enabled)&&!((z=r==null?void 0:r.discord2)!=null&&z.enabled))return[];const{discord:E,discord2:B}=r,T=[];E!=null&&E.enabled&&T.push(E),B!=null&&B.enabled&&T.push(B);const L=[];return T.forEach(N=>{var F;if(N.isServerRequired){const R=D.default.createElement(D.default.Fragment,null,D.default.createElement("div",{className:"hypeday-req-list-item"},D.default.createElement("div",null,"Join the"," ",D.default.createElement("a",{href:N==null?void 0:N.serverLink,target:"_blank",rel:"noreferrer"},D.default.createElement("strong",null,N==null?void 0:N.serverDisplayName))," ","server on Discord",D.default.createElement(tn,{required:!(E!=null&&E.isServerOptional)})),D.default.createElement("a",{className:"hypeday-button-gray hypeday-discord-req-action-button",href:(N==null?void 0:N.serverLink)||"/",target:"_blank",rel:"noreferrer"},D.default.createElement("span",null,"Join"))));L.push(R)}if(N.isShouldJoinBeforeRequired){const R=D.default.createElement(D.default.Fragment,null,"before"," ",D.default.createElement("strong",null,new Date((N==null?void 0:N.shouldJoinBefore)||"").toLocaleDateString()),D.default.createElement(tn,{required:!(E!=null&&E.isShouldJoinBeforeOptional)}));L.push(R)}if(N.isRoleRequired){const R=D.default.createElement(D.default.Fragment,null,'and have the "',(F=N==null?void 0:N.roleDisplayNames)==null?void 0:F.join(", "),'" role(s)',D.default.createElement(tn,{required:!(E!=null&&E.isRoleOptional)}));L.push(R)}}),L},[r]),m=async()=>{if(!(!e||!t||!(r!=null&&r.id)))try{i(!0);const{url:E}=await Ma({provider:"discord",appId:e,projectId:r.id,returnUrl:window.location.href});window.location.assign(E)}catch(E){console.error(E),u(Ta(E)),n==null||n.error("HypeDayReact: Error getting Discord oauth url","hype05",E)}finally{i(!1)}};return!((x=r==null?void 0:r.discord)!=null&&x.enabled)&&!((C=r==null?void 0:r.discord2)!=null&&C.enabled)?null:D.default.createElement(po,{title:"Discord",onClick:m,info:y,rightText:h==null?void 0:h.username,buttonDisabled:!t,isLoading:o,errorMessage:c})}const Ul=D.default.forwardRef(function({projectData:e},t){var o;if(!((o=e==null?void 0:e.customfield)!=null&&o.enabled))return null;const{customfield:n}=e;return D.default.createElement("section",{className:"hypeday-section"},D.default.createElement("header",{className:"hypeday-section-header"},D.default.createElement("h3",{className:"hypeday-h3"},"Open Response")),D.default.createElement("span",{className:"hypeday-info"},n.labels[0]),D.default.createElement("input",{className:"hypeday-input",type:"text",placeholder:n.labels[0],ref:t}))});var fn=(r=>(r.willOpen="willOpen",r.alwaysOpen="alwaysOpen",r.willClose="willClose",r.closed="closed",r))(fn||{});const Ca=K.createContext({});function Dl({children:r}){const[e,t]=K.useState(),[n,o]=K.useState("alwaysOpen"),[i,c]=K.useState();K.useEffect(()=>{var x,C,E,B,T,L,P,z;const h=Date.now(),y=(x=e==null?void 0:e.signupAccess)!=null&&x.isStartDateRequired?new Date((C=e==null?void 0:e.signupAccess)==null?void 0:C.startDate).getTime():null,m=(E=e==null?void 0:e.signupAccess)!=null&&E.isEndDateRequired?new Date((B=e==null?void 0:e.signupAccess)==null?void 0:B.endDate).getTime():null;if(!y&&!m){o("alwaysOpen");return}if(y&&y>h){o("willOpen"),c((T=e==null?void 0:e.signupAccess)==null?void 0:T.startDate);const N=setTimeout(()=>{var F;o(m?"willClose":"alwaysOpen"),c((F=e==null?void 0:e.signupAccess)==null?void 0:F.endDate)},y-h);return()=>clearTimeout(N)}if(y&&y<h){if(m){o("willClose"),c((L=e==null?void 0:e.signupAccess)==null?void 0:L.endDate);const N=setTimeout(()=>{o("closed")},m-h);return()=>clearTimeout(N)}o("alwaysOpen");return}if(m&&m>h){o("willClose"),c((P=e==null?void 0:e.signupAccess)==null?void 0:P.endDate);const N=setTimeout(()=>{var F;o("closed"),c((F=e==null?void 0:e.signupAccess)==null?void 0:F.endDate)},m-h);return()=>clearTimeout(N)}if(m&&m<h){o("closed"),c((z=e==null?void 0:e.signupAccess)==null?void 0:z.endDate);return}},[e]);const u=K.useMemo(()=>({status:n,dateString:i,setData:t}),[n,i,t]);return D.default.createElement(Ca.Provider,{value:u},r)}function go(){return K.useContext(Ca)}function ka({dateString:r,message:e}){const[t,n]=K.useState(!1),[o,i]=K.useState(0),[c,u]=K.useState(0),[h,y]=K.useState(0),[m,x]=K.useState(0);return K.useEffect(()=>{const C=new Date(r).getTime(),E=setInterval(()=>{const B=new Date().getTime(),T=C-B,L=Math.floor(T/(1e3*60*60*24)),P=Math.floor(T%(1e3*60*60*24)/(1e3*60*60)),z=Math.floor(T%(1e3*60*60)/(1e3*60)),N=Math.floor(T%(1e3*60)/1e3);if(T<=0){clearInterval(E),n(!0),i(0),u(0),y(0),x(0);return}i(L),u(P),y(z),x(N)},1e3);return()=>clearInterval(E)},[r]),!t&&!o&&!c&&!h&&!m?D.default.createElement("span",{style:{visibility:"hidden"}},"Calculating.."):t?D.default.createElement(D.default.Fragment,null,e):D.default.createElement(D.default.Fragment,null,o>0&&`${o} days, `,c>0&&`${c} hours, `,h>0&&`${h} minutes, `,m>0&&`${m} seconds`)}function yo({children:r,title:e}){return D.default.createElement("section",{className:"hypeday-section"},D.default.createElement("header",{className:"hypeday-section-header"},D.default.createElement("h3",{className:"hypeday-h3"},e)),D.default.createElement("span",{className:"hypeday-info"},r))}function Pl(){var t;const{status:r,dateString:e}=go();return r===fn.closed?D.default.createElement(yo,{title:"Registration is closed"},"Registration is closed on"," ",(t=new Date(e))==null?void 0:t.toUTCString(),". Thank you for your interest."):r===fn.willOpen?D.default.createElement(yo,{title:"Registration starts in:"},D.default.createElement(ka,{dateString:e,message:"Registration is open."})):r===fn.willClose?D.default.createElement(yo,{title:"Registration ends in:"},D.default.createElement(ka,{dateString:e,message:"Registration is closed."})):null}var nn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fl(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function ui(r){var e=r.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var o=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return r[n]}})}),t}var wo={exports:{}},Fn={},li={exports:{}},mo={exports:{}},Re={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Na;function zl(){if(Na)return Re;Na=1;var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,n=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,i=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,y=r?Symbol.for("react.concurrent_mode"):60111,m=r?Symbol.for("react.forward_ref"):60112,x=r?Symbol.for("react.suspense"):60113,C=r?Symbol.for("react.suspense_list"):60120,E=r?Symbol.for("react.memo"):60115,B=r?Symbol.for("react.lazy"):60116,T=r?Symbol.for("react.block"):60121,L=r?Symbol.for("react.fundamental"):60117,P=r?Symbol.for("react.responder"):60118,z=r?Symbol.for("react.scope"):60119;function N(R){if(typeof R=="object"&&R!==null){var H=R.$$typeof;switch(H){case e:switch(R=R.type,R){case h:case y:case n:case i:case o:case x:return R;default:switch(R=R&&R.$$typeof,R){case u:case m:case B:case E:case c:return R;default:return H}}case t:return H}}}function F(R){return N(R)===y}return Re.AsyncMode=h,Re.ConcurrentMode=y,Re.ContextConsumer=u,Re.ContextProvider=c,Re.Element=e,Re.ForwardRef=m,Re.Fragment=n,Re.Lazy=B,Re.Memo=E,Re.Portal=t,Re.Profiler=i,Re.StrictMode=o,Re.Suspense=x,Re.isAsyncMode=function(R){return F(R)||N(R)===h},Re.isConcurrentMode=F,Re.isContextConsumer=function(R){return N(R)===u},Re.isContextProvider=function(R){return N(R)===c},Re.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===e},Re.isForwardRef=function(R){return N(R)===m},Re.isFragment=function(R){return N(R)===n},Re.isLazy=function(R){return N(R)===B},Re.isMemo=function(R){return N(R)===E},Re.isPortal=function(R){return N(R)===t},Re.isProfiler=function(R){return N(R)===i},Re.isStrictMode=function(R){return N(R)===o},Re.isSuspense=function(R){return N(R)===x},Re.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===n||R===y||R===i||R===o||R===x||R===C||typeof R=="object"&&R!==null&&(R.$$typeof===B||R.$$typeof===E||R.$$typeof===c||R.$$typeof===u||R.$$typeof===m||R.$$typeof===L||R.$$typeof===P||R.$$typeof===z||R.$$typeof===T)},Re.typeOf=N,Re}var Le={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oa;function Hl(){return Oa||(Oa=1,process.env.NODE_ENV!=="production"&&function(){var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,n=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,i=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,y=r?Symbol.for("react.concurrent_mode"):60111,m=r?Symbol.for("react.forward_ref"):60112,x=r?Symbol.for("react.suspense"):60113,C=r?Symbol.for("react.suspense_list"):60120,E=r?Symbol.for("react.memo"):60115,B=r?Symbol.for("react.lazy"):60116,T=r?Symbol.for("react.block"):60121,L=r?Symbol.for("react.fundamental"):60117,P=r?Symbol.for("react.responder"):60118,z=r?Symbol.for("react.scope"):60119;function N(V){return typeof V=="string"||typeof V=="function"||V===n||V===y||V===i||V===o||V===x||V===C||typeof V=="object"&&V!==null&&(V.$$typeof===B||V.$$typeof===E||V.$$typeof===c||V.$$typeof===u||V.$$typeof===m||V.$$typeof===L||V.$$typeof===P||V.$$typeof===z||V.$$typeof===T)}function F(V){if(typeof V=="object"&&V!==null){var We=V.$$typeof;switch(We){case e:var Me=V.type;switch(Me){case h:case y:case n:case i:case o:case x:return Me;default:var je=Me&&Me.$$typeof;switch(je){case u:case m:case B:case E:case c:return je;default:return We}}case t:return We}}}var R=h,H=y,q=u,G=c,he=e,ve=m,ye=n,xe=B,I=E,l=t,p=i,b=o,w=x,S=!1;function U(V){return S||(S=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),k(V)||F(V)===h}function k(V){return F(V)===y}function v(V){return F(V)===u}function d(V){return F(V)===c}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function Q(V){return F(V)===m}function $(V){return F(V)===n}function Z(V){return F(V)===B}function se(V){return F(V)===E}function ee(V){return F(V)===t}function ce(V){return F(V)===i}function Ae(V){return F(V)===o}function Ie(V){return F(V)===x}Le.AsyncMode=R,Le.ConcurrentMode=H,Le.ContextConsumer=q,Le.ContextProvider=G,Le.Element=he,Le.ForwardRef=ve,Le.Fragment=ye,Le.Lazy=xe,Le.Memo=I,Le.Portal=l,Le.Profiler=p,Le.StrictMode=b,Le.Suspense=w,Le.isAsyncMode=U,Le.isConcurrentMode=k,Le.isContextConsumer=v,Le.isContextProvider=d,Le.isElement=M,Le.isForwardRef=Q,Le.isFragment=$,Le.isLazy=Z,Le.isMemo=se,Le.isPortal=ee,Le.isProfiler=ce,Le.isStrictMode=Ae,Le.isSuspense=Ie,Le.isValidElementType=N,Le.typeOf=F}()),Le}var Ra;function La(){return Ra||(Ra=1,function(r){process.env.NODE_ENV==="production"?r.exports=zl():r.exports=Hl()}(mo)),mo.exports}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var bo,Ua;function Wl(){if(Ua)return bo;Ua=1;var r=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function n(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function o(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var c={},u=0;u<10;u++)c["_"+String.fromCharCode(u)]=u;var h=Object.getOwnPropertyNames(c).map(function(m){return c[m]});if(h.join("")!=="0123456789")return!1;var y={};return"abcdefghijklmnopqrst".split("").forEach(function(m){y[m]=m}),Object.keys(Object.assign({},y)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return bo=o()?Object.assign:function(i,c){for(var u,h=n(i),y,m=1;m<arguments.length;m++){u=Object(arguments[m]);for(var x in u)e.call(u,x)&&(h[x]=u[x]);if(r){y=r(u);for(var C=0;C<y.length;C++)t.call(u,y[C])&&(h[y[C]]=u[y[C]])}}return h},bo}var vo,Da;function Ao(){if(Da)return vo;Da=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vo=r,vo}var Eo,Pa;function Fa(){return Pa||(Pa=1,Eo=Function.call.bind(Object.prototype.hasOwnProperty)),Eo}var xo,za;function jl(){if(za)return xo;za=1;var r=function(){};if(process.env.NODE_ENV!=="production"){var e=Ao(),t={},n=Fa();r=function(i){var c="Warning: "+i;typeof console<"u"&&console.error(c);try{throw new Error(c)}catch{}}}function o(i,c,u,h,y){if(process.env.NODE_ENV!=="production"){for(var m in i)if(n(i,m)){var x;try{if(typeof i[m]!="function"){var C=Error((h||"React class")+": "+u+" type `"+m+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof i[m]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw C.name="Invariant Violation",C}x=i[m](c,m,h,u,null,e)}catch(B){x=B}if(x&&!(x instanceof Error)&&r((h||"React class")+": type specification of "+u+" `"+m+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof x+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),x instanceof Error&&!(x.message in t)){t[x.message]=!0;var E=y?y():"";r("Failed "+u+" type: "+x.message+(E!=null?E:""))}}}}return o.resetWarningCache=function(){process.env.NODE_ENV!=="production"&&(t={})},xo=o,xo}var So,Ha;function ql(){if(Ha)return So;Ha=1;var r=La(),e=Wl(),t=Ao(),n=Fa(),o=jl(),i=function(){};process.env.NODE_ENV!=="production"&&(i=function(u){var h="Warning: "+u;typeof console<"u"&&console.error(h);try{throw new Error(h)}catch{}});function c(){return null}return So=function(u,h){var y=typeof Symbol=="function"&&Symbol.iterator,m="@@iterator";function x(k){var v=k&&(y&&k[y]||k[m]);if(typeof v=="function")return v}var C="<<anonymous>>",E={array:P("array"),bigint:P("bigint"),bool:P("boolean"),func:P("function"),number:P("number"),object:P("object"),string:P("string"),symbol:P("symbol"),any:z(),arrayOf:N,element:F(),elementType:R(),instanceOf:H,node:ve(),objectOf:G,oneOf:q,oneOfType:he,shape:xe,exact:I};function B(k,v){return k===v?k!==0||1/k===1/v:k!==k&&v!==v}function T(k,v){this.message=k,this.data=v&&typeof v=="object"?v:{},this.stack=""}T.prototype=Error.prototype;function L(k){if(process.env.NODE_ENV!=="production")var v={},d=0;function M($,Z,se,ee,ce,Ae,Ie){if(ee=ee||C,Ae=Ae||se,Ie!==t){if(h){var V=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw V.name="Invariant Violation",V}else if(process.env.NODE_ENV!=="production"&&typeof console<"u"){var We=ee+":"+se;!v[We]&&d<3&&(i("You are manually calling a React.PropTypes validation function for the `"+Ae+"` prop on `"+ee+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),v[We]=!0,d++)}}return Z[se]==null?$?Z[se]===null?new T("The "+ce+" `"+Ae+"` is marked as required "+("in `"+ee+"`, but its value is `null`.")):new T("The "+ce+" `"+Ae+"` is marked as required in "+("`"+ee+"`, but its value is `undefined`.")):null:k(Z,se,ee,ce,Ae)}var Q=M.bind(null,!1);return Q.isRequired=M.bind(null,!0),Q}function P(k){function v(d,M,Q,$,Z,se){var ee=d[M],ce=b(ee);if(ce!==k){var Ae=w(ee);return new T("Invalid "+$+" `"+Z+"` of type "+("`"+Ae+"` supplied to `"+Q+"`, expected ")+("`"+k+"`."),{expectedType:k})}return null}return L(v)}function z(){return L(c)}function N(k){function v(d,M,Q,$,Z){if(typeof k!="function")return new T("Property `"+Z+"` of component `"+Q+"` has invalid PropType notation inside arrayOf.");var se=d[M];if(!Array.isArray(se)){var ee=b(se);return new T("Invalid "+$+" `"+Z+"` of type "+("`"+ee+"` supplied to `"+Q+"`, expected an array."))}for(var ce=0;ce<se.length;ce++){var Ae=k(se,ce,Q,$,Z+"["+ce+"]",t);if(Ae instanceof Error)return Ae}return null}return L(v)}function F(){function k(v,d,M,Q,$){var Z=v[d];if(!u(Z)){var se=b(Z);return new T("Invalid "+Q+" `"+$+"` of type "+("`"+se+"` supplied to `"+M+"`, expected a single ReactElement."))}return null}return L(k)}function R(){function k(v,d,M,Q,$){var Z=v[d];if(!r.isValidElementType(Z)){var se=b(Z);return new T("Invalid "+Q+" `"+$+"` of type "+("`"+se+"` supplied to `"+M+"`, expected a single ReactElement type."))}return null}return L(k)}function H(k){function v(d,M,Q,$,Z){if(!(d[M]instanceof k)){var se=k.name||C,ee=U(d[M]);return new T("Invalid "+$+" `"+Z+"` of type "+("`"+ee+"` supplied to `"+Q+"`, expected ")+("instance of `"+se+"`."))}return null}return L(v)}function q(k){if(!Array.isArray(k))return process.env.NODE_ENV!=="production"&&(arguments.length>1?i("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):i("Invalid argument supplied to oneOf, expected an array.")),c;function v(d,M,Q,$,Z){for(var se=d[M],ee=0;ee<k.length;ee++)if(B(se,k[ee]))return null;var ce=JSON.stringify(k,function(Ie,V){var We=w(V);return We==="symbol"?String(V):V});return new T("Invalid "+$+" `"+Z+"` of value `"+String(se)+"` "+("supplied to `"+Q+"`, expected one of "+ce+"."))}return L(v)}function G(k){function v(d,M,Q,$,Z){if(typeof k!="function")return new T("Property `"+Z+"` of component `"+Q+"` has invalid PropType notation inside objectOf.");var se=d[M],ee=b(se);if(ee!=="object")return new T("Invalid "+$+" `"+Z+"` of type "+("`"+ee+"` supplied to `"+Q+"`, expected an object."));for(var ce in se)if(n(se,ce)){var Ae=k(se,ce,Q,$,Z+"."+ce,t);if(Ae instanceof Error)return Ae}return null}return L(v)}function he(k){if(!Array.isArray(k))return process.env.NODE_ENV!=="production"&&i("Invalid argument supplied to oneOfType, expected an instance of array."),c;for(var v=0;v<k.length;v++){var d=k[v];if(typeof d!="function")return i("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+S(d)+" at index "+v+"."),c}function M(Q,$,Z,se,ee){for(var ce=[],Ae=0;Ae<k.length;Ae++){var Ie=k[Ae],V=Ie(Q,$,Z,se,ee,t);if(V==null)return null;V.data&&n(V.data,"expectedType")&&ce.push(V.data.expectedType)}var We=ce.length>0?", expected one of type ["+ce.join(", ")+"]":"";return new T("Invalid "+se+" `"+ee+"` supplied to "+("`"+Z+"`"+We+"."))}return L(M)}function ve(){function k(v,d,M,Q,$){return l(v[d])?null:new T("Invalid "+Q+" `"+$+"` supplied to "+("`"+M+"`, expected a ReactNode."))}return L(k)}function ye(k,v,d,M,Q){return new T((k||"React class")+": "+v+" type `"+d+"."+M+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+Q+"`.")}function xe(k){function v(d,M,Q,$,Z){var se=d[M],ee=b(se);if(ee!=="object")return new T("Invalid "+$+" `"+Z+"` of type `"+ee+"` "+("supplied to `"+Q+"`, expected `object`."));for(var ce in k){var Ae=k[ce];if(typeof Ae!="function")return ye(Q,$,Z,ce,w(Ae));var Ie=Ae(se,ce,Q,$,Z+"."+ce,t);if(Ie)return Ie}return null}return L(v)}function I(k){function v(d,M,Q,$,Z){var se=d[M],ee=b(se);if(ee!=="object")return new T("Invalid "+$+" `"+Z+"` of type `"+ee+"` "+("supplied to `"+Q+"`, expected `object`."));var ce=e({},d[M],k);for(var Ae in ce){var Ie=k[Ae];if(n(k,Ae)&&typeof Ie!="function")return ye(Q,$,Z,Ae,w(Ie));if(!Ie)return new T("Invalid "+$+" `"+Z+"` key `"+Ae+"` supplied to `"+Q+"`.\nBad object: "+JSON.stringify(d[M],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(k),null,"  "));var V=Ie(se,Ae,Q,$,Z+"."+Ae,t);if(V)return V}return null}return L(v)}function l(k){switch(typeof k){case"number":case"string":case"undefined":return!0;case"boolean":return!k;case"object":if(Array.isArray(k))return k.every(l);if(k===null||u(k))return!0;var v=x(k);if(v){var d=v.call(k),M;if(v!==k.entries){for(;!(M=d.next()).done;)if(!l(M.value))return!1}else for(;!(M=d.next()).done;){var Q=M.value;if(Q&&!l(Q[1]))return!1}}else return!1;return!0;default:return!1}}function p(k,v){return k==="symbol"?!0:v?v["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&v instanceof Symbol:!1}function b(k){var v=typeof k;return Array.isArray(k)?"array":k instanceof RegExp?"object":p(v,k)?"symbol":v}function w(k){if(typeof k>"u"||k===null)return""+k;var v=b(k);if(v==="object"){if(k instanceof Date)return"date";if(k instanceof RegExp)return"regexp"}return v}function S(k){var v=w(k);switch(v){case"array":case"object":return"an "+v;case"boolean":case"date":case"regexp":return"a "+v;default:return v}}function U(k){return!k.constructor||!k.constructor.name?C:k.constructor.name}return E.checkPropTypes=o,E.resetWarningCache=o.resetWarningCache,E.PropTypes=E,E},So}var Io,Wa;function Gl(){if(Wa)return Io;Wa=1;var r=Ao();function e(){}function t(){}return t.resetWarningCache=e,Io=function(){function n(c,u,h,y,m,x){if(x!==r){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}n.isRequired=n;function o(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return i.PropTypes=i,i},Io}if(process.env.NODE_ENV!=="production"){var Ql=La(),Kl=!0;li.exports=ql()(Ql.isElement,Kl)}else li.exports=Gl()();var _o={exports:{}},rn={},fi={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=m;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var t="none",n="contents",o=/input|select|textarea|button|object|iframe/;function i(x,C){return C.getPropertyValue("overflow")!=="visible"||x.scrollWidth<=0&&x.scrollHeight<=0}function c(x){var C=x.offsetWidth<=0&&x.offsetHeight<=0;if(C&&!x.innerHTML)return!0;try{var E=window.getComputedStyle(x),B=E.getPropertyValue("display");return C?B!==n&&i(x,E):B===t}catch{return console.warn("Failed to inspect element style"),!1}}function u(x){for(var C=x,E=x.getRootNode&&x.getRootNode();C&&C!==document.body;){if(E&&C===E&&(C=E.host.parentNode),c(C))return!1;C=C.parentNode}return!0}function h(x,C){var E=x.nodeName.toLowerCase(),B=o.test(E)&&!x.disabled||E==="a"&&x.href||C;return B&&u(x)}function y(x){var C=x.getAttribute("tabindex");C===null&&(C=void 0);var E=isNaN(C);return(E||C>=0)&&h(x,!E)}function m(x){var C=[].slice.call(x.querySelectorAll("*"),0).reduce(function(E,B){return E.concat(B.shadowRoot?m(B.shadowRoot):[B])},[]);return C.filter(y)}r.exports=e.default})(fi,fi.exports),Object.defineProperty(rn,"__esModule",{value:!0}),rn.resetState=$l,rn.log=Jl,rn.handleBlur=Cr,rn.handleFocus=kr,rn.markForFocusLater=Xl,rn.returnFocus=ef,rn.popWithoutFocus=tf,rn.setupScopedFocus=nf,rn.teardownScopedFocus=rf;var Yl=fi.exports,Vl=Zl(Yl);function Zl(r){return r&&r.__esModule?r:{default:r}}var zn=[],or=null,Mo=!1;function $l(){zn=[]}function Jl(){process.env.NODE_ENV!=="production"&&(console.log("focusManager ----------"),zn.forEach(function(r){var e=r||{};console.log(e.nodeName,e.className,e.id)}),console.log("end focusManager ----------"))}function Cr(){Mo=!0}function kr(){if(Mo){if(Mo=!1,!or)return;setTimeout(function(){if(!or.contains(document.activeElement)){var r=(0,Vl.default)(or)[0]||or;r.focus()}},0)}}function Xl(){zn.push(document.activeElement)}function ef(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{zn.length!==0&&(e=zn.pop(),e.focus({preventScroll:r}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function tf(){zn.length>0&&zn.pop()}function nf(r){or=r,window.addEventListener?(window.addEventListener("blur",Cr,!1),document.addEventListener("focus",kr,!0)):(window.attachEvent("onBlur",Cr),document.attachEvent("onFocus",kr))}function rf(){or=null,window.addEventListener?(window.removeEventListener("blur",Cr),document.removeEventListener("focus",kr)):(window.detachEvent("onBlur",Cr),document.detachEvent("onFocus",kr))}var Bo={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var t=fi.exports,n=o(t);function o(u){return u&&u.__esModule?u:{default:u}}function i(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return u.activeElement.shadowRoot?i(u.activeElement.shadowRoot):u.activeElement}function c(u,h){var y=(0,n.default)(u);if(!y.length){h.preventDefault();return}var m=void 0,x=h.shiftKey,C=y[0],E=y[y.length-1],B=i();if(u===B){if(!x)return;m=E}if(E===B&&!x&&(m=C),C===B&&x&&(m=E),m){h.preventDefault(),m.focus();return}var T=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),L=T!=null&&T[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(!!L){var P=y.indexOf(B);if(P>-1&&(P+=x?-1:1),m=y[P],typeof m>"u"){h.preventDefault(),m=x?E:C,m.focus();return}h.preventDefault(),m.focus()}}r.exports=e.default})(Bo,Bo.exports);var on={},of=process.env.NODE_ENV!=="production",ja=function(){};if(of){var sf=function(e,t){var n=arguments.length;t=new Array(n>1?n-1:0);for(var o=1;o<n;o++)t[o-1]=arguments[o];var i=0,c="Warning: "+e.replace(/%s/g,function(){return t[i++]});typeof console<"u"&&console.error(c);try{throw new Error(c)}catch{}};ja=function(r,e,t){var n=arguments.length;t=new Array(n>2?n-2:0);for(var o=2;o<n;o++)t[o-2]=arguments[o];if(e===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");r||sf.apply(null,[e].concat(t))}}var af=ja,sn={},qa={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(r){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};r.exports?r.exports=t:window.ExecutionEnvironment=t})()})(qa),Object.defineProperty(sn,"__esModule",{value:!0}),sn.canUseDOM=sn.SafeNodeList=sn.SafeHTMLCollection=void 0;var cf=qa.exports,uf=lf(cf);function lf(r){return r&&r.__esModule?r:{default:r}}var hi=uf.default,ff=hi.canUseDOM?window.HTMLElement:{};sn.SafeHTMLCollection=hi.canUseDOM?window.HTMLCollection:{},sn.SafeNodeList=hi.canUseDOM?window.NodeList:{},sn.canUseDOM=hi.canUseDOM,sn.default=ff,Object.defineProperty(on,"__esModule",{value:!0}),on.resetState=yf,on.log=wf,on.assertNodeList=Ga,on.setElement=mf,on.validateElement=To,on.hide=bf,on.show=vf,on.documentNotReadyOrSSRTesting=Af;var hf=af,df=gf(hf),pf=sn;function gf(r){return r&&r.__esModule?r:{default:r}}var jt=null;function yf(){jt&&(jt.removeAttribute?jt.removeAttribute("aria-hidden"):jt.length!=null?jt.forEach(function(r){return r.removeAttribute("aria-hidden")}):document.querySelectorAll(jt).forEach(function(r){return r.removeAttribute("aria-hidden")})),jt=null}function wf(){if(process.env.NODE_ENV!=="production"){var r=jt||{};console.log("ariaAppHider ----------"),console.log(r.nodeName,r.className,r.id),console.log("end ariaAppHider ----------")}}function Ga(r,e){if(!r||!r.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function mf(r){var e=r;if(typeof e=="string"&&pf.canUseDOM){var t=document.querySelectorAll(e);Ga(t,e),e=t}return jt=e||jt,jt}function To(r){var e=r||jt;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,df.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function bf(r){var e=!0,t=!1,n=void 0;try{for(var o=To(r)[Symbol.iterator](),i;!(e=(i=o.next()).done);e=!0){var c=i.value;c.setAttribute("aria-hidden","true")}}catch(u){t=!0,n=u}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}}function vf(r){var e=!0,t=!1,n=void 0;try{for(var o=To(r)[Symbol.iterator](),i;!(e=(i=o.next()).done);e=!0){var c=i.value;c.removeAttribute("aria-hidden")}}catch(u){t=!0,n=u}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}}function Af(){jt=null}var sr={};Object.defineProperty(sr,"__esModule",{value:!0}),sr.resetState=Ef,sr.log=xf;var Hn={},Wn={};function Qa(r,e){r.classList.remove(e)}function Ef(){var r=document.getElementsByTagName("html")[0];for(var e in Hn)Qa(r,Hn[e]);var t=document.body;for(var n in Wn)Qa(t,Wn[n]);Hn={},Wn={}}function xf(){if(process.env.NODE_ENV!=="production"){var r=document.getElementsByTagName("html")[0].className,e=`Show tracked classes:

`;e+="<html /> ("+r+`):
  `;for(var t in Hn)e+="  "+t+" "+Hn[t]+`
  `;r=document.body.className,e+=`

doc.body (`+r+`):
  `;for(var n in Wn)e+="  "+n+" "+Wn[n]+`
  `;e+=`
`,console.log(e)}}var Sf=function(e,t){return e[t]||(e[t]=0),e[t]+=1,t},If=function(e,t){return e[t]&&(e[t]-=1),t},_f=function(e,t,n){n.forEach(function(o){Sf(t,o),e.add(o)})},Mf=function(e,t,n){n.forEach(function(o){If(t,o),t[o]===0&&e.remove(o)})};sr.add=function(e,t){return _f(e.classList,e.nodeName.toLowerCase()=="html"?Hn:Wn,t.split(" "))},sr.remove=function(e,t){return Mf(e.classList,e.nodeName.toLowerCase()=="html"?Hn:Wn,t.split(" "))};var ar={};Object.defineProperty(ar,"__esModule",{value:!0}),ar.log=Tf,ar.resetState=Cf;function Bf(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var Ka=function r(){var e=this;Bf(this,r),this.register=function(t){if(e.openInstances.indexOf(t)!==-1){process.env.NODE_ENV!=="production"&&console.warn("React-Modal: Cannot register modal instance that's already open");return}e.openInstances.push(t),e.emit("register")},this.deregister=function(t){var n=e.openInstances.indexOf(t);if(n===-1){process.env.NODE_ENV!=="production"&&console.warn("React-Modal: Unable to deregister "+t+" as it was never registered");return}e.openInstances.splice(n,1),e.emit("deregister")},this.subscribe=function(t){e.subscribers.push(t)},this.emit=function(t){e.subscribers.forEach(function(n){return n(t,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},di=new Ka;function Tf(){console.log("portalOpenInstances ----------"),console.log(di.openInstances.length),di.openInstances.forEach(function(r){return console.log(r)}),console.log("end portalOpenInstances ----------")}function Cf(){di=new Ka}ar.default=di;var Co={};Object.defineProperty(Co,"__esModule",{value:!0}),Co.resetState=Rf,Co.log=Lf;var kf=ar,Nf=Of(kf);function Of(r){return r&&r.__esModule?r:{default:r}}var Nt=void 0,an=void 0,jn=[];function Rf(){for(var r=[Nt,an],e=0;e<r.length;e++){var t=r[e];!t||t.parentNode&&t.parentNode.removeChild(t)}Nt=an=null,jn=[]}function Lf(){console.log("bodyTrap ----------"),console.log(jn.length);for(var r=[Nt,an],e=0;e<r.length;e++){var t=r[e],n=t||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")}function Ya(){if(jn.length===0){process.env.NODE_ENV!=="production"&&console.warn("React-Modal: Open instances > 0 expected");return}jn[jn.length-1].focusContent()}function Uf(r,e){!Nt&&!an&&(Nt=document.createElement("div"),Nt.setAttribute("data-react-modal-body-trap",""),Nt.style.position="absolute",Nt.style.opacity="0",Nt.setAttribute("tabindex","0"),Nt.addEventListener("focus",Ya),an=Nt.cloneNode(),an.addEventListener("focus",Ya)),jn=e,jn.length>0?(document.body.firstChild!==Nt&&document.body.insertBefore(Nt,document.body.firstChild),document.body.lastChild!==an&&document.body.appendChild(an)):(Nt.parentElement&&Nt.parentElement.removeChild(Nt),an.parentElement&&an.parentElement.removeChild(an))}Nf.default.subscribe(Uf),function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Object.assign||function(l){for(var p=1;p<arguments.length;p++){var b=arguments[p];for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(l[w]=b[w])}return l},n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},o=function(){function l(p,b){for(var w=0;w<b.length;w++){var S=b[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}return function(p,b,w){return b&&l(p.prototype,b),w&&l(p,w),p}}(),i=D.default,c=li.exports,u=R(c),h=rn,y=F(h),m=Bo.exports,x=R(m),C=on,E=F(C),B=sr,T=F(B),L=sn,P=R(L),z=ar,N=R(z);function F(l){if(l&&l.__esModule)return l;var p={};if(l!=null)for(var b in l)Object.prototype.hasOwnProperty.call(l,b)&&(p[b]=l[b]);return p.default=l,p}function R(l){return l&&l.__esModule?l:{default:l}}function H(l,p){if(!(l instanceof p))throw new TypeError("Cannot call a class as a function")}function q(l,p){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:l}function G(l,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);l.prototype=Object.create(p&&p.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(l,p):l.__proto__=p)}var he={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},ve=function(p){return p.code==="Tab"||p.keyCode===9},ye=function(p){return p.code==="Escape"||p.keyCode===27},xe=0,I=function(l){G(p,l);function p(b){H(this,p);var w=q(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,b));return w.setOverlayRef=function(S){w.overlay=S,w.props.overlayRef&&w.props.overlayRef(S)},w.setContentRef=function(S){w.content=S,w.props.contentRef&&w.props.contentRef(S)},w.afterClose=function(){var S=w.props,U=S.appElement,k=S.ariaHideApp,v=S.htmlOpenClassName,d=S.bodyOpenClassName,M=S.parentSelector,Q=M&&M().ownerDocument||document;d&&T.remove(Q.body,d),v&&T.remove(Q.getElementsByTagName("html")[0],v),k&&xe>0&&(xe-=1,xe===0&&E.show(U)),w.props.shouldFocusAfterRender&&(w.props.shouldReturnFocusAfterClose?(y.returnFocus(w.props.preventScroll),y.teardownScopedFocus()):y.popWithoutFocus()),w.props.onAfterClose&&w.props.onAfterClose(),N.default.deregister(w)},w.open=function(){w.beforeOpen(),w.state.afterOpen&&w.state.beforeClose?(clearTimeout(w.closeTimer),w.setState({beforeClose:!1})):(w.props.shouldFocusAfterRender&&(y.setupScopedFocus(w.node),y.markForFocusLater()),w.setState({isOpen:!0},function(){w.openAnimationFrame=requestAnimationFrame(function(){w.setState({afterOpen:!0}),w.props.isOpen&&w.props.onAfterOpen&&w.props.onAfterOpen({overlayEl:w.overlay,contentEl:w.content})})}))},w.close=function(){w.props.closeTimeoutMS>0?w.closeWithTimeout():w.closeWithoutTimeout()},w.focusContent=function(){return w.content&&!w.contentHasFocus()&&w.content.focus({preventScroll:!0})},w.closeWithTimeout=function(){var S=Date.now()+w.props.closeTimeoutMS;w.setState({beforeClose:!0,closesAt:S},function(){w.closeTimer=setTimeout(w.closeWithoutTimeout,w.state.closesAt-Date.now())})},w.closeWithoutTimeout=function(){w.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},w.afterClose)},w.handleKeyDown=function(S){ve(S)&&(0,x.default)(w.content,S),w.props.shouldCloseOnEsc&&ye(S)&&(S.stopPropagation(),w.requestClose(S))},w.handleOverlayOnClick=function(S){w.shouldClose===null&&(w.shouldClose=!0),w.shouldClose&&w.props.shouldCloseOnOverlayClick&&(w.ownerHandlesClose()?w.requestClose(S):w.focusContent()),w.shouldClose=null},w.handleContentOnMouseUp=function(){w.shouldClose=!1},w.handleOverlayOnMouseDown=function(S){!w.props.shouldCloseOnOverlayClick&&S.target==w.overlay&&S.preventDefault()},w.handleContentOnClick=function(){w.shouldClose=!1},w.handleContentOnMouseDown=function(){w.shouldClose=!1},w.requestClose=function(S){return w.ownerHandlesClose()&&w.props.onRequestClose(S)},w.ownerHandlesClose=function(){return w.props.onRequestClose},w.shouldBeClosed=function(){return!w.state.isOpen&&!w.state.beforeClose},w.contentHasFocus=function(){return document.activeElement===w.content||w.content.contains(document.activeElement)},w.buildClassName=function(S,U){var k=(typeof U>"u"?"undefined":n(U))==="object"?U:{base:he[S],afterOpen:he[S]+"--after-open",beforeClose:he[S]+"--before-close"},v=k.base;return w.state.afterOpen&&(v=v+" "+k.afterOpen),w.state.beforeClose&&(v=v+" "+k.beforeClose),typeof U=="string"&&U?v+" "+U:v},w.attributesFromObject=function(S,U){return Object.keys(U).reduce(function(k,v){return k[S+"-"+v]=U[v],k},{})},w.state={afterOpen:!1,beforeClose:!1},w.shouldClose=null,w.moveFromContentToOverlay=null,w}return o(p,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(w,S){process.env.NODE_ENV!=="production"&&(w.bodyOpenClassName!==this.props.bodyOpenClassName&&console.warn('React-Modal: "bodyOpenClassName" prop has been modified. This may cause unexpected behavior when multiple modals are open.'),w.htmlOpenClassName!==this.props.htmlOpenClassName&&console.warn('React-Modal: "htmlOpenClassName" prop has been modified. This may cause unexpected behavior when multiple modals are open.')),this.props.isOpen&&!w.isOpen?this.open():!this.props.isOpen&&w.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!S.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var w=this.props,S=w.appElement,U=w.ariaHideApp,k=w.htmlOpenClassName,v=w.bodyOpenClassName,d=w.parentSelector,M=d&&d().ownerDocument||document;v&&T.add(M.body,v),k&&T.add(M.getElementsByTagName("html")[0],k),U&&(xe+=1,E.hide(S)),N.default.register(this)}},{key:"render",value:function(){var w=this.props,S=w.id,U=w.className,k=w.overlayClassName,v=w.defaultStyles,d=w.children,M=U?{}:v.content,Q=k?{}:v.overlay;if(this.shouldBeClosed())return null;var $={ref:this.setOverlayRef,className:this.buildClassName("overlay",k),style:t({},Q,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Z=t({id:S,ref:this.setContentRef,style:t({},M,this.props.style.content),className:this.buildClassName("content",U),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",t({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),se=this.props.contentElement(Z,d);return this.props.overlayElement($,se)}}]),p}(i.Component);I.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},I.propTypes={isOpen:u.default.bool.isRequired,defaultStyles:u.default.shape({content:u.default.object,overlay:u.default.object}),style:u.default.shape({content:u.default.object,overlay:u.default.object}),className:u.default.oneOfType([u.default.string,u.default.object]),overlayClassName:u.default.oneOfType([u.default.string,u.default.object]),parentSelector:u.default.func,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,ariaHideApp:u.default.bool,appElement:u.default.oneOfType([u.default.instanceOf(P.default),u.default.instanceOf(L.SafeHTMLCollection),u.default.instanceOf(L.SafeNodeList),u.default.arrayOf(u.default.instanceOf(P.default))]),onAfterOpen:u.default.func,onAfterClose:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,preventScroll:u.default.bool,role:u.default.string,contentLabel:u.default.string,aria:u.default.object,data:u.default.object,children:u.default.node,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,overlayElement:u.default.func,contentElement:u.default.func,testId:u.default.string},e.default=I,r.exports=e.default}(_o,_o.exports);function Va(){var r=this.constructor.getDerivedStateFromProps(this.props,this.state);r!=null&&this.setState(r)}function Za(r){function e(t){var n=this.constructor.getDerivedStateFromProps(r,t);return n!=null?n:null}this.setState(e.bind(this))}function $a(r,e){try{var t=this.props,n=this.state;this.props=r,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,n)}finally{this.props=t,this.state=n}}Va.__suppressDeprecationWarning=!0,Za.__suppressDeprecationWarning=!0,$a.__suppressDeprecationWarning=!0;function Df(r){var e=r.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof r.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return r;var t=null,n=null,o=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?o="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),t!==null||n!==null||o!==null){var i=r.displayName||r.name,c=typeof r.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+c+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(n!==null?`
  `+n:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof r.getDerivedStateFromProps=="function"&&(e.componentWillMount=Va,e.componentWillReceiveProps=Za),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=$a;var u=e.componentDidUpdate;e.componentDidUpdate=function(y,m,x){var C=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:x;u.call(this,y,m,C)}}return r}const Pf=ui(Object.freeze(Object.defineProperty({__proto__:null,polyfill:Df},Symbol.toStringTag,{value:"Module"})));Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.bodyOpenClassName=Fn.portalClassName=void 0;var Ja=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Ff=function(){function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),Xa=D.default,pi=Nr(Xa),zf=Bl.default,gi=Nr(zf),Hf=li.exports,be=Nr(Hf),Wf=_o.exports,ec=Nr(Wf),jf=on,qf=Qf(jf),En=sn,tc=Nr(En),Gf=Pf;function Qf(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function Nr(r){return r&&r.__esModule?r:{default:r}}function Kf(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function nc(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:r}function Yf(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}var Vf=Fn.portalClassName="ReactModalPortal",Zf=Fn.bodyOpenClassName="ReactModal__Body--open",qn=En.canUseDOM&&gi.default.createPortal!==void 0,ko=function(e){return document.createElement(e)},rc=function(){return qn?gi.default.createPortal:gi.default.unstable_renderSubtreeIntoContainer};function yi(r){return r()}var cr=function(r){Yf(e,r);function e(){var t,n,o,i;Kf(this,e);for(var c=arguments.length,u=Array(c),h=0;h<c;h++)u[h]=arguments[h];return i=(n=(o=nc(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),o),o.removePortal=function(){!qn&&gi.default.unmountComponentAtNode(o.node);var y=yi(o.props.parentSelector);y&&y.contains(o.node)?y.removeChild(o.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},o.portalRef=function(y){o.portal=y},o.renderPortal=function(y){var m=rc(),x=m(o,pi.default.createElement(ec.default,Ja({defaultStyles:e.defaultStyles},y)),o.node);o.portalRef(x)},n),nc(o,i)}return Ff(e,[{key:"componentDidMount",value:function(){if(!!En.canUseDOM){qn||(this.node=ko("div")),this.node.className=this.props.portalClassName;var n=yi(this.props.parentSelector);n.appendChild(this.node),!qn&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(n){var o=yi(n.parentSelector),i=yi(this.props.parentSelector);return{prevParent:o,nextParent:i}}},{key:"componentDidUpdate",value:function(n,o,i){if(!!En.canUseDOM){var c=this.props,u=c.isOpen,h=c.portalClassName;n.portalClassName!==h&&(this.node.className=h);var y=i.prevParent,m=i.nextParent;m!==y&&(y.removeChild(this.node),m.appendChild(this.node)),!(!n.isOpen&&!u)&&!qn&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!En.canUseDOM||!this.node||!this.portal)){var n=this.portal.state,o=Date.now(),i=n.isOpen&&this.props.closeTimeoutMS&&(n.closesAt||o+this.props.closeTimeoutMS);i?(n.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,i-o)):this.removePortal()}}},{key:"render",value:function(){if(!En.canUseDOM||!qn)return null;!this.node&&qn&&(this.node=ko("div"));var n=rc();return n(pi.default.createElement(ec.default,Ja({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(n){qf.setElement(n)}}]),e}(Xa.Component);cr.propTypes={isOpen:be.default.bool.isRequired,style:be.default.shape({content:be.default.object,overlay:be.default.object}),portalClassName:be.default.string,bodyOpenClassName:be.default.string,htmlOpenClassName:be.default.string,className:be.default.oneOfType([be.default.string,be.default.shape({base:be.default.string.isRequired,afterOpen:be.default.string.isRequired,beforeClose:be.default.string.isRequired})]),overlayClassName:be.default.oneOfType([be.default.string,be.default.shape({base:be.default.string.isRequired,afterOpen:be.default.string.isRequired,beforeClose:be.default.string.isRequired})]),appElement:be.default.oneOfType([be.default.instanceOf(tc.default),be.default.instanceOf(En.SafeHTMLCollection),be.default.instanceOf(En.SafeNodeList),be.default.arrayOf(be.default.instanceOf(tc.default))]),onAfterOpen:be.default.func,onRequestClose:be.default.func,closeTimeoutMS:be.default.number,ariaHideApp:be.default.bool,shouldFocusAfterRender:be.default.bool,shouldCloseOnOverlayClick:be.default.bool,shouldReturnFocusAfterClose:be.default.bool,preventScroll:be.default.bool,parentSelector:be.default.func,aria:be.default.object,data:be.default.object,role:be.default.string,contentLabel:be.default.string,shouldCloseOnEsc:be.default.bool,overlayRef:be.default.func,contentRef:be.default.func,id:be.default.string,overlayElement:be.default.func,contentElement:be.default.func},cr.defaultProps={isOpen:!1,portalClassName:Vf,bodyOpenClassName:Zf,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return pi.default.createElement("div",e,t)},contentElement:function(e,t){return pi.default.createElement("div",e,t)}},cr.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,Gf.polyfill)(cr),process.env.NODE_ENV!=="production"&&(cr.setCreateHTMLElement=function(r){return ko=r}),Fn.default=cr,function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Fn,n=o(t);function o(i){return i&&i.__esModule?i:{default:i}}e.default=n.default,r.exports=e.default}(wo,wo.exports);const $f=Fl(wo.exports);function ic({isOpen:r,onRequestClose:e,title:t,children:n}){return D.default.createElement($f,{appElement:document.body,isOpen:r,onRequestClose:e,contentLabel:"Open in Phantom Mobile App Modal",overlayClassName:"hypeday-modal-overlay",className:"hypeday-modal-content"},t&&D.default.createElement("h3",{className:"hypeday-h3"},t),D.default.createElement("div",{className:"hypeday-modal-close",onClick:e},"\xD7"),n)}function Jf({projectData:r,appId:e,hasUser:t,logger:n}){var E;const[o,i]=K.useState(!1),[c,u]=K.useState(!1),[h,y]=K.useState(""),{twitterData:m}=ci(),x=K.useMemo(()=>{var L,P;if(!((L=r==null?void 0:r.twitter)!=null&&L.enabled))return[];const{twitter:B}=r,T=[];if(B!=null&&B.isFollowRequired){const z=(P=B==null?void 0:B.follow)==null?void 0:P.split(","),N=D.default.createElement(D.default.Fragment,null,D.default.createElement("ul",{className:"hypeday-req-list"},z==null?void 0:z.map(F=>D.default.createElement("li",{key:F,className:"hypeday-req-list-item"},D.default.createElement("span",null,"Follow ",D.default.createElement("strong",null,"@",F)," on Twitter",D.default.createElement(tn,{required:!B.isFollowOptional})),D.default.createElement("a",{href:`https://twitter.com/${F.trim()}`,target:"_blank",rel:"noreferrer",className:"hypeday-button-gray"},"Follow")))));T.push(N)}if(B!=null&&B.isRetweetRequired){const z=D.default.createElement(D.default.Fragment,null,D.default.createElement("div",{className:"hypeday-req-list-item"},D.default.createElement("div",null,"Retweet"," ",D.default.createElement("a",{href:B.retweetUrl,className:"hypeday-a-text-decoration-none",target:"_blank",rel:"noreferrer"},D.default.createElement("strong",null,"this"))," ","on Twitter",D.default.createElement(tn,{required:!B.isRetweetOptional})),D.default.createElement("a",{href:B.retweetUrl,target:"_blank",rel:"noreferrer",className:"hypeday-button-gray"},"Retweet")));T.push(z)}if(B!=null&&B.isLikeRequired){const z=D.default.createElement(D.default.Fragment,null,D.default.createElement("div",{className:"hypeday-req-list-item"},D.default.createElement("div",null,"Like"," ",D.default.createElement("a",{href:B.likeUrl,className:"hypeday-a-text-decoration-none",target:"_blank",rel:"noreferrer"},D.default.createElement("strong",null,"this"))," ","on Twitter",D.default.createElement(tn,{required:!B.isLikeOptional})),D.default.createElement("a",{href:B.likeUrl,target:"_blank",rel:"noreferrer",className:"hypeday-button-gray"},"Like")));T.push(z)}if(B!=null&&B.isAccountCreatedRequired){const z=D.default.createElement(D.default.Fragment,null,"Have an account created before"," ",D.default.createElement("strong",null,new Date((B==null?void 0:B.accountCreated)||"").toLocaleDateString()),D.default.createElement(tn,{required:!B.isAccountCreatedOptional}));T.push(z)}if(B!=null&&B.isMinFollowersRequired){const z=D.default.createElement(D.default.Fragment,null,"Have at least ",D.default.createElement("b",null,B.minFollowers," follower(s)"),D.default.createElement(tn,{required:!B.isMinFollowersOptional}));T.push(z)}return T},[r]),C=async()=>{if(!(!e||!t||!(r!=null&&r.id)))try{i(!0);const{url:B}=await Ma({provider:"twitter",appId:e,projectId:r.id,returnUrl:window.location.href});ho()&&(window.open(B,"_blank"),window.open(B,"_blank")),window.location.assign(B)}catch(B){console.error(B),y(Ta(B)),n==null||n.error("HypeDayReact: Error getting Twitter oauth url","hype04",B)}finally{i(!1)}};return(E=r==null?void 0:r.twitter)!=null&&E.enabled?D.default.createElement(D.default.Fragment,null,D.default.createElement(ic,{isOpen:c,onRequestClose:()=>u(!1)},D.default.createElement("p",{className:"hypeday-modal-p"},"Next, you will be redirected to Twitter to complete the connection request. Please ignore the 'Open in the app' prompts and stay in the browser. Twitter app does not support establishing/authorizing connections in the app."),D.default.createElement("button",{className:"hypeday-button hypeday-modal-button",onClick:()=>{u(!1),C()}},"Ok")),D.default.createElement(po,{title:"Twitter",onClick:()=>{if(ho())return u(!0);C()},info:x,rightText:m==null?void 0:m.username,buttonDisabled:!t,isLoading:o,errorMessage:h})):null}var Ee={},Or={};Or.byteLength=th,Or.toByteArray=rh,Or.fromByteArray=sh;for(var hn=[],Yt=[],Xf=typeof Uint8Array<"u"?Uint8Array:Array,No="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ur=0,eh=No.length;ur<eh;++ur)hn[ur]=No[ur],Yt[No.charCodeAt(ur)]=ur;Yt["-".charCodeAt(0)]=62,Yt["_".charCodeAt(0)]=63;function oc(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function th(r){var e=oc(r),t=e[0],n=e[1];return(t+n)*3/4-n}function nh(r,e,t){return(e+t)*3/4-t}function rh(r){var e,t=oc(r),n=t[0],o=t[1],i=new Xf(nh(r,n,o)),c=0,u=o>0?n-4:n,h;for(h=0;h<u;h+=4)e=Yt[r.charCodeAt(h)]<<18|Yt[r.charCodeAt(h+1)]<<12|Yt[r.charCodeAt(h+2)]<<6|Yt[r.charCodeAt(h+3)],i[c++]=e>>16&255,i[c++]=e>>8&255,i[c++]=e&255;return o===2&&(e=Yt[r.charCodeAt(h)]<<2|Yt[r.charCodeAt(h+1)]>>4,i[c++]=e&255),o===1&&(e=Yt[r.charCodeAt(h)]<<10|Yt[r.charCodeAt(h+1)]<<4|Yt[r.charCodeAt(h+2)]>>2,i[c++]=e>>8&255,i[c++]=e&255),i}function ih(r){return hn[r>>18&63]+hn[r>>12&63]+hn[r>>6&63]+hn[r&63]}function oh(r,e,t){for(var n,o=[],i=e;i<t;i+=3)n=(r[i]<<16&16711680)+(r[i+1]<<8&65280)+(r[i+2]&255),o.push(ih(n));return o.join("")}function sh(r){for(var e,t=r.length,n=t%3,o=[],i=16383,c=0,u=t-n;c<u;c+=i)o.push(oh(r,c,c+i>u?u:c+i));return n===1?(e=r[t-1],o.push(hn[e>>2]+hn[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],o.push(hn[e>>10]+hn[e>>4&63]+hn[e<<2&63]+"=")),o.join("")}var wi={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */wi.read=function(r,e,t,n,o){var i,c,u=o*8-n-1,h=(1<<u)-1,y=h>>1,m=-7,x=t?o-1:0,C=t?-1:1,E=r[e+x];for(x+=C,i=E&(1<<-m)-1,E>>=-m,m+=u;m>0;i=i*256+r[e+x],x+=C,m-=8);for(c=i&(1<<-m)-1,i>>=-m,m+=n;m>0;c=c*256+r[e+x],x+=C,m-=8);if(i===0)i=1-y;else{if(i===h)return c?NaN:(E?-1:1)*(1/0);c=c+Math.pow(2,n),i=i-y}return(E?-1:1)*c*Math.pow(2,i-n)},wi.write=function(r,e,t,n,o,i){var c,u,h,y=i*8-o-1,m=(1<<y)-1,x=m>>1,C=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=n?0:i-1,B=n?1:-1,T=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,c=m):(c=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-c))<1&&(c--,h*=2),c+x>=1?e+=C/h:e+=C*Math.pow(2,1-x),e*h>=2&&(c++,h/=2),c+x>=m?(u=0,c=m):c+x>=1?(u=(e*h-1)*Math.pow(2,o),c=c+x):(u=e*Math.pow(2,x-1)*Math.pow(2,o),c=0));o>=8;r[t+E]=u&255,E+=B,u/=256,o-=8);for(c=c<<o|u,y+=o;y>0;r[t+E]=c&255,E+=B,c/=256,y-=8);r[t+E-B]|=T*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=Or,t=wi,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=u,r.SlowBuffer=z,r.INSPECT_MAX_BYTES=50;const o=2147483647;r.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=i(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const f=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(f,s),f.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function c(f){if(f>o)throw new RangeError('The value "'+f+'" is invalid for option "size"');const s=new Uint8Array(f);return Object.setPrototypeOf(s,u.prototype),s}function u(f,s,a){if(typeof f=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(f)}return h(f,s,a)}u.poolSize=8192;function h(f,s,a){if(typeof f=="string")return C(f,s);if(ArrayBuffer.isView(f))return B(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(Ke(f,ArrayBuffer)||f&&Ke(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ke(f,SharedArrayBuffer)||f&&Ke(f.buffer,SharedArrayBuffer)))return T(f,s,a);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const g=f.valueOf&&f.valueOf();if(g!=null&&g!==f)return u.from(g,s,a);const A=L(f);if(A)return A;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return u.from(f[Symbol.toPrimitive]("string"),s,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}u.from=function(f,s,a){return h(f,s,a)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function y(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function m(f,s,a){return y(f),f<=0?c(f):s!==void 0?typeof a=="string"?c(f).fill(s,a):c(f).fill(s):c(f)}u.alloc=function(f,s,a){return m(f,s,a)};function x(f){return y(f),c(f<0?0:P(f)|0)}u.allocUnsafe=function(f){return x(f)},u.allocUnsafeSlow=function(f){return x(f)};function C(f,s){if((typeof s!="string"||s==="")&&(s="utf8"),!u.isEncoding(s))throw new TypeError("Unknown encoding: "+s);const a=N(f,s)|0;let g=c(a);const A=g.write(f,s);return A!==a&&(g=g.slice(0,A)),g}function E(f){const s=f.length<0?0:P(f.length)|0,a=c(s);for(let g=0;g<s;g+=1)a[g]=f[g]&255;return a}function B(f){if(Ke(f,Uint8Array)){const s=new Uint8Array(f);return T(s.buffer,s.byteOffset,s.byteLength)}return E(f)}function T(f,s,a){if(s<0||f.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<s+(a||0))throw new RangeError('"length" is outside of buffer bounds');let g;return s===void 0&&a===void 0?g=new Uint8Array(f):a===void 0?g=new Uint8Array(f,s):g=new Uint8Array(f,s,a),Object.setPrototypeOf(g,u.prototype),g}function L(f){if(u.isBuffer(f)){const s=P(f.length)|0,a=c(s);return a.length===0||f.copy(a,0,0,s),a}if(f.length!==void 0)return typeof f.length!="number"||He(f.length)?c(0):E(f);if(f.type==="Buffer"&&Array.isArray(f.data))return E(f.data)}function P(f){if(f>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return f|0}function z(f){return+f!=f&&(f=0),u.alloc(+f)}u.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==u.prototype},u.compare=function(s,a){if(Ke(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),Ke(a,Uint8Array)&&(a=u.from(a,a.offset,a.byteLength)),!u.isBuffer(s)||!u.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===a)return 0;let g=s.length,A=a.length;for(let _=0,O=Math.min(g,A);_<O;++_)if(s[_]!==a[_]){g=s[_],A=a[_];break}return g<A?-1:A<g?1:0},u.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(s,a){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return u.alloc(0);let g;if(a===void 0)for(a=0,g=0;g<s.length;++g)a+=s[g].length;const A=u.allocUnsafe(a);let _=0;for(g=0;g<s.length;++g){let O=s[g];if(Ke(O,Uint8Array))_+O.length>A.length?(u.isBuffer(O)||(O=u.from(O)),O.copy(A,_)):Uint8Array.prototype.set.call(A,O,_);else if(u.isBuffer(O))O.copy(A,_);else throw new TypeError('"list" argument must be an Array of Buffers');_+=O.length}return A};function N(f,s){if(u.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||Ke(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);const a=f.length,g=arguments.length>2&&arguments[2]===!0;if(!g&&a===0)return 0;let A=!1;for(;;)switch(s){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return ze(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return qe(f).length;default:if(A)return g?-1:ze(f).length;s=(""+s).toLowerCase(),A=!0}}u.byteLength=N;function F(f,s,a){let g=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,s>>>=0,a<=s))return"";for(f||(f="utf8");;)switch(f){case"hex":return U(this,s,a);case"utf8":case"utf-8":return l(this,s,a);case"ascii":return w(this,s,a);case"latin1":case"binary":return S(this,s,a);case"base64":return I(this,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,s,a);default:if(g)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),g=!0}}u.prototype._isBuffer=!0;function R(f,s,a){const g=f[s];f[s]=f[a],f[a]=g}u.prototype.swap16=function(){const s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let a=0;a<s;a+=2)R(this,a,a+1);return this},u.prototype.swap32=function(){const s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let a=0;a<s;a+=4)R(this,a,a+3),R(this,a+1,a+2);return this},u.prototype.swap64=function(){const s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let a=0;a<s;a+=8)R(this,a,a+7),R(this,a+1,a+6),R(this,a+2,a+5),R(this,a+3,a+4);return this},u.prototype.toString=function(){const s=this.length;return s===0?"":arguments.length===0?l(this,0,s):F.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(s){if(!u.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:u.compare(this,s)===0},u.prototype.inspect=function(){let s="";const a=r.INSPECT_MAX_BYTES;return s=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(s+=" ... "),"<Buffer "+s+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(s,a,g,A,_){if(Ke(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),!u.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(a===void 0&&(a=0),g===void 0&&(g=s?s.length:0),A===void 0&&(A=0),_===void 0&&(_=this.length),a<0||g>s.length||A<0||_>this.length)throw new RangeError("out of range index");if(A>=_&&a>=g)return 0;if(A>=_)return-1;if(a>=g)return 1;if(a>>>=0,g>>>=0,A>>>=0,_>>>=0,this===s)return 0;let O=_-A,X=g-a;const oe=Math.min(O,X),ie=this.slice(A,_),we=s.slice(a,g);for(let te=0;te<oe;++te)if(ie[te]!==we[te]){O=ie[te],X=we[te];break}return O<X?-1:X<O?1:0};function H(f,s,a,g,A){if(f.length===0)return-1;if(typeof a=="string"?(g=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,He(a)&&(a=A?0:f.length-1),a<0&&(a=f.length+a),a>=f.length){if(A)return-1;a=f.length-1}else if(a<0)if(A)a=0;else return-1;if(typeof s=="string"&&(s=u.from(s,g)),u.isBuffer(s))return s.length===0?-1:q(f,s,a,g,A);if(typeof s=="number")return s=s&255,typeof Uint8Array.prototype.indexOf=="function"?A?Uint8Array.prototype.indexOf.call(f,s,a):Uint8Array.prototype.lastIndexOf.call(f,s,a):q(f,[s],a,g,A);throw new TypeError("val must be string, number or Buffer")}function q(f,s,a,g,A){let _=1,O=f.length,X=s.length;if(g!==void 0&&(g=String(g).toLowerCase(),g==="ucs2"||g==="ucs-2"||g==="utf16le"||g==="utf-16le")){if(f.length<2||s.length<2)return-1;_=2,O/=2,X/=2,a/=2}function oe(we,te){return _===1?we[te]:we.readUInt16BE(te*_)}let ie;if(A){let we=-1;for(ie=a;ie<O;ie++)if(oe(f,ie)===oe(s,we===-1?0:ie-we)){if(we===-1&&(we=ie),ie-we+1===X)return we*_}else we!==-1&&(ie-=ie-we),we=-1}else for(a+X>O&&(a=O-X),ie=a;ie>=0;ie--){let we=!0;for(let te=0;te<X;te++)if(oe(f,ie+te)!==oe(s,te)){we=!1;break}if(we)return ie}return-1}u.prototype.includes=function(s,a,g){return this.indexOf(s,a,g)!==-1},u.prototype.indexOf=function(s,a,g){return H(this,s,a,g,!0)},u.prototype.lastIndexOf=function(s,a,g){return H(this,s,a,g,!1)};function G(f,s,a,g){a=Number(a)||0;const A=f.length-a;g?(g=Number(g),g>A&&(g=A)):g=A;const _=s.length;g>_/2&&(g=_/2);let O;for(O=0;O<g;++O){const X=parseInt(s.substr(O*2,2),16);if(He(X))return O;f[a+O]=X}return O}function he(f,s,a,g){return De(ze(s,f.length-a),f,a,g)}function ve(f,s,a,g){return De(Qe(s),f,a,g)}function ye(f,s,a,g){return De(qe(s),f,a,g)}function xe(f,s,a,g){return De(Mr(s,f.length-a),f,a,g)}u.prototype.write=function(s,a,g,A){if(a===void 0)A="utf8",g=this.length,a=0;else if(g===void 0&&typeof a=="string")A=a,g=this.length,a=0;else if(isFinite(a))a=a>>>0,isFinite(g)?(g=g>>>0,A===void 0&&(A="utf8")):(A=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const _=this.length-a;if((g===void 0||g>_)&&(g=_),s.length>0&&(g<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");let O=!1;for(;;)switch(A){case"hex":return G(this,s,a,g);case"utf8":case"utf-8":return he(this,s,a,g);case"ascii":case"latin1":case"binary":return ve(this,s,a,g);case"base64":return ye(this,s,a,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,s,a,g);default:if(O)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),O=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(f,s,a){return s===0&&a===f.length?e.fromByteArray(f):e.fromByteArray(f.slice(s,a))}function l(f,s,a){a=Math.min(f.length,a);const g=[];let A=s;for(;A<a;){const _=f[A];let O=null,X=_>239?4:_>223?3:_>191?2:1;if(A+X<=a){let oe,ie,we,te;switch(X){case 1:_<128&&(O=_);break;case 2:oe=f[A+1],(oe&192)===128&&(te=(_&31)<<6|oe&63,te>127&&(O=te));break;case 3:oe=f[A+1],ie=f[A+2],(oe&192)===128&&(ie&192)===128&&(te=(_&15)<<12|(oe&63)<<6|ie&63,te>2047&&(te<55296||te>57343)&&(O=te));break;case 4:oe=f[A+1],ie=f[A+2],we=f[A+3],(oe&192)===128&&(ie&192)===128&&(we&192)===128&&(te=(_&15)<<18|(oe&63)<<12|(ie&63)<<6|we&63,te>65535&&te<1114112&&(O=te))}}O===null?(O=65533,X=1):O>65535&&(O-=65536,g.push(O>>>10&1023|55296),O=56320|O&1023),g.push(O),A+=X}return b(g)}const p=4096;function b(f){const s=f.length;if(s<=p)return String.fromCharCode.apply(String,f);let a="",g=0;for(;g<s;)a+=String.fromCharCode.apply(String,f.slice(g,g+=p));return a}function w(f,s,a){let g="";a=Math.min(f.length,a);for(let A=s;A<a;++A)g+=String.fromCharCode(f[A]&127);return g}function S(f,s,a){let g="";a=Math.min(f.length,a);for(let A=s;A<a;++A)g+=String.fromCharCode(f[A]);return g}function U(f,s,a){const g=f.length;(!s||s<0)&&(s=0),(!a||a<0||a>g)&&(a=g);let A="";for(let _=s;_<a;++_)A+=Ye[f[_]];return A}function k(f,s,a){const g=f.slice(s,a);let A="";for(let _=0;_<g.length-1;_+=2)A+=String.fromCharCode(g[_]+g[_+1]*256);return A}u.prototype.slice=function(s,a){const g=this.length;s=~~s,a=a===void 0?g:~~a,s<0?(s+=g,s<0&&(s=0)):s>g&&(s=g),a<0?(a+=g,a<0&&(a=0)):a>g&&(a=g),a<s&&(a=s);const A=this.subarray(s,a);return Object.setPrototypeOf(A,u.prototype),A};function v(f,s,a){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+s>a)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(s,a,g){s=s>>>0,a=a>>>0,g||v(s,a,this.length);let A=this[s],_=1,O=0;for(;++O<a&&(_*=256);)A+=this[s+O]*_;return A},u.prototype.readUintBE=u.prototype.readUIntBE=function(s,a,g){s=s>>>0,a=a>>>0,g||v(s,a,this.length);let A=this[s+--a],_=1;for(;a>0&&(_*=256);)A+=this[s+--a]*_;return A},u.prototype.readUint8=u.prototype.readUInt8=function(s,a){return s=s>>>0,a||v(s,1,this.length),this[s]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(s,a){return s=s>>>0,a||v(s,2,this.length),this[s]|this[s+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(s,a){return s=s>>>0,a||v(s,2,this.length),this[s]<<8|this[s+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(s,a){return s=s>>>0,a||v(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(s,a){return s=s>>>0,a||v(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},u.prototype.readBigUInt64LE=st(function(s){s=s>>>0,We(s,"offset");const a=this[s],g=this[s+7];(a===void 0||g===void 0)&&Me(s,this.length-8);const A=a+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24,_=this[++s]+this[++s]*2**8+this[++s]*2**16+g*2**24;return BigInt(A)+(BigInt(_)<<BigInt(32))}),u.prototype.readBigUInt64BE=st(function(s){s=s>>>0,We(s,"offset");const a=this[s],g=this[s+7];(a===void 0||g===void 0)&&Me(s,this.length-8);const A=a*2**24+this[++s]*2**16+this[++s]*2**8+this[++s],_=this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+g;return(BigInt(A)<<BigInt(32))+BigInt(_)}),u.prototype.readIntLE=function(s,a,g){s=s>>>0,a=a>>>0,g||v(s,a,this.length);let A=this[s],_=1,O=0;for(;++O<a&&(_*=256);)A+=this[s+O]*_;return _*=128,A>=_&&(A-=Math.pow(2,8*a)),A},u.prototype.readIntBE=function(s,a,g){s=s>>>0,a=a>>>0,g||v(s,a,this.length);let A=a,_=1,O=this[s+--A];for(;A>0&&(_*=256);)O+=this[s+--A]*_;return _*=128,O>=_&&(O-=Math.pow(2,8*a)),O},u.prototype.readInt8=function(s,a){return s=s>>>0,a||v(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},u.prototype.readInt16LE=function(s,a){s=s>>>0,a||v(s,2,this.length);const g=this[s]|this[s+1]<<8;return g&32768?g|4294901760:g},u.prototype.readInt16BE=function(s,a){s=s>>>0,a||v(s,2,this.length);const g=this[s+1]|this[s]<<8;return g&32768?g|4294901760:g},u.prototype.readInt32LE=function(s,a){return s=s>>>0,a||v(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},u.prototype.readInt32BE=function(s,a){return s=s>>>0,a||v(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},u.prototype.readBigInt64LE=st(function(s){s=s>>>0,We(s,"offset");const a=this[s],g=this[s+7];(a===void 0||g===void 0)&&Me(s,this.length-8);const A=this[s+4]+this[s+5]*2**8+this[s+6]*2**16+(g<<24);return(BigInt(A)<<BigInt(32))+BigInt(a+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24)}),u.prototype.readBigInt64BE=st(function(s){s=s>>>0,We(s,"offset");const a=this[s],g=this[s+7];(a===void 0||g===void 0)&&Me(s,this.length-8);const A=(a<<24)+this[++s]*2**16+this[++s]*2**8+this[++s];return(BigInt(A)<<BigInt(32))+BigInt(this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+g)}),u.prototype.readFloatLE=function(s,a){return s=s>>>0,a||v(s,4,this.length),t.read(this,s,!0,23,4)},u.prototype.readFloatBE=function(s,a){return s=s>>>0,a||v(s,4,this.length),t.read(this,s,!1,23,4)},u.prototype.readDoubleLE=function(s,a){return s=s>>>0,a||v(s,8,this.length),t.read(this,s,!0,52,8)},u.prototype.readDoubleBE=function(s,a){return s=s>>>0,a||v(s,8,this.length),t.read(this,s,!1,52,8)};function d(f,s,a,g,A,_){if(!u.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>A||s<_)throw new RangeError('"value" argument is out of bounds');if(a+g>f.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(s,a,g,A){if(s=+s,a=a>>>0,g=g>>>0,!A){const X=Math.pow(2,8*g)-1;d(this,s,a,g,X,0)}let _=1,O=0;for(this[a]=s&255;++O<g&&(_*=256);)this[a+O]=s/_&255;return a+g},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(s,a,g,A){if(s=+s,a=a>>>0,g=g>>>0,!A){const X=Math.pow(2,8*g)-1;d(this,s,a,g,X,0)}let _=g-1,O=1;for(this[a+_]=s&255;--_>=0&&(O*=256);)this[a+_]=s/O&255;return a+g},u.prototype.writeUint8=u.prototype.writeUInt8=function(s,a,g){return s=+s,a=a>>>0,g||d(this,s,a,1,255,0),this[a]=s&255,a+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(s,a,g){return s=+s,a=a>>>0,g||d(this,s,a,2,65535,0),this[a]=s&255,this[a+1]=s>>>8,a+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(s,a,g){return s=+s,a=a>>>0,g||d(this,s,a,2,65535,0),this[a]=s>>>8,this[a+1]=s&255,a+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(s,a,g){return s=+s,a=a>>>0,g||d(this,s,a,4,4294967295,0),this[a+3]=s>>>24,this[a+2]=s>>>16,this[a+1]=s>>>8,this[a]=s&255,a+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(s,a,g){return s=+s,a=a>>>0,g||d(this,s,a,4,4294967295,0),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4};function M(f,s,a,g,A){V(s,g,A,f,a,7);let _=Number(s&BigInt(4294967295));f[a++]=_,_=_>>8,f[a++]=_,_=_>>8,f[a++]=_,_=_>>8,f[a++]=_;let O=Number(s>>BigInt(32)&BigInt(4294967295));return f[a++]=O,O=O>>8,f[a++]=O,O=O>>8,f[a++]=O,O=O>>8,f[a++]=O,a}function Q(f,s,a,g,A){V(s,g,A,f,a,7);let _=Number(s&BigInt(4294967295));f[a+7]=_,_=_>>8,f[a+6]=_,_=_>>8,f[a+5]=_,_=_>>8,f[a+4]=_;let O=Number(s>>BigInt(32)&BigInt(4294967295));return f[a+3]=O,O=O>>8,f[a+2]=O,O=O>>8,f[a+1]=O,O=O>>8,f[a]=O,a+8}u.prototype.writeBigUInt64LE=st(function(s,a=0){return M(this,s,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=st(function(s,a=0){return Q(this,s,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(s,a,g,A){if(s=+s,a=a>>>0,!A){const oe=Math.pow(2,8*g-1);d(this,s,a,g,oe-1,-oe)}let _=0,O=1,X=0;for(this[a]=s&255;++_<g&&(O*=256);)s<0&&X===0&&this[a+_-1]!==0&&(X=1),this[a+_]=(s/O>>0)-X&255;return a+g},u.prototype.writeIntBE=function(s,a,g,A){if(s=+s,a=a>>>0,!A){const oe=Math.pow(2,8*g-1);d(this,s,a,g,oe-1,-oe)}let _=g-1,O=1,X=0;for(this[a+_]=s&255;--_>=0&&(O*=256);)s<0&&X===0&&this[a+_+1]!==0&&(X=1),this[a+_]=(s/O>>0)-X&255;return a+g},u.prototype.writeInt8=function(s,a,g){return s=+s,a=a>>>0,g||d(this,s,a,1,127,-128),s<0&&(s=255+s+1),this[a]=s&255,a+1},u.prototype.writeInt16LE=function(s,a,g){return s=+s,a=a>>>0,g||d(this,s,a,2,32767,-32768),this[a]=s&255,this[a+1]=s>>>8,a+2},u.prototype.writeInt16BE=function(s,a,g){return s=+s,a=a>>>0,g||d(this,s,a,2,32767,-32768),this[a]=s>>>8,this[a+1]=s&255,a+2},u.prototype.writeInt32LE=function(s,a,g){return s=+s,a=a>>>0,g||d(this,s,a,4,2147483647,-2147483648),this[a]=s&255,this[a+1]=s>>>8,this[a+2]=s>>>16,this[a+3]=s>>>24,a+4},u.prototype.writeInt32BE=function(s,a,g){return s=+s,a=a>>>0,g||d(this,s,a,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4},u.prototype.writeBigInt64LE=st(function(s,a=0){return M(this,s,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=st(function(s,a=0){return Q(this,s,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $(f,s,a,g,A,_){if(a+g>f.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function Z(f,s,a,g,A){return s=+s,a=a>>>0,A||$(f,s,a,4),t.write(f,s,a,g,23,4),a+4}u.prototype.writeFloatLE=function(s,a,g){return Z(this,s,a,!0,g)},u.prototype.writeFloatBE=function(s,a,g){return Z(this,s,a,!1,g)};function se(f,s,a,g,A){return s=+s,a=a>>>0,A||$(f,s,a,8),t.write(f,s,a,g,52,8),a+8}u.prototype.writeDoubleLE=function(s,a,g){return se(this,s,a,!0,g)},u.prototype.writeDoubleBE=function(s,a,g){return se(this,s,a,!1,g)},u.prototype.copy=function(s,a,g,A){if(!u.isBuffer(s))throw new TypeError("argument should be a Buffer");if(g||(g=0),!A&&A!==0&&(A=this.length),a>=s.length&&(a=s.length),a||(a=0),A>0&&A<g&&(A=g),A===g||s.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),s.length-a<A-g&&(A=s.length-a+g);const _=A-g;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a,g,A):Uint8Array.prototype.set.call(s,this.subarray(g,A),a),_},u.prototype.fill=function(s,a,g,A){if(typeof s=="string"){if(typeof a=="string"?(A=a,a=0,g=this.length):typeof g=="string"&&(A=g,g=this.length),A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!u.isEncoding(A))throw new TypeError("Unknown encoding: "+A);if(s.length===1){const O=s.charCodeAt(0);(A==="utf8"&&O<128||A==="latin1")&&(s=O)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(a<0||this.length<a||this.length<g)throw new RangeError("Out of range index");if(g<=a)return this;a=a>>>0,g=g===void 0?this.length:g>>>0,s||(s=0);let _;if(typeof s=="number")for(_=a;_<g;++_)this[_]=s;else{const O=u.isBuffer(s)?s:u.from(s,A),X=O.length;if(X===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(_=0;_<g-a;++_)this[_+a]=O[_%X]}return this};const ee={};function ce(f,s,a){ee[f]=class extends a{constructor(){super(),Object.defineProperty(this,"message",{value:s.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(A){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:A,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}}}ce("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ce("ERR_INVALID_ARG_TYPE",function(f,s){return`The "${f}" argument must be of type number. Received type ${typeof s}`},TypeError),ce("ERR_OUT_OF_RANGE",function(f,s,a){let g=`The value of "${f}" is out of range.`,A=a;return Number.isInteger(a)&&Math.abs(a)>2**32?A=Ae(String(a)):typeof a=="bigint"&&(A=String(a),(a>BigInt(2)**BigInt(32)||a<-(BigInt(2)**BigInt(32)))&&(A=Ae(A)),A+="n"),g+=` It must be ${s}. Received ${A}`,g},RangeError);function Ae(f){let s="",a=f.length;const g=f[0]==="-"?1:0;for(;a>=g+4;a-=3)s=`_${f.slice(a-3,a)}${s}`;return`${f.slice(0,a)}${s}`}function Ie(f,s,a){We(s,"offset"),(f[s]===void 0||f[s+a]===void 0)&&Me(s,f.length-(a+1))}function V(f,s,a,g,A,_){if(f>a||f<s){const O=typeof s=="bigint"?"n":"";let X;throw _>3?s===0||s===BigInt(0)?X=`>= 0${O} and < 2${O} ** ${(_+1)*8}${O}`:X=`>= -(2${O} ** ${(_+1)*8-1}${O}) and < 2 ** ${(_+1)*8-1}${O}`:X=`>= ${s}${O} and <= ${a}${O}`,new ee.ERR_OUT_OF_RANGE("value",X,f)}Ie(g,A,_)}function We(f,s){if(typeof f!="number")throw new ee.ERR_INVALID_ARG_TYPE(s,"number",f)}function Me(f,s,a){throw Math.floor(f)!==f?(We(f,a),new ee.ERR_OUT_OF_RANGE(a||"offset","an integer",f)):s<0?new ee.ERR_BUFFER_OUT_OF_BOUNDS:new ee.ERR_OUT_OF_RANGE(a||"offset",`>= ${a?1:0} and <= ${s}`,f)}const je=/[^+/0-9A-Za-z-_]/g;function _r(f){if(f=f.split("=")[0],f=f.trim().replace(je,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function ze(f,s){s=s||1/0;let a;const g=f.length;let A=null;const _=[];for(let O=0;O<g;++O){if(a=f.charCodeAt(O),a>55295&&a<57344){if(!A){if(a>56319){(s-=3)>-1&&_.push(239,191,189);continue}else if(O+1===g){(s-=3)>-1&&_.push(239,191,189);continue}A=a;continue}if(a<56320){(s-=3)>-1&&_.push(239,191,189),A=a;continue}a=(A-55296<<10|a-56320)+65536}else A&&(s-=3)>-1&&_.push(239,191,189);if(A=null,a<128){if((s-=1)<0)break;_.push(a)}else if(a<2048){if((s-=2)<0)break;_.push(a>>6|192,a&63|128)}else if(a<65536){if((s-=3)<0)break;_.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((s-=4)<0)break;_.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return _}function Qe(f){const s=[];for(let a=0;a<f.length;++a)s.push(f.charCodeAt(a)&255);return s}function Mr(f,s){let a,g,A;const _=[];for(let O=0;O<f.length&&!((s-=2)<0);++O)a=f.charCodeAt(O),g=a>>8,A=a%256,_.push(A),_.push(g);return _}function qe(f){return e.toByteArray(_r(f))}function De(f,s,a,g){let A;for(A=0;A<g&&!(A+a>=s.length||A>=f.length);++A)s[A+a]=f[A];return A}function Ke(f,s){return f instanceof s||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===s.name}function He(f){return f!==f}const Ye=function(){const f="0123456789abcdef",s=new Array(256);for(let a=0;a<16;++a){const g=a*16;for(let A=0;A<16;++A)s[g+A]=f[a]+f[A]}return s}();function st(f){return typeof BigInt>"u"?Ve:f}function Ve(){throw new Error("BigInt not supported")}})(Ee);function Oo(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function ah(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}function sc(r,...e){if(!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function ch(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Oo(r.outputLen),Oo(r.blockLen)}function uh(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function lh(r,e){sc(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const qt={number:Oo,bool:ah,bytes:sc,hash:ch,exists:uh,output:lh};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fh=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),Ro=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),dn=(r,e)=>r<<32-e|r>>>e;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function hh(r){if(typeof r!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof r}`);return new TextEncoder().encode(r)}function Rr(r){if(typeof r=="string"&&(r=hh(r)),!(r instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof r})`);return r}class Lo{clone(){return this._cloneInto()}}function Lr(r){const e=n=>r().update(Rr(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function dh(r){const e=(n,o)=>r(o).update(Rr(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}function ph(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const o=BigInt(32),i=BigInt(4294967295),c=Number(t>>o&i),u=Number(t&i),h=n?4:0,y=n?0:4;r.setUint32(e+h,c,n),r.setUint32(e+y,u,n)}class ac extends Lo{constructor(e,t,n,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ro(this.buffer)}update(e){qt.exists(this);const{view:t,buffer:n,blockLen:o}=this;e=Rr(e);const i=e.length;for(let c=0;c<i;){const u=Math.min(o-this.pos,i-c);if(u===o){const h=Ro(e);for(;o<=i-c;c+=o)this.process(h,c);continue}n.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){qt.exists(this),qt.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:o,isLE:i}=this;let{pos:c}=this;t[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>o-c&&(this.process(n,0),c=0);for(let h=c;h<o;h++)t[h]=0;ph(n,o-8,BigInt(this.length*8),i),this.process(n,0);const u=Ro(e);this.get().forEach((h,y)=>u.setUint32(4*y,h,i))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:o,finished:i,destroyed:c,pos:u}=this;return e.length=o,e.pos=u,e.finished=i,e.destroyed=c,o%t&&e.buffer.set(n),e}}const mi=BigInt(2**32-1),Uo=BigInt(32);function cc(r,e=!1){return e?{h:Number(r&mi),l:Number(r>>Uo&mi)}:{h:Number(r>>Uo&mi)|0,l:Number(r&mi)|0}}function gh(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let o=0;o<r.length;o++){const{h:i,l:c}=cc(r[o],e);[t[o],n[o]]=[i,c]}return[t,n]}const yh=(r,e)=>BigInt(r>>>0)<<Uo|BigInt(e>>>0),wh=(r,e,t)=>r>>>t,mh=(r,e,t)=>r<<32-t|e>>>t,bh=(r,e,t)=>r>>>t|e<<32-t,vh=(r,e,t)=>r<<32-t|e>>>t,Ah=(r,e,t)=>r<<64-t|e>>>t-32,Eh=(r,e,t)=>r>>>t-32|e<<64-t,xh=(r,e)=>e,Sh=(r,e)=>r,Ih=(r,e,t)=>r<<t|e>>>32-t,_h=(r,e,t)=>e<<t|r>>>32-t,Mh=(r,e,t)=>e<<t-32|r>>>64-t,Bh=(r,e,t)=>r<<t-32|e>>>64-t;function Th(r,e,t,n){const o=(e>>>0)+(n>>>0);return{h:r+t+(o/2**32|0)|0,l:o|0}}const me={fromBig:cc,split:gh,toBig:yh,shrSH:wh,shrSL:mh,rotrSH:bh,rotrSL:vh,rotrBH:Ah,rotrBL:Eh,rotr32H:xh,rotr32L:Sh,rotlSH:Ih,rotlSL:_h,rotlBH:Mh,rotlBL:Bh,add:Th,add3L:(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),add3H:(r,e,t,n)=>e+t+n+(r/2**32|0)|0,add4L:(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),add4H:(r,e,t,n,o)=>e+t+n+o+(r/2**32|0)|0,add5H:(r,e,t,n,o,i)=>e+t+n+o+i+(r/2**32|0)|0,add5L:(r,e,t,n,o)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(o>>>0)},[Ch,kh]=me.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),xn=new Uint32Array(80),Sn=new Uint32Array(80);class Do extends ac{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:o,Ch:i,Cl:c,Dh:u,Dl:h,Eh:y,El:m,Fh:x,Fl:C,Gh:E,Gl:B,Hh:T,Hl:L}=this;return[e,t,n,o,i,c,u,h,y,m,x,C,E,B,T,L]}set(e,t,n,o,i,c,u,h,y,m,x,C,E,B,T,L){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=c|0,this.Dh=u|0,this.Dl=h|0,this.Eh=y|0,this.El=m|0,this.Fh=x|0,this.Fl=C|0,this.Gh=E|0,this.Gl=B|0,this.Hh=T|0,this.Hl=L|0}process(e,t){for(let N=0;N<16;N++,t+=4)xn[N]=e.getUint32(t),Sn[N]=e.getUint32(t+=4);for(let N=16;N<80;N++){const F=xn[N-15]|0,R=Sn[N-15]|0,H=me.rotrSH(F,R,1)^me.rotrSH(F,R,8)^me.shrSH(F,R,7),q=me.rotrSL(F,R,1)^me.rotrSL(F,R,8)^me.shrSL(F,R,7),G=xn[N-2]|0,he=Sn[N-2]|0,ve=me.rotrSH(G,he,19)^me.rotrBH(G,he,61)^me.shrSH(G,he,6),ye=me.rotrSL(G,he,19)^me.rotrBL(G,he,61)^me.shrSL(G,he,6),xe=me.add4L(q,ye,Sn[N-7],Sn[N-16]),I=me.add4H(xe,H,ve,xn[N-7],xn[N-16]);xn[N]=I|0,Sn[N]=xe|0}let{Ah:n,Al:o,Bh:i,Bl:c,Ch:u,Cl:h,Dh:y,Dl:m,Eh:x,El:C,Fh:E,Fl:B,Gh:T,Gl:L,Hh:P,Hl:z}=this;for(let N=0;N<80;N++){const F=me.rotrSH(x,C,14)^me.rotrSH(x,C,18)^me.rotrBH(x,C,41),R=me.rotrSL(x,C,14)^me.rotrSL(x,C,18)^me.rotrBL(x,C,41),H=x&E^~x&T,q=C&B^~C&L,G=me.add5L(z,R,q,kh[N],Sn[N]),he=me.add5H(G,P,F,H,Ch[N],xn[N]),ve=G|0,ye=me.rotrSH(n,o,28)^me.rotrBH(n,o,34)^me.rotrBH(n,o,39),xe=me.rotrSL(n,o,28)^me.rotrBL(n,o,34)^me.rotrBL(n,o,39),I=n&i^n&u^i&u,l=o&c^o&h^c&h;P=T|0,z=L|0,T=E|0,L=B|0,E=x|0,B=C|0,{h:x,l:C}=me.add(y|0,m|0,he|0,ve|0),y=u|0,m=h|0,u=i|0,h=c|0,i=n|0,c=o|0;const p=me.add3L(ve,xe,l);n=me.add3H(p,he,ye,I),o=p|0}({h:n,l:o}=me.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:c}=me.add(this.Bh|0,this.Bl|0,i|0,c|0),{h:u,l:h}=me.add(this.Ch|0,this.Cl|0,u|0,h|0),{h:y,l:m}=me.add(this.Dh|0,this.Dl|0,y|0,m|0),{h:x,l:C}=me.add(this.Eh|0,this.El|0,x|0,C|0),{h:E,l:B}=me.add(this.Fh|0,this.Fl|0,E|0,B|0),{h:T,l:L}=me.add(this.Gh|0,this.Gl|0,T|0,L|0),{h:P,l:z}=me.add(this.Hh|0,this.Hl|0,P|0,z|0),this.set(n,o,i,c,u,h,y,m,x,C,E,B,T,L,P,z)}roundClean(){xn.fill(0),Sn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Nh extends Do{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Oh extends Do{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Rh=Lr(()=>new Do);Lr(()=>new Nh),Lr(()=>new Oh);const Po=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}));/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const _t=BigInt(0),Te=BigInt(1),lr=BigInt(2),uc=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Ge=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:uc,n:uc,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),lc=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Ur=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");const Lh=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Uh=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Dh=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Ph=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class ke{constructor(e,t,n,o){this.x=e,this.y=t,this.z=n,this.t=o}static fromAffine(e){if(!(e instanceof Xe))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Xe.ZERO)?ke.ZERO:new ke(e.x,e.y,Te,Y(e.x*e.y))}static toAffineBatch(e){const t=Hh(e.map(n=>n.z));return e.map((n,o)=>n.toAffine(t[o]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){fc(e);const{x:t,y:n,z:o}=this,{x:i,y:c,z:u}=e,h=Y(t*u),y=Y(i*o),m=Y(n*u),x=Y(c*o);return h===y&&m===x}negate(){return new ke(Y(-this.x),this.y,this.z,Y(-this.t))}double(){const{x:e,y:t,z:n}=this,{a:o}=Ge,i=Y(e*e),c=Y(t*t),u=Y(lr*Y(n*n)),h=Y(o*i),y=e+t,m=Y(Y(y*y)-i-c),x=h+c,C=x-u,E=h-c,B=Y(m*C),T=Y(x*E),L=Y(m*E),P=Y(C*x);return new ke(B,T,P,L)}add(e){fc(e);const{x:t,y:n,z:o,t:i}=this,{x:c,y:u,z:h,t:y}=e,m=Y((n-t)*(u+c)),x=Y((n+t)*(u-c)),C=Y(x-m);if(C===_t)return this.double();const E=Y(o*lr*y),B=Y(i*lr*h),T=B+E,L=x+m,P=B-E,z=Y(T*C),N=Y(L*P),F=Y(T*P),R=Y(C*L);return new ke(z,N,R,F)}subtract(e){return this.add(e.negate())}precomputeWindow(e){const t=1+256/e,n=[];let o=this,i=o;for(let c=0;c<t;c++){i=o,n.push(i);for(let u=1;u<2**(e-1);u++)i=i.add(o),n.push(i);o=i.double()}return n}wNAF(e,t){!t&&this.equals(ke.BASE)&&(t=Xe.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=t&&Ho.get(t);o||(o=this.precomputeWindow(n),t&&n!==1&&(o=ke.normalizeZ(o),Ho.set(t,o)));let i=ke.ZERO,c=ke.ZERO;const u=1+256/n,h=2**(n-1),y=BigInt(2**n-1),m=2**n,x=BigInt(n);for(let C=0;C<u;C++){const E=C*h;let B=Number(e&y);if(e>>=x,B>h&&(B-=m,e+=Te),B===0){let T=o[E];C%2&&(T=T.negate()),c=c.add(T)}else{let T=o[E+Math.abs(B)-1];B<0&&(T=T.negate()),i=i.add(T)}}return ke.normalizeZ([i,c])[0]}multiply(e,t){return this.wNAF(Ai(e,Ge.l),t)}multiplyUnsafe(e){let t=Ai(e,Ge.l,!1);const n=ke.BASE,o=ke.ZERO;if(t===_t)return o;if(this.equals(o)||t===Te)return this;if(this.equals(n))return this.wNAF(t);let i=o,c=this;for(;t>_t;)t&Te&&(i=i.add(c)),c=c.double(),t>>=Te;return i}isSmallOrder(){return this.multiplyUnsafe(Ge.h).equals(ke.ZERO)}isTorsionFree(){return this.multiplyUnsafe(Ge.l).equals(ke.ZERO)}toAffine(e=bi(this.z)){const{x:t,y:n,z:o}=this,i=Y(t*e),c=Y(n*e);if(Y(o*e)!==Te)throw new Error("invZ was invalid");return new Xe(i,c)}fromRistrettoBytes(){zo()}toRistrettoBytes(){zo()}fromRistrettoHash(){zo()}}ke.BASE=new ke(Ge.Gx,Ge.Gy,Te,Y(Ge.Gx*Ge.Gy)),ke.ZERO=new ke(_t,Te,Te,_t);function fc(r){if(!(r instanceof ke))throw new TypeError("ExtendedPoint expected")}function Fo(r){if(!(r instanceof Vt))throw new TypeError("RistrettoPoint expected")}function zo(){throw new Error("Legacy method: switch to RistrettoPoint")}class Vt{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){const{d:t}=Ge,n=Y(Ur*e*e),o=Y((n+Te)*Dh);let i=BigInt(-1);const c=Y((i-t*n)*Y(n+t));let{isValid:u,value:h}=qo(o,c),y=Y(h*e);In(y)||(y=Y(-y)),u||(h=y),u||(i=n);const m=Y(i*(n-Te)*Ph-c),x=h*h,C=Y((h+h)*c),E=Y(m*Lh),B=Y(Te-x),T=Y(Te+x);return new ke(Y(C*T),Y(B*E),Y(E*T),Y(C*B))}static hashToCurve(e){e=_n(e,64);const t=jo(e.slice(0,32)),n=this.calcElligatorRistrettoMap(t),o=jo(e.slice(32,64)),i=this.calcElligatorRistrettoMap(o);return new Vt(n.add(i))}static fromHex(e){e=_n(e,32);const{a:t,d:n}=Ge,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=jo(e);if(!jh(Fr(i),e)||In(i))throw new Error(o);const c=Y(i*i),u=Y(Te+t*c),h=Y(Te-t*c),y=Y(u*u),m=Y(h*h),x=Y(t*n*y-m),{isValid:C,value:E}=pc(Y(x*m)),B=Y(E*h),T=Y(E*B*x);let L=Y((i+i)*B);In(L)&&(L=Y(-L));const P=Y(u*T),z=Y(L*P);if(!C||In(z)||P===_t)throw new Error(o);return new Vt(new ke(L,P,Te,z))}toRawBytes(){let{x:e,y:t,z:n,t:o}=this.ep;const i=Y(Y(n+t)*Y(n-t)),c=Y(e*t),u=Y(c*c),{value:h}=pc(Y(i*u)),y=Y(h*i),m=Y(h*c),x=Y(y*m*o);let C;if(In(o*x)){let B=Y(t*Ur),T=Y(e*Ur);e=B,t=T,C=Y(y*Uh)}else C=m;In(e*x)&&(t=Y(-t));let E=Y((n-t)*C);return In(E)&&(E=Y(-E)),Fr(E)}toHex(){return Pr(this.toRawBytes())}toString(){return this.toHex()}equals(e){Fo(e);const t=this.ep,n=e.ep,o=Y(t.x*n.y)===Y(t.y*n.x),i=Y(t.y*n.y)===Y(t.x*n.x);return o||i}add(e){return Fo(e),new Vt(this.ep.add(e.ep))}subtract(e){return Fo(e),new Vt(this.ep.subtract(e.ep))}multiply(e){return new Vt(this.ep.multiply(e))}multiplyUnsafe(e){return new Vt(this.ep.multiplyUnsafe(e))}}Vt.BASE=new Vt(ke.BASE),Vt.ZERO=new Vt(ke.ZERO);const Ho=new WeakMap;class Xe{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,Ho.delete(this)}static fromHex(e,t=!0){const{d:n,P:o}=Ge;e=_n(e,32);const i=e.slice();i[31]=e[31]&-129;const c=zr(i);if(t&&c>=o)throw new Error("Expected 0 < hex < P");if(!t&&c>=lc)throw new Error("Expected 0 < hex < 2**256");const u=Y(c*c),h=Y(u-Te),y=Y(n*u+Te);let{isValid:m,value:x}=qo(h,y);if(!m)throw new Error("Point.fromHex: invalid y coordinate");const C=(x&Te)===Te;return(e[31]&128)!==0!==C&&(x=Y(-x)),new Xe(x,c)}static async fromPrivateKey(e){return(await wc(e)).point}toRawBytes(){const e=Fr(this.y);return e[31]|=this.x&Te?128:0,e}toHex(){return Pr(this.toRawBytes())}toX25519(){const{y:e}=this,t=Y((Te+e)*bi(Te-e));return Fr(t)}isTorsionFree(){return ke.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Xe(Y(-this.x),this.y)}add(e){return ke.fromAffine(this).add(ke.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return ke.fromAffine(this).multiply(e,this).toAffine()}}Xe.BASE=new Xe(Ge.Gx,Ge.Gy),Xe.ZERO=new Xe(_t,Te);class Dr{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=_n(e,64),n=Xe.fromHex(t.slice(0,32),!1),o=zr(t.slice(32,64));return new Dr(n,o)}assertValidity(){const{r:e,s:t}=this;if(!(e instanceof Xe))throw new Error("Expected Point instance");return Ai(t,Ge.l,!1),this}toRawBytes(){const e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Fr(this.s),32),e}toHex(){return Pr(this.toRawBytes())}}function hc(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(r.length===1)return r[0];const e=r.reduce((n,o)=>n+o.length,0),t=new Uint8Array(e);for(let n=0,o=0;n<r.length;n++){const i=r[n];t.set(i,o),o+=i.length}return t}const Fh=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Pr(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=Fh[r[t]];return e}function Wo(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){const n=t*2,o=r.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[t]=i}return e}function dc(r){const t=r.toString(16).padStart(64,"0");return Wo(t)}function Fr(r){return dc(r).reverse()}function In(r){return(Y(r)&Te)===Te}function zr(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Pr(Uint8Array.from(r).reverse()))}const zh=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function jo(r){return Y(zr(r)&zh)}function Y(r,e=Ge.P){const t=r%e;return t>=_t?t:e+t}function bi(r,e=Ge.P){if(r===_t||e<=_t)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=Y(r,e),n=e,o=_t,i=Te;for(;t!==_t;){const u=n/t,h=n%t,y=o-i*u;n=t,t=h,o=i,i=y}if(n!==Te)throw new Error("invert: does not exist");return Y(o,e)}function Hh(r,e=Ge.P){const t=new Array(r.length),n=r.reduce((i,c,u)=>c===_t?i:(t[u]=i,Y(i*c,e)),Te),o=bi(n,e);return r.reduceRight((i,c,u)=>c===_t?i:(t[u]=Y(i*t[u],e),Y(i*c,e)),o),t}function pn(r,e){const{P:t}=Ge;let n=r;for(;e-- >_t;)n*=n,n%=t;return n}function Wh(r){const{P:e}=Ge,t=BigInt(5),n=BigInt(10),o=BigInt(20),i=BigInt(40),c=BigInt(80),h=r*r%e*r%e,y=pn(h,lr)*h%e,m=pn(y,Te)*r%e,x=pn(m,t)*m%e,C=pn(x,n)*x%e,E=pn(C,o)*C%e,B=pn(E,i)*E%e,T=pn(B,c)*B%e,L=pn(T,c)*B%e,P=pn(L,n)*x%e;return{pow_p_5_8:pn(P,lr)*r%e,b2:h}}function qo(r,e){const t=Y(e*e*e),n=Y(t*t*e),o=Wh(r*n).pow_p_5_8;let i=Y(r*t*o);const c=Y(e*i*i),u=i,h=Y(i*Ur),y=c===r,m=c===Y(-r),x=c===Y(-r*Ur);return y&&(i=u),(m||x)&&(i=h),In(i)&&(i=Y(-i)),{isValid:y||m,value:i}}function pc(r){return qo(Te,r)}function vi(r){return Y(zr(r),Ge.l)}function jh(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function _n(r,e){const t=r instanceof Uint8Array?Uint8Array.from(r):Wo(r);if(typeof e=="number"&&t.length!==e)throw new Error(`Expected ${e} bytes`);return t}function Ai(r,e,t=!0){if(!e)throw new TypeError("Specify max value");if(typeof r=="number"&&Number.isSafeInteger(r)&&(r=BigInt(r)),typeof r=="bigint"&&r<e){if(t){if(_t<r)return r}else if(_t<=r)return r}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function qh(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function gc(r){if(r=typeof r=="bigint"||typeof r=="number"?dc(Ai(r,lc)):_n(r),r.length!==32)throw new Error("Expected 32 bytes");return r}function yc(r){const e=qh(r.slice(0,32)),t=r.slice(32,64),n=vi(e),o=Xe.BASE.multiply(n),i=o.toRawBytes();return{head:e,prefix:t,scalar:n,point:o,pointBytes:i}}let Hr;function Ei(...r){if(typeof Hr!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return Hr(...r)}async function wc(r){return yc(await fr.sha512(gc(r)))}function Go(r){return yc(Ei(gc(r)))}function Gh(r){return Go(r).pointBytes}function Qh(r,e){r=_n(r);const{prefix:t,scalar:n,pointBytes:o}=Go(e),i=vi(Ei(t,r)),c=Xe.BASE.multiply(i),u=vi(Ei(c.toRawBytes(),o,r)),h=Y(i+u*n,Ge.l);return new Dr(c,h).toRawBytes()}function Kh(r,e,t){e=_n(e),t instanceof Xe||(t=Xe.fromHex(t,!1));const{r:n,s:o}=r instanceof Dr?r.assertValidity():Dr.fromHex(r),i=ke.BASE.multiplyUnsafe(o);return{r:n,s:o,SB:i,pub:t,msg:e}}function Yh(r,e,t,n){const o=vi(n),i=ke.fromAffine(r).multiplyUnsafe(o);return ke.fromAffine(e).add(i).subtract(t).multiplyUnsafe(Ge.h).equals(ke.ZERO)}function Vh(r,e,t){const{r:n,SB:o,msg:i,pub:c}=Kh(r,e,t),u=Ei(n.toRawBytes(),c.toRawBytes(),i);return Yh(c,n,o,u)}const mc={getExtendedPublicKey:Go,getPublicKey:Gh,sign:Qh,verify:Vh};Xe.BASE._setWindowSize(8);const Mn={node:Po,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},fr={bytesToHex:Pr,hexToBytes:Wo,concatBytes:hc,getExtendedPublicKey:wc,mod:Y,invert:bi,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:r=>{if(r=_n(r),r.length<40||r.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return Y(zr(r),Ge.l-Te)+Te},randomBytes:(r=32)=>{if(Mn.web)return Mn.web.getRandomValues(new Uint8Array(r));if(Mn.node){const{randomBytes:e}=Mn.node;return new Uint8Array(e(r).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>fr.randomBytes(32),sha512:async(...r)=>{const e=hc(...r);if(Mn.web){const t=await Mn.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}else{if(Mn.node)return Uint8Array.from(Mn.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(r=8,e=Xe.BASE){const t=e.equals(Xe.BASE)?e:new Xe(e.x,e.y);return t._setWindowSize(r),t.multiply(lr),t},sha512Sync:void 0};Object.defineProperties(fr,{sha512Sync:{configurable:!1,get(){return Hr},set(r){Hr||(Hr=r)}}});var Qo={exports:{}};const Zh=ui(Po);(function(r){(function(e,t){function n(I,l){if(!I)throw new Error(l||"Assertion failed")}function o(I,l){I.super_=l;var p=function(){};p.prototype=l.prototype,I.prototype=new p,I.prototype.constructor=I}function i(I,l,p){if(i.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((l==="le"||l==="be")&&(p=l,l=10),this._init(I||0,l||10,p||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=Zh.Buffer}catch{}i.isBN=function(l){return l instanceof i?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===i.wordSize&&Array.isArray(l.words)},i.max=function(l,p){return l.cmp(p)>0?l:p},i.min=function(l,p){return l.cmp(p)<0?l:p},i.prototype._init=function(l,p,b){if(typeof l=="number")return this._initNumber(l,p,b);if(typeof l=="object")return this._initArray(l,p,b);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var w=0;l[0]==="-"&&(w++,this.negative=1),w<l.length&&(p===16?this._parseHex(l,w,b):(this._parseBase(l,p,w),b==="le"&&this._initArray(this.toArray(),p,b)))},i.prototype._initNumber=function(l,p,b){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(n(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),p,b)},i.prototype._initArray=function(l,p,b){if(n(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,U,k=0;if(b==="be")for(w=l.length-1,S=0;w>=0;w-=3)U=l[w]|l[w-1]<<8|l[w-2]<<16,this.words[S]|=U<<k&67108863,this.words[S+1]=U>>>26-k&67108863,k+=24,k>=26&&(k-=26,S++);else if(b==="le")for(w=0,S=0;w<l.length;w+=3)U=l[w]|l[w+1]<<8|l[w+2]<<16,this.words[S]|=U<<k&67108863,this.words[S+1]=U>>>26-k&67108863,k+=24,k>=26&&(k-=26,S++);return this._strip()};function u(I,l){var p=I.charCodeAt(l);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;n(!1,"Invalid character in "+I)}function h(I,l,p){var b=u(I,p);return p-1>=l&&(b|=u(I,p-1)<<4),b}i.prototype._parseHex=function(l,p,b){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S=0,U=0,k;if(b==="be")for(w=l.length-1;w>=p;w-=2)k=h(l,p,w)<<S,this.words[U]|=k&67108863,S>=18?(S-=18,U+=1,this.words[U]|=k>>>26):S+=8;else{var v=l.length-p;for(w=v%2===0?p+1:p;w<l.length;w+=2)k=h(l,p,w)<<S,this.words[U]|=k&67108863,S>=18?(S-=18,U+=1,this.words[U]|=k>>>26):S+=8}this._strip()};function y(I,l,p,b){for(var w=0,S=0,U=Math.min(I.length,p),k=l;k<U;k++){var v=I.charCodeAt(k)-48;w*=b,v>=49?S=v-49+10:v>=17?S=v-17+10:S=v,n(v>=0&&S<b,"Invalid character"),w+=S}return w}i.prototype._parseBase=function(l,p,b){this.words=[0],this.length=1;for(var w=0,S=1;S<=67108863;S*=p)w++;w--,S=S/p|0;for(var U=l.length-b,k=U%w,v=Math.min(U,U-k)+b,d=0,M=b;M<v;M+=w)d=y(l,M,M+w,p),this.imuln(S),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(k!==0){var Q=1;for(d=y(l,M,l.length,p),M=0;M<k;M++)Q*=p;this.imuln(Q),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},i.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red};function m(I,l){I.words=l.words,I.length=l.length,I.negative=l.negative,I.red=l.red}if(i.prototype._move=function(l){m(l,this)},i.prototype.clone=function(){var l=new i(null);return this.copy(l),l},i.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=x}catch{i.prototype.inspect=x}else i.prototype.inspect=x;function x(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var C=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],B=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(l,p){l=l||10,p=p|0||1;var b;if(l===16||l==="hex"){b="";for(var w=0,S=0,U=0;U<this.length;U++){var k=this.words[U],v=((k<<w|S)&16777215).toString(16);S=k>>>24-w&16777215,w+=2,w>=26&&(w-=26,U--),S!==0||U!==this.length-1?b=C[6-v.length]+v+b:b=v+b}for(S!==0&&(b=S.toString(16)+b);b.length%p!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(l===(l|0)&&l>=2&&l<=36){var d=E[l],M=B[l];b="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var $=Q.modrn(M).toString(l);Q=Q.idivn(M),Q.isZero()?b=$+b:b=C[d-$.length]+$+b}for(this.isZero()&&(b="0"+b);b.length%p!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},i.prototype.toJSON=function(){return this.toString(16,2)},c&&(i.prototype.toBuffer=function(l,p){return this.toArrayLike(c,l,p)}),i.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)};var T=function(l,p){return l.allocUnsafe?l.allocUnsafe(p):new l(p)};i.prototype.toArrayLike=function(l,p,b){this._strip();var w=this.byteLength(),S=b||Math.max(1,w);n(w<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0");var U=T(l,S),k=p==="le"?"LE":"BE";return this["_toArrayLike"+k](U,w),U},i.prototype._toArrayLikeLE=function(l,p){for(var b=0,w=0,S=0,U=0;S<this.length;S++){var k=this.words[S]<<U|w;l[b++]=k&255,b<l.length&&(l[b++]=k>>8&255),b<l.length&&(l[b++]=k>>16&255),U===6?(b<l.length&&(l[b++]=k>>24&255),w=0,U=0):(w=k>>>24,U+=2)}if(b<l.length)for(l[b++]=w;b<l.length;)l[b++]=0},i.prototype._toArrayLikeBE=function(l,p){for(var b=l.length-1,w=0,S=0,U=0;S<this.length;S++){var k=this.words[S]<<U|w;l[b--]=k&255,b>=0&&(l[b--]=k>>8&255),b>=0&&(l[b--]=k>>16&255),U===6?(b>=0&&(l[b--]=k>>24&255),w=0,U=0):(w=k>>>24,U+=2)}if(b>=0)for(l[b--]=w;b>=0;)l[b--]=0},Math.clz32?i.prototype._countBits=function(l){return 32-Math.clz32(l)}:i.prototype._countBits=function(l){var p=l,b=0;return p>=4096&&(b+=13,p>>>=13),p>=64&&(b+=7,p>>>=7),p>=8&&(b+=4,p>>>=4),p>=2&&(b+=2,p>>>=2),b+p},i.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,b=0;return(p&8191)===0&&(b+=13,p>>>=13),(p&127)===0&&(b+=7,p>>>=7),(p&15)===0&&(b+=4,p>>>=4),(p&3)===0&&(b+=2,p>>>=2),(p&1)===0&&b++,b},i.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function L(I){for(var l=new Array(I.bitLength()),p=0;p<l.length;p++){var b=p/26|0,w=p%26;l[p]=I.words[b]>>>w&1}return l}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var b=this._zeroBits(this.words[p]);if(l+=b,b!==26)break}return l},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},i.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this._strip()},i.prototype.ior=function(l){return n((this.negative|l.negative)===0),this.iuor(l)},i.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},i.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},i.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var b=0;b<p.length;b++)this.words[b]=this.words[b]&l.words[b];return this.length=p.length,this._strip()},i.prototype.iand=function(l){return n((this.negative|l.negative)===0),this.iuand(l)},i.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},i.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},i.prototype.iuxor=function(l){var p,b;this.length>l.length?(p=this,b=l):(p=l,b=this);for(var w=0;w<b.length;w++)this.words[w]=p.words[w]^b.words[w];if(this!==p)for(;w<p.length;w++)this.words[w]=p.words[w];return this.length=p.length,this._strip()},i.prototype.ixor=function(l){return n((this.negative|l.negative)===0),this.iuxor(l)},i.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},i.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},i.prototype.inotn=function(l){n(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,b=l%26;this._expand(p),b>0&&p--;for(var w=0;w<p;w++)this.words[w]=~this.words[w]&67108863;return b>0&&(this.words[w]=~this.words[w]&67108863>>26-b),this._strip()},i.prototype.notn=function(l){return this.clone().inotn(l)},i.prototype.setn=function(l,p){n(typeof l=="number"&&l>=0);var b=l/26|0,w=l%26;return this._expand(b+1),p?this.words[b]=this.words[b]|1<<w:this.words[b]=this.words[b]&~(1<<w),this._strip()},i.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var b,w;this.length>l.length?(b=this,w=l):(b=l,w=this);for(var S=0,U=0;U<w.length;U++)p=(b.words[U]|0)+(w.words[U]|0)+S,this.words[U]=p&67108863,S=p>>>26;for(;S!==0&&U<b.length;U++)p=(b.words[U]|0)+S,this.words[U]=p&67108863,S=p>>>26;if(this.length=b.length,S!==0)this.words[this.length]=S,this.length++;else if(b!==this)for(;U<b.length;U++)this.words[U]=b.words[U];return this},i.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},i.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var b=this.cmp(l);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var w,S;b>0?(w=this,S=l):(w=l,S=this);for(var U=0,k=0;k<S.length;k++)p=(w.words[k]|0)-(S.words[k]|0)+U,U=p>>26,this.words[k]=p&67108863;for(;U!==0&&k<w.length;k++)p=(w.words[k]|0)+U,U=p>>26,this.words[k]=p&67108863;if(U===0&&k<w.length&&w!==this)for(;k<w.length;k++)this.words[k]=w.words[k];return this.length=Math.max(this.length,k),w!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(l){return this.clone().isub(l)};function P(I,l,p){p.negative=l.negative^I.negative;var b=I.length+l.length|0;p.length=b,b=b-1|0;var w=I.words[0]|0,S=l.words[0]|0,U=w*S,k=U&67108863,v=U/67108864|0;p.words[0]=k;for(var d=1;d<b;d++){for(var M=v>>>26,Q=v&67108863,$=Math.min(d,l.length-1),Z=Math.max(0,d-I.length+1);Z<=$;Z++){var se=d-Z|0;w=I.words[se]|0,S=l.words[Z]|0,U=w*S+Q,M+=U/67108864|0,Q=U&67108863}p.words[d]=Q|0,v=M|0}return v!==0?p.words[d]=v|0:p.length--,p._strip()}var z=function(l,p,b){var w=l.words,S=p.words,U=b.words,k=0,v,d,M,Q=w[0]|0,$=Q&8191,Z=Q>>>13,se=w[1]|0,ee=se&8191,ce=se>>>13,Ae=w[2]|0,Ie=Ae&8191,V=Ae>>>13,We=w[3]|0,Me=We&8191,je=We>>>13,_r=w[4]|0,ze=_r&8191,Qe=_r>>>13,Mr=w[5]|0,qe=Mr&8191,De=Mr>>>13,Ke=w[6]|0,He=Ke&8191,Ye=Ke>>>13,st=w[7]|0,Ve=st&8191,f=st>>>13,s=w[8]|0,a=s&8191,g=s>>>13,A=w[9]|0,_=A&8191,O=A>>>13,X=S[0]|0,oe=X&8191,ie=X>>>13,we=S[1]|0,te=we&8191,at=we>>>13,vl=S[2]|0,ct=vl&8191,ut=vl>>>13,Al=S[3]|0,lt=Al&8191,ft=Al>>>13,El=S[4]|0,ht=El&8191,dt=El>>>13,xl=S[5]|0,pt=xl&8191,gt=xl>>>13,Sl=S[6]|0,yt=Sl&8191,wt=Sl>>>13,Il=S[7]|0,mt=Il&8191,bt=Il>>>13,_l=S[8]|0,vt=_l&8191,At=_l>>>13,Ml=S[9]|0,Et=Ml&8191,xt=Ml>>>13;b.negative=l.negative^p.negative,b.length=19,v=Math.imul($,oe),d=Math.imul($,ie),d=d+Math.imul(Z,oe)|0,M=Math.imul(Z,ie);var aa=(k+v|0)+((d&8191)<<13)|0;k=(M+(d>>>13)|0)+(aa>>>26)|0,aa&=67108863,v=Math.imul(ee,oe),d=Math.imul(ee,ie),d=d+Math.imul(ce,oe)|0,M=Math.imul(ce,ie),v=v+Math.imul($,te)|0,d=d+Math.imul($,at)|0,d=d+Math.imul(Z,te)|0,M=M+Math.imul(Z,at)|0;var ca=(k+v|0)+((d&8191)<<13)|0;k=(M+(d>>>13)|0)+(ca>>>26)|0,ca&=67108863,v=Math.imul(Ie,oe),d=Math.imul(Ie,ie),d=d+Math.imul(V,oe)|0,M=Math.imul(V,ie),v=v+Math.imul(ee,te)|0,d=d+Math.imul(ee,at)|0,d=d+Math.imul(ce,te)|0,M=M+Math.imul(ce,at)|0,v=v+Math.imul($,ct)|0,d=d+Math.imul($,ut)|0,d=d+Math.imul(Z,ct)|0,M=M+Math.imul(Z,ut)|0;var ua=(k+v|0)+((d&8191)<<13)|0;k=(M+(d>>>13)|0)+(ua>>>26)|0,ua&=67108863,v=Math.imul(Me,oe),d=Math.imul(Me,ie),d=d+Math.imul(je,oe)|0,M=Math.imul(je,ie),v=v+Math.imul(Ie,te)|0,d=d+Math.imul(Ie,at)|0,d=d+Math.imul(V,te)|0,M=M+Math.imul(V,at)|0,v=v+Math.imul(ee,ct)|0,d=d+Math.imul(ee,ut)|0,d=d+Math.imul(ce,ct)|0,M=M+Math.imul(ce,ut)|0,v=v+Math.imul($,lt)|0,d=d+Math.imul($,ft)|0,d=d+Math.imul(Z,lt)|0,M=M+Math.imul(Z,ft)|0;var la=(k+v|0)+((d&8191)<<13)|0;k=(M+(d>>>13)|0)+(la>>>26)|0,la&=67108863,v=Math.imul(ze,oe),d=Math.imul(ze,ie),d=d+Math.imul(Qe,oe)|0,M=Math.imul(Qe,ie),v=v+Math.imul(Me,te)|0,d=d+Math.imul(Me,at)|0,d=d+Math.imul(je,te)|0,M=M+Math.imul(je,at)|0,v=v+Math.imul(Ie,ct)|0,d=d+Math.imul(Ie,ut)|0,d=d+Math.imul(V,ct)|0,M=M+Math.imul(V,ut)|0,v=v+Math.imul(ee,lt)|0,d=d+Math.imul(ee,ft)|0,d=d+Math.imul(ce,lt)|0,M=M+Math.imul(ce,ft)|0,v=v+Math.imul($,ht)|0,d=d+Math.imul($,dt)|0,d=d+Math.imul(Z,ht)|0,M=M+Math.imul(Z,dt)|0;var fa=(k+v|0)+((d&8191)<<13)|0;k=(M+(d>>>13)|0)+(fa>>>26)|0,fa&=67108863,v=Math.imul(qe,oe),d=Math.imul(qe,ie),d=d+Math.imul(De,oe)|0,M=Math.imul(De,ie),v=v+Math.imul(ze,te)|0,d=d+Math.imul(ze,at)|0,d=d+Math.imul(Qe,te)|0,M=M+Math.imul(Qe,at)|0,v=v+Math.imul(Me,ct)|0,d=d+Math.imul(Me,ut)|0,d=d+Math.imul(je,ct)|0,M=M+Math.imul(je,ut)|0,v=v+Math.imul(Ie,lt)|0,d=d+Math.imul(Ie,ft)|0,d=d+Math.imul(V,lt)|0,M=M+Math.imul(V,ft)|0,v=v+Math.imul(ee,ht)|0,d=d+Math.imul(ee,dt)|0,d=d+Math.imul(ce,ht)|0,M=M+Math.imul(ce,dt)|0,v=v+Math.imul($,pt)|0,d=d+Math.imul($,gt)|0,d=d+Math.imul(Z,pt)|0,M=M+Math.imul(Z,gt)|0;var ha=(k+v|0)+((d&8191)<<13)|0;k=(M+(d>>>13)|0)+(ha>>>26)|0,ha&=67108863,v=Math.imul(He,oe),d=Math.imul(He,ie),d=d+Math.imul(Ye,oe)|0,M=Math.imul(Ye,ie),v=v+Math.imul(qe,te)|0,d=d+Math.imul(qe,at)|0,d=d+Math.imul(De,te)|0,M=M+Math.imul(De,at)|0,v=v+Math.imul(ze,ct)|0,d=d+Math.imul(ze,ut)|0,d=d+Math.imul(Qe,ct)|0,M=M+Math.imul(Qe,ut)|0,v=v+Math.imul(Me,lt)|0,d=d+Math.imul(Me,ft)|0,d=d+Math.imul(je,lt)|0,M=M+Math.imul(je,ft)|0,v=v+Math.imul(Ie,ht)|0,d=d+Math.imul(Ie,dt)|0,d=d+Math.imul(V,ht)|0,M=M+Math.imul(V,dt)|0,v=v+Math.imul(ee,pt)|0,d=d+Math.imul(ee,gt)|0,d=d+Math.imul(ce,pt)|0,M=M+Math.imul(ce,gt)|0,v=v+Math.imul($,yt)|0,d=d+Math.imul($,wt)|0,d=d+Math.imul(Z,yt)|0,M=M+Math.imul(Z,wt)|0;var da=(k+v|0)+((d&8191)<<13)|0;k=(M+(d>>>13)|0)+(da>>>26)|0,da&=67108863,v=Math.imul(Ve,oe),d=Math.imul(Ve,ie),d=d+Math.imul(f,oe)|0,M=Math.imul(f,ie),v=v+Math.imul(He,te)|0,d=d+Math.imul(He,at)|0,d=d+Math.imul(Ye,te)|0,M=M+Math.imul(Ye,at)|0,v=v+Math.imul(qe,ct)|0,d=d+Math.imul(qe,ut)|0,d=d+Math.imul(De,ct)|0,M=M+Math.imul(De,ut)|0,v=v+Math.imul(ze,lt)|0,d=d+Math.imul(ze,ft)|0,d=d+Math.imul(Qe,lt)|0,M=M+Math.imul(Qe,ft)|0,v=v+Math.imul(Me,ht)|0,d=d+Math.imul(Me,dt)|0,d=d+Math.imul(je,ht)|0,M=M+Math.imul(je,dt)|0,v=v+Math.imul(Ie,pt)|0,d=d+Math.imul(Ie,gt)|0,d=d+Math.imul(V,pt)|0,M=M+Math.imul(V,gt)|0,v=v+Math.imul(ee,yt)|0,d=d+Math.imul(ee,wt)|0,d=d+Math.imul(ce,yt)|0,M=M+Math.imul(ce,wt)|0,v=v+Math.imul($,mt)|0,d=d+Math.imul($,bt)|0,d=d+Math.imul(Z,mt)|0,M=M+Math.imul(Z,bt)|0;var pa=(k+v|0)+((d&8191)<<13)|0;k=(M+(d>>>13)|0)+(pa>>>26)|0,pa&=67108863,v=Math.imul(a,oe),d=Math.imul(a,ie),d=d+Math.imul(g,oe)|0,M=Math.imul(g,ie),v=v+Math.imul(Ve,te)|0,d=d+Math.imul(Ve,at)|0,d=d+Math.imul(f,te)|0,M=M+Math.imul(f,at)|0,v=v+Math.imul(He,ct)|0,d=d+Math.imul(He,ut)|0,d=d+Math.imul(Ye,ct)|0,M=M+Math.imul(Ye,ut)|0,v=v+Math.imul(qe,lt)|0,d=d+Math.imul(qe,ft)|0,d=d+Math.imul(De,lt)|0,M=M+Math.imul(De,ft)|0,v=v+Math.imul(ze,ht)|0,d=d+Math.imul(ze,dt)|0,d=d+Math.imul(Qe,ht)|0,M=M+Math.imul(Qe,dt)|0,v=v+Math.imul(Me,pt)|0,d=d+Math.imul(Me,gt)|0,d=d+Math.imul(je,pt)|0,M=M+Math.imul(je,gt)|0,v=v+Math.imul(Ie,yt)|0,d=d+Math.imul(Ie,wt)|0,d=d+Math.imul(V,yt)|0,M=M+Math.imul(V,wt)|0,v=v+Math.imul(ee,mt)|0,d=d+Math.imul(ee,bt)|0,d=d+Math.imul(ce,mt)|0,M=M+Math.imul(ce,bt)|0,v=v+Math.imul($,vt)|0,d=d+Math.imul($,At)|0,d=d+Math.imul(Z,vt)|0,M=M+Math.imul(Z,At)|0;var ga=(k+v|0)+((d&8191)<<13)|0;k=(M+(d>>>13)|0)+(ga>>>26)|0,ga&=67108863,v=Math.imul(_,oe),d=Math.imul(_,ie),d=d+Math.imul(O,oe)|0,M=Math.imul(O,ie),v=v+Math.imul(a,te)|0,d=d+Math.imul(a,at)|0,d=d+Math.imul(g,te)|0,M=M+Math.imul(g,at)|0,v=v+Math.imul(Ve,ct)|0,d=d+Math.imul(Ve,ut)|0,d=d+Math.imul(f,ct)|0,M=M+Math.imul(f,ut)|0,v=v+Math.imul(He,lt)|0,d=d+Math.imul(He,ft)|0,d=d+Math.imul(Ye,lt)|0,M=M+Math.imul(Ye,ft)|0,v=v+Math.imul(qe,ht)|0,d=d+Math.imul(qe,dt)|0,d=d+Math.imul(De,ht)|0,M=M+Math.imul(De,dt)|0,v=v+Math.imul(ze,pt)|0,d=d+Math.imul(ze,gt)|0,d=d+Math.imul(Qe,pt)|0,M=M+Math.imul(Qe,gt)|0,v=v+Math.imul(Me,yt)|0,d=d+Math.imul(Me,wt)|0,d=d+Math.imul(je,yt)|0,M=M+Math.imul(je,wt)|0,v=v+Math.imul(Ie,mt)|0,d=d+Math.imul(Ie,bt)|0,d=d+Math.imul(V,mt)|0,M=M+Math.imul(V,bt)|0,v=v+Math.imul(ee,vt)|0,d=d+Math.imul(ee,At)|0,d=d+Math.imul(ce,vt)|0,M=M+Math.imul(ce,At)|0,v=v+Math.imul($,Et)|0,d=d+Math.imul($,xt)|0,d=d+Math.imul(Z,Et)|0,M=M+Math.imul(Z,xt)|0;var ya=(k+v|0)+((d&8191)<<13)|0;k=(M+(d>>>13)|0)+(ya>>>26)|0,ya&=67108863,v=Math.imul(_,te),d=Math.imul(_,at),d=d+Math.imul(O,te)|0,M=Math.imul(O,at),v=v+Math.imul(a,ct)|0,d=d+Math.imul(a,ut)|0,d=d+Math.imul(g,ct)|0,M=M+Math.imul(g,ut)|0,v=v+Math.imul(Ve,lt)|0,d=d+Math.imul(Ve,ft)|0,d=d+Math.imul(f,lt)|0,M=M+Math.imul(f,ft)|0,v=v+Math.imul(He,ht)|0,d=d+Math.imul(He,dt)|0,d=d+Math.imul(Ye,ht)|0,M=M+Math.imul(Ye,dt)|0,v=v+Math.imul(qe,pt)|0,d=d+Math.imul(qe,gt)|0,d=d+Math.imul(De,pt)|0,M=M+Math.imul(De,gt)|0,v=v+Math.imul(ze,yt)|0,d=d+Math.imul(ze,wt)|0,d=d+Math.imul(Qe,yt)|0,M=M+Math.imul(Qe,wt)|0,v=v+Math.imul(Me,mt)|0,d=d+Math.imul(Me,bt)|0,d=d+Math.imul(je,mt)|0,M=M+Math.imul(je,bt)|0,v=v+Math.imul(Ie,vt)|0,d=d+Math.imul(Ie,At)|0,d=d+Math.imul(V,vt)|0,M=M+Math.imul(V,At)|0,v=v+Math.imul(ee,Et)|0,d=d+Math.imul(ee,xt)|0,d=d+Math.imul(ce,Et)|0,M=M+Math.imul(ce,xt)|0;var wa=(k+v|0)+((d&8191)<<13)|0;k=(M+(d>>>13)|0)+(wa>>>26)|0,wa&=67108863,v=Math.imul(_,ct),d=Math.imul(_,ut),d=d+Math.imul(O,ct)|0,M=Math.imul(O,ut),v=v+Math.imul(a,lt)|0,d=d+Math.imul(a,ft)|0,d=d+Math.imul(g,lt)|0,M=M+Math.imul(g,ft)|0,v=v+Math.imul(Ve,ht)|0,d=d+Math.imul(Ve,dt)|0,d=d+Math.imul(f,ht)|0,M=M+Math.imul(f,dt)|0,v=v+Math.imul(He,pt)|0,d=d+Math.imul(He,gt)|0,d=d+Math.imul(Ye,pt)|0,M=M+Math.imul(Ye,gt)|0,v=v+Math.imul(qe,yt)|0,d=d+Math.imul(qe,wt)|0,d=d+Math.imul(De,yt)|0,M=M+Math.imul(De,wt)|0,v=v+Math.imul(ze,mt)|0,d=d+Math.imul(ze,bt)|0,d=d+Math.imul(Qe,mt)|0,M=M+Math.imul(Qe,bt)|0,v=v+Math.imul(Me,vt)|0,d=d+Math.imul(Me,At)|0,d=d+Math.imul(je,vt)|0,M=M+Math.imul(je,At)|0,v=v+Math.imul(Ie,Et)|0,d=d+Math.imul(Ie,xt)|0,d=d+Math.imul(V,Et)|0,M=M+Math.imul(V,xt)|0;var ma=(k+v|0)+((d&8191)<<13)|0;k=(M+(d>>>13)|0)+(ma>>>26)|0,ma&=67108863,v=Math.imul(_,lt),d=Math.imul(_,ft),d=d+Math.imul(O,lt)|0,M=Math.imul(O,ft),v=v+Math.imul(a,ht)|0,d=d+Math.imul(a,dt)|0,d=d+Math.imul(g,ht)|0,M=M+Math.imul(g,dt)|0,v=v+Math.imul(Ve,pt)|0,d=d+Math.imul(Ve,gt)|0,d=d+Math.imul(f,pt)|0,M=M+Math.imul(f,gt)|0,v=v+Math.imul(He,yt)|0,d=d+Math.imul(He,wt)|0,d=d+Math.imul(Ye,yt)|0,M=M+Math.imul(Ye,wt)|0,v=v+Math.imul(qe,mt)|0,d=d+Math.imul(qe,bt)|0,d=d+Math.imul(De,mt)|0,M=M+Math.imul(De,bt)|0,v=v+Math.imul(ze,vt)|0,d=d+Math.imul(ze,At)|0,d=d+Math.imul(Qe,vt)|0,M=M+Math.imul(Qe,At)|0,v=v+Math.imul(Me,Et)|0,d=d+Math.imul(Me,xt)|0,d=d+Math.imul(je,Et)|0,M=M+Math.imul(je,xt)|0;var ba=(k+v|0)+((d&8191)<<13)|0;k=(M+(d>>>13)|0)+(ba>>>26)|0,ba&=67108863,v=Math.imul(_,ht),d=Math.imul(_,dt),d=d+Math.imul(O,ht)|0,M=Math.imul(O,dt),v=v+Math.imul(a,pt)|0,d=d+Math.imul(a,gt)|0,d=d+Math.imul(g,pt)|0,M=M+Math.imul(g,gt)|0,v=v+Math.imul(Ve,yt)|0,d=d+Math.imul(Ve,wt)|0,d=d+Math.imul(f,yt)|0,M=M+Math.imul(f,wt)|0,v=v+Math.imul(He,mt)|0,d=d+Math.imul(He,bt)|0,d=d+Math.imul(Ye,mt)|0,M=M+Math.imul(Ye,bt)|0,v=v+Math.imul(qe,vt)|0,d=d+Math.imul(qe,At)|0,d=d+Math.imul(De,vt)|0,M=M+Math.imul(De,At)|0,v=v+Math.imul(ze,Et)|0,d=d+Math.imul(ze,xt)|0,d=d+Math.imul(Qe,Et)|0,M=M+Math.imul(Qe,xt)|0;var va=(k+v|0)+((d&8191)<<13)|0;k=(M+(d>>>13)|0)+(va>>>26)|0,va&=67108863,v=Math.imul(_,pt),d=Math.imul(_,gt),d=d+Math.imul(O,pt)|0,M=Math.imul(O,gt),v=v+Math.imul(a,yt)|0,d=d+Math.imul(a,wt)|0,d=d+Math.imul(g,yt)|0,M=M+Math.imul(g,wt)|0,v=v+Math.imul(Ve,mt)|0,d=d+Math.imul(Ve,bt)|0,d=d+Math.imul(f,mt)|0,M=M+Math.imul(f,bt)|0,v=v+Math.imul(He,vt)|0,d=d+Math.imul(He,At)|0,d=d+Math.imul(Ye,vt)|0,M=M+Math.imul(Ye,At)|0,v=v+Math.imul(qe,Et)|0,d=d+Math.imul(qe,xt)|0,d=d+Math.imul(De,Et)|0,M=M+Math.imul(De,xt)|0;var Aa=(k+v|0)+((d&8191)<<13)|0;k=(M+(d>>>13)|0)+(Aa>>>26)|0,Aa&=67108863,v=Math.imul(_,yt),d=Math.imul(_,wt),d=d+Math.imul(O,yt)|0,M=Math.imul(O,wt),v=v+Math.imul(a,mt)|0,d=d+Math.imul(a,bt)|0,d=d+Math.imul(g,mt)|0,M=M+Math.imul(g,bt)|0,v=v+Math.imul(Ve,vt)|0,d=d+Math.imul(Ve,At)|0,d=d+Math.imul(f,vt)|0,M=M+Math.imul(f,At)|0,v=v+Math.imul(He,Et)|0,d=d+Math.imul(He,xt)|0,d=d+Math.imul(Ye,Et)|0,M=M+Math.imul(Ye,xt)|0;var Ea=(k+v|0)+((d&8191)<<13)|0;k=(M+(d>>>13)|0)+(Ea>>>26)|0,Ea&=67108863,v=Math.imul(_,mt),d=Math.imul(_,bt),d=d+Math.imul(O,mt)|0,M=Math.imul(O,bt),v=v+Math.imul(a,vt)|0,d=d+Math.imul(a,At)|0,d=d+Math.imul(g,vt)|0,M=M+Math.imul(g,At)|0,v=v+Math.imul(Ve,Et)|0,d=d+Math.imul(Ve,xt)|0,d=d+Math.imul(f,Et)|0,M=M+Math.imul(f,xt)|0;var xa=(k+v|0)+((d&8191)<<13)|0;k=(M+(d>>>13)|0)+(xa>>>26)|0,xa&=67108863,v=Math.imul(_,vt),d=Math.imul(_,At),d=d+Math.imul(O,vt)|0,M=Math.imul(O,At),v=v+Math.imul(a,Et)|0,d=d+Math.imul(a,xt)|0,d=d+Math.imul(g,Et)|0,M=M+Math.imul(g,xt)|0;var Sa=(k+v|0)+((d&8191)<<13)|0;k=(M+(d>>>13)|0)+(Sa>>>26)|0,Sa&=67108863,v=Math.imul(_,Et),d=Math.imul(_,xt),d=d+Math.imul(O,Et)|0,M=Math.imul(O,xt);var Ia=(k+v|0)+((d&8191)<<13)|0;return k=(M+(d>>>13)|0)+(Ia>>>26)|0,Ia&=67108863,U[0]=aa,U[1]=ca,U[2]=ua,U[3]=la,U[4]=fa,U[5]=ha,U[6]=da,U[7]=pa,U[8]=ga,U[9]=ya,U[10]=wa,U[11]=ma,U[12]=ba,U[13]=va,U[14]=Aa,U[15]=Ea,U[16]=xa,U[17]=Sa,U[18]=Ia,k!==0&&(U[19]=k,b.length++),b};Math.imul||(z=P);function N(I,l,p){p.negative=l.negative^I.negative,p.length=I.length+l.length;for(var b=0,w=0,S=0;S<p.length-1;S++){var U=w;w=0;for(var k=b&67108863,v=Math.min(S,l.length-1),d=Math.max(0,S-I.length+1);d<=v;d++){var M=S-d,Q=I.words[M]|0,$=l.words[d]|0,Z=Q*$,se=Z&67108863;U=U+(Z/67108864|0)|0,se=se+k|0,k=se&67108863,U=U+(se>>>26)|0,w+=U>>>26,U&=67108863}p.words[S]=k,b=U,U=w}return b!==0?p.words[S]=b:p.length--,p._strip()}function F(I,l,p){return N(I,l,p)}i.prototype.mulTo=function(l,p){var b,w=this.length+l.length;return this.length===10&&l.length===10?b=z(this,l,p):w<63?b=P(this,l,p):w<1024?b=N(this,l,p):b=F(this,l,p),b},i.prototype.mul=function(l){var p=new i(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},i.prototype.mulf=function(l){var p=new i(null);return p.words=new Array(this.length+l.length),F(this,l,p)},i.prototype.imul=function(l){return this.clone().mulTo(l,this)},i.prototype.imuln=function(l){var p=l<0;p&&(l=-l),n(typeof l=="number"),n(l<67108864);for(var b=0,w=0;w<this.length;w++){var S=(this.words[w]|0)*l,U=(S&67108863)+(b&67108863);b>>=26,b+=S/67108864|0,b+=U>>>26,this.words[w]=U&67108863}return b!==0&&(this.words[w]=b,this.length++),p?this.ineg():this},i.prototype.muln=function(l){return this.clone().imuln(l)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(l){var p=L(l);if(p.length===0)return new i(1);for(var b=this,w=0;w<p.length&&p[w]===0;w++,b=b.sqr());if(++w<p.length)for(var S=b.sqr();w<p.length;w++,S=S.sqr())p[w]!==0&&(b=b.mul(S));return b},i.prototype.iushln=function(l){n(typeof l=="number"&&l>=0);var p=l%26,b=(l-p)/26,w=67108863>>>26-p<<26-p,S;if(p!==0){var U=0;for(S=0;S<this.length;S++){var k=this.words[S]&w,v=(this.words[S]|0)-k<<p;this.words[S]=v|U,U=k>>>26-p}U&&(this.words[S]=U,this.length++)}if(b!==0){for(S=this.length-1;S>=0;S--)this.words[S+b]=this.words[S];for(S=0;S<b;S++)this.words[S]=0;this.length+=b}return this._strip()},i.prototype.ishln=function(l){return n(this.negative===0),this.iushln(l)},i.prototype.iushrn=function(l,p,b){n(typeof l=="number"&&l>=0);var w;p?w=(p-p%26)/26:w=0;var S=l%26,U=Math.min((l-S)/26,this.length),k=67108863^67108863>>>S<<S,v=b;if(w-=U,w=Math.max(0,w),v){for(var d=0;d<U;d++)v.words[d]=this.words[d];v.length=U}if(U!==0)if(this.length>U)for(this.length-=U,d=0;d<this.length;d++)this.words[d]=this.words[d+U];else this.words[0]=0,this.length=1;var M=0;for(d=this.length-1;d>=0&&(M!==0||d>=w);d--){var Q=this.words[d]|0;this.words[d]=M<<26-S|Q>>>S,M=Q&k}return v&&M!==0&&(v.words[v.length++]=M),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(l,p,b){return n(this.negative===0),this.iushrn(l,p,b)},i.prototype.shln=function(l){return this.clone().ishln(l)},i.prototype.ushln=function(l){return this.clone().iushln(l)},i.prototype.shrn=function(l){return this.clone().ishrn(l)},i.prototype.ushrn=function(l){return this.clone().iushrn(l)},i.prototype.testn=function(l){n(typeof l=="number"&&l>=0);var p=l%26,b=(l-p)/26,w=1<<p;if(this.length<=b)return!1;var S=this.words[b];return!!(S&w)},i.prototype.imaskn=function(l){n(typeof l=="number"&&l>=0);var p=l%26,b=(l-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(p!==0&&b++,this.length=Math.min(b,this.length),p!==0){var w=67108863^67108863>>>p<<p;this.words[this.length-1]&=w}return this._strip()},i.prototype.maskn=function(l){return this.clone().imaskn(l)},i.prototype.iaddn=function(l){return n(typeof l=="number"),n(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},i.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},i.prototype.isubn=function(l){if(n(typeof l=="number"),n(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},i.prototype.addn=function(l){return this.clone().iaddn(l)},i.prototype.subn=function(l){return this.clone().isubn(l)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(l,p,b){var w=l.length+b,S;this._expand(w);var U,k=0;for(S=0;S<l.length;S++){U=(this.words[S+b]|0)+k;var v=(l.words[S]|0)*p;U-=v&67108863,k=(U>>26)-(v/67108864|0),this.words[S+b]=U&67108863}for(;S<this.length-b;S++)U=(this.words[S+b]|0)+k,k=U>>26,this.words[S+b]=U&67108863;if(k===0)return this._strip();for(n(k===-1),k=0,S=0;S<this.length;S++)U=-(this.words[S]|0)+k,k=U>>26,this.words[S]=U&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(l,p){var b=this.length-l.length,w=this.clone(),S=l,U=S.words[S.length-1]|0,k=this._countBits(U);b=26-k,b!==0&&(S=S.ushln(b),w.iushln(b),U=S.words[S.length-1]|0);var v=w.length-S.length,d;if(p!=="mod"){d=new i(null),d.length=v+1,d.words=new Array(d.length);for(var M=0;M<d.length;M++)d.words[M]=0}var Q=w.clone()._ishlnsubmul(S,1,v);Q.negative===0&&(w=Q,d&&(d.words[v]=1));for(var $=v-1;$>=0;$--){var Z=(w.words[S.length+$]|0)*67108864+(w.words[S.length+$-1]|0);for(Z=Math.min(Z/U|0,67108863),w._ishlnsubmul(S,Z,$);w.negative!==0;)Z--,w.negative=0,w._ishlnsubmul(S,1,$),w.isZero()||(w.negative^=1);d&&(d.words[$]=Z)}return d&&d._strip(),w._strip(),p!=="div"&&b!==0&&w.iushrn(b),{div:d||null,mod:w}},i.prototype.divmod=function(l,p,b){if(n(!l.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var w,S,U;return this.negative!==0&&l.negative===0?(U=this.neg().divmod(l,p),p!=="mod"&&(w=U.div.neg()),p!=="div"&&(S=U.mod.neg(),b&&S.negative!==0&&S.iadd(l)),{div:w,mod:S}):this.negative===0&&l.negative!==0?(U=this.divmod(l.neg(),p),p!=="mod"&&(w=U.div.neg()),{div:w,mod:U.mod}):(this.negative&l.negative)!==0?(U=this.neg().divmod(l.neg(),p),p!=="div"&&(S=U.mod.neg(),b&&S.negative!==0&&S.isub(l)),{div:U.div,mod:S}):l.length>this.length||this.cmp(l)<0?{div:new i(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new i(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new i(this.modrn(l.words[0]))}:this._wordDiv(l,p)},i.prototype.div=function(l){return this.divmod(l,"div",!1).div},i.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},i.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},i.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var b=p.div.negative!==0?p.mod.isub(l):p.mod,w=l.ushrn(1),S=l.andln(1),U=b.cmp(w);return U<0||S===1&&U===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},i.prototype.modrn=function(l){var p=l<0;p&&(l=-l),n(l<=67108863);for(var b=(1<<26)%l,w=0,S=this.length-1;S>=0;S--)w=(b*w+(this.words[S]|0))%l;return p?-w:w},i.prototype.modn=function(l){return this.modrn(l)},i.prototype.idivn=function(l){var p=l<0;p&&(l=-l),n(l<=67108863);for(var b=0,w=this.length-1;w>=0;w--){var S=(this.words[w]|0)+b*67108864;this.words[w]=S/l|0,b=S%l}return this._strip(),p?this.ineg():this},i.prototype.divn=function(l){return this.clone().idivn(l)},i.prototype.egcd=function(l){n(l.negative===0),n(!l.isZero());var p=this,b=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var w=new i(1),S=new i(0),U=new i(0),k=new i(1),v=0;p.isEven()&&b.isEven();)p.iushrn(1),b.iushrn(1),++v;for(var d=b.clone(),M=p.clone();!p.isZero();){for(var Q=0,$=1;(p.words[0]&$)===0&&Q<26;++Q,$<<=1);if(Q>0)for(p.iushrn(Q);Q-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(d),S.isub(M)),w.iushrn(1),S.iushrn(1);for(var Z=0,se=1;(b.words[0]&se)===0&&Z<26;++Z,se<<=1);if(Z>0)for(b.iushrn(Z);Z-- >0;)(U.isOdd()||k.isOdd())&&(U.iadd(d),k.isub(M)),U.iushrn(1),k.iushrn(1);p.cmp(b)>=0?(p.isub(b),w.isub(U),S.isub(k)):(b.isub(p),U.isub(w),k.isub(S))}return{a:U,b:k,gcd:b.iushln(v)}},i.prototype._invmp=function(l){n(l.negative===0),n(!l.isZero());var p=this,b=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var w=new i(1),S=new i(0),U=b.clone();p.cmpn(1)>0&&b.cmpn(1)>0;){for(var k=0,v=1;(p.words[0]&v)===0&&k<26;++k,v<<=1);if(k>0)for(p.iushrn(k);k-- >0;)w.isOdd()&&w.iadd(U),w.iushrn(1);for(var d=0,M=1;(b.words[0]&M)===0&&d<26;++d,M<<=1);if(d>0)for(b.iushrn(d);d-- >0;)S.isOdd()&&S.iadd(U),S.iushrn(1);p.cmp(b)>=0?(p.isub(b),w.isub(S)):(b.isub(p),S.isub(w))}var Q;return p.cmpn(1)===0?Q=w:Q=S,Q.cmpn(0)<0&&Q.iadd(l),Q},i.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),b=l.clone();p.negative=0,b.negative=0;for(var w=0;p.isEven()&&b.isEven();w++)p.iushrn(1),b.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;b.isEven();)b.iushrn(1);var S=p.cmp(b);if(S<0){var U=p;p=b,b=U}else if(S===0||b.cmpn(1)===0)break;p.isub(b)}while(!0);return b.iushln(w)},i.prototype.invm=function(l){return this.egcd(l).a.umod(l)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(l){return this.words[0]&l},i.prototype.bincn=function(l){n(typeof l=="number");var p=l%26,b=(l-p)/26,w=1<<p;if(this.length<=b)return this._expand(b+1),this.words[b]|=w,this;for(var S=w,U=b;S!==0&&U<this.length;U++){var k=this.words[U]|0;k+=S,S=k>>>26,k&=67108863,this.words[U]=k}return S!==0&&(this.words[U]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var b;if(this.length>1)b=1;else{p&&(l=-l),n(l<=67108863,"Number is too big");var w=this.words[0]|0;b=w===l?0:w<l?-1:1}return this.negative!==0?-b|0:b},i.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},i.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,b=this.length-1;b>=0;b--){var w=this.words[b]|0,S=l.words[b]|0;if(w!==S){w<S?p=-1:w>S&&(p=1);break}}return p},i.prototype.gtn=function(l){return this.cmpn(l)===1},i.prototype.gt=function(l){return this.cmp(l)===1},i.prototype.gten=function(l){return this.cmpn(l)>=0},i.prototype.gte=function(l){return this.cmp(l)>=0},i.prototype.ltn=function(l){return this.cmpn(l)===-1},i.prototype.lt=function(l){return this.cmp(l)===-1},i.prototype.lten=function(l){return this.cmpn(l)<=0},i.prototype.lte=function(l){return this.cmp(l)<=0},i.prototype.eqn=function(l){return this.cmpn(l)===0},i.prototype.eq=function(l){return this.cmp(l)===0},i.red=function(l){return new ye(l)},i.prototype.toRed=function(l){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(l){return this.red=l,this},i.prototype.forceRed=function(l){return n(!this.red,"Already a number in reduction context"),this._forceRed(l)},i.prototype.redAdd=function(l){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},i.prototype.redIAdd=function(l){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},i.prototype.redSub=function(l){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},i.prototype.redISub=function(l){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},i.prototype.redShl=function(l){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},i.prototype.redMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},i.prototype.redIMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(l){return n(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var R={k256:null,p224:null,p192:null,p25519:null};function H(I,l){this.name=I,this.p=new i(l,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}H.prototype._tmp=function(){var l=new i(null);return l.words=new Array(Math.ceil(this.n/13)),l},H.prototype.ireduce=function(l){var p=l,b;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),b=p.bitLength();while(b>this.n);var w=b<this.n?-1:p.ucmp(this.p);return w===0?(p.words[0]=0,p.length=1):w>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},H.prototype.split=function(l,p){l.iushrn(this.n,0,p)},H.prototype.imulK=function(l){return l.imul(this.k)};function q(){H.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(q,H),q.prototype.split=function(l,p){for(var b=4194303,w=Math.min(l.length,9),S=0;S<w;S++)p.words[S]=l.words[S];if(p.length=w,l.length<=9){l.words[0]=0,l.length=1;return}var U=l.words[9];for(p.words[p.length++]=U&b,S=10;S<l.length;S++){var k=l.words[S]|0;l.words[S-10]=(k&b)<<4|U>>>22,U=k}U>>>=22,l.words[S-10]=U,U===0&&l.length>10?l.length-=10:l.length-=9},q.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,b=0;b<l.length;b++){var w=l.words[b]|0;p+=w*977,l.words[b]=p&67108863,p=w*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function G(){H.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(G,H);function he(){H.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(he,H);function ve(){H.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(ve,H),ve.prototype.imulK=function(l){for(var p=0,b=0;b<l.length;b++){var w=(l.words[b]|0)*19+p,S=w&67108863;w>>>=26,l.words[b]=S,p=w}return p!==0&&(l.words[l.length++]=p),l},i._prime=function(l){if(R[l])return R[l];var p;if(l==="k256")p=new q;else if(l==="p224")p=new G;else if(l==="p192")p=new he;else if(l==="p25519")p=new ve;else throw new Error("Unknown prime "+l);return R[l]=p,p};function ye(I){if(typeof I=="string"){var l=i._prime(I);this.m=l.p,this.prime=l}else n(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}ye.prototype._verify1=function(l){n(l.negative===0,"red works only with positives"),n(l.red,"red works only with red numbers")},ye.prototype._verify2=function(l,p){n((l.negative|p.negative)===0,"red works only with positives"),n(l.red&&l.red===p.red,"red works only with red numbers")},ye.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(m(l,l.umod(this.m)._forceRed(this)),l)},ye.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},ye.prototype.add=function(l,p){this._verify2(l,p);var b=l.add(p);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},ye.prototype.iadd=function(l,p){this._verify2(l,p);var b=l.iadd(p);return b.cmp(this.m)>=0&&b.isub(this.m),b},ye.prototype.sub=function(l,p){this._verify2(l,p);var b=l.sub(p);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},ye.prototype.isub=function(l,p){this._verify2(l,p);var b=l.isub(p);return b.cmpn(0)<0&&b.iadd(this.m),b},ye.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},ye.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},ye.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},ye.prototype.isqr=function(l){return this.imul(l,l.clone())},ye.prototype.sqr=function(l){return this.mul(l,l)},ye.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(l,b)}for(var w=this.m.subn(1),S=0;!w.isZero()&&w.andln(1)===0;)S++,w.iushrn(1);n(!w.isZero());var U=new i(1).toRed(this),k=U.redNeg(),v=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);this.pow(d,v).cmp(k)!==0;)d.redIAdd(k);for(var M=this.pow(d,w),Q=this.pow(l,w.addn(1).iushrn(1)),$=this.pow(l,w),Z=S;$.cmp(U)!==0;){for(var se=$,ee=0;se.cmp(U)!==0;ee++)se=se.redSqr();n(ee<Z);var ce=this.pow(M,new i(1).iushln(Z-ee-1));Q=Q.redMul(ce),M=ce.redSqr(),$=$.redMul(M),Z=ee}return Q},ye.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},ye.prototype.pow=function(l,p){if(p.isZero())return new i(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var b=4,w=new Array(1<<b);w[0]=new i(1).toRed(this),w[1]=l;for(var S=2;S<w.length;S++)w[S]=this.mul(w[S-1],l);var U=w[0],k=0,v=0,d=p.bitLength()%26;for(d===0&&(d=26),S=p.length-1;S>=0;S--){for(var M=p.words[S],Q=d-1;Q>=0;Q--){var $=M>>Q&1;if(U!==w[0]&&(U=this.sqr(U)),$===0&&k===0){v=0;continue}k<<=1,k|=$,v++,!(v!==b&&(S!==0||Q!==0))&&(U=this.mul(U,w[k]),v=0,k=0)}d=26}return U},ye.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},ye.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},i.mont=function(l){return new xe(l)};function xe(I){ye.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(xe,ye),xe.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},xe.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},xe.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var b=l.imul(p),w=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=b.isub(w).iushrn(this.shift),U=S;return S.cmp(this.m)>=0?U=S.isub(this.m):S.cmpn(0)<0&&(U=S.iadd(this.m)),U._forceRed(this)},xe.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new i(0)._forceRed(this);var b=l.mul(p),w=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=b.isub(w).iushrn(this.shift),U=S;return S.cmp(this.m)>=0?U=S.isub(this.m):S.cmpn(0)<0&&(U=S.iadd(this.m)),U._forceRed(this)},xe.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(r,nn)})(Qo);const bc=Qo.exports;var hr={exports:{}},Ko={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=Or,t=wi,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=u,r.SlowBuffer=z,r.INSPECT_MAX_BYTES=50;const o=2147483647;r.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=i(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const f=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(f,s),f.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function c(f){if(f>o)throw new RangeError('The value "'+f+'" is invalid for option "size"');const s=new Uint8Array(f);return Object.setPrototypeOf(s,u.prototype),s}function u(f,s,a){if(typeof f=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(f)}return h(f,s,a)}u.poolSize=8192;function h(f,s,a){if(typeof f=="string")return C(f,s);if(ArrayBuffer.isView(f))return B(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(Ke(f,ArrayBuffer)||f&&Ke(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ke(f,SharedArrayBuffer)||f&&Ke(f.buffer,SharedArrayBuffer)))return T(f,s,a);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const g=f.valueOf&&f.valueOf();if(g!=null&&g!==f)return u.from(g,s,a);const A=L(f);if(A)return A;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return u.from(f[Symbol.toPrimitive]("string"),s,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}u.from=function(f,s,a){return h(f,s,a)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function y(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function m(f,s,a){return y(f),f<=0?c(f):s!==void 0?typeof a=="string"?c(f).fill(s,a):c(f).fill(s):c(f)}u.alloc=function(f,s,a){return m(f,s,a)};function x(f){return y(f),c(f<0?0:P(f)|0)}u.allocUnsafe=function(f){return x(f)},u.allocUnsafeSlow=function(f){return x(f)};function C(f,s){if((typeof s!="string"||s==="")&&(s="utf8"),!u.isEncoding(s))throw new TypeError("Unknown encoding: "+s);const a=N(f,s)|0;let g=c(a);const A=g.write(f,s);return A!==a&&(g=g.slice(0,A)),g}function E(f){const s=f.length<0?0:P(f.length)|0,a=c(s);for(let g=0;g<s;g+=1)a[g]=f[g]&255;return a}function B(f){if(Ke(f,Uint8Array)){const s=new Uint8Array(f);return T(s.buffer,s.byteOffset,s.byteLength)}return E(f)}function T(f,s,a){if(s<0||f.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<s+(a||0))throw new RangeError('"length" is outside of buffer bounds');let g;return s===void 0&&a===void 0?g=new Uint8Array(f):a===void 0?g=new Uint8Array(f,s):g=new Uint8Array(f,s,a),Object.setPrototypeOf(g,u.prototype),g}function L(f){if(u.isBuffer(f)){const s=P(f.length)|0,a=c(s);return a.length===0||f.copy(a,0,0,s),a}if(f.length!==void 0)return typeof f.length!="number"||He(f.length)?c(0):E(f);if(f.type==="Buffer"&&Array.isArray(f.data))return E(f.data)}function P(f){if(f>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return f|0}function z(f){return+f!=f&&(f=0),u.alloc(+f)}u.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==u.prototype},u.compare=function(s,a){if(Ke(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),Ke(a,Uint8Array)&&(a=u.from(a,a.offset,a.byteLength)),!u.isBuffer(s)||!u.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===a)return 0;let g=s.length,A=a.length;for(let _=0,O=Math.min(g,A);_<O;++_)if(s[_]!==a[_]){g=s[_],A=a[_];break}return g<A?-1:A<g?1:0},u.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(s,a){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return u.alloc(0);let g;if(a===void 0)for(a=0,g=0;g<s.length;++g)a+=s[g].length;const A=u.allocUnsafe(a);let _=0;for(g=0;g<s.length;++g){let O=s[g];if(Ke(O,Uint8Array))_+O.length>A.length?(u.isBuffer(O)||(O=u.from(O)),O.copy(A,_)):Uint8Array.prototype.set.call(A,O,_);else if(u.isBuffer(O))O.copy(A,_);else throw new TypeError('"list" argument must be an Array of Buffers');_+=O.length}return A};function N(f,s){if(u.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||Ke(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);const a=f.length,g=arguments.length>2&&arguments[2]===!0;if(!g&&a===0)return 0;let A=!1;for(;;)switch(s){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return ze(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return qe(f).length;default:if(A)return g?-1:ze(f).length;s=(""+s).toLowerCase(),A=!0}}u.byteLength=N;function F(f,s,a){let g=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,s>>>=0,a<=s))return"";for(f||(f="utf8");;)switch(f){case"hex":return U(this,s,a);case"utf8":case"utf-8":return l(this,s,a);case"ascii":return w(this,s,a);case"latin1":case"binary":return S(this,s,a);case"base64":return I(this,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,s,a);default:if(g)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),g=!0}}u.prototype._isBuffer=!0;function R(f,s,a){const g=f[s];f[s]=f[a],f[a]=g}u.prototype.swap16=function(){const s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let a=0;a<s;a+=2)R(this,a,a+1);return this},u.prototype.swap32=function(){const s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let a=0;a<s;a+=4)R(this,a,a+3),R(this,a+1,a+2);return this},u.prototype.swap64=function(){const s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let a=0;a<s;a+=8)R(this,a,a+7),R(this,a+1,a+6),R(this,a+2,a+5),R(this,a+3,a+4);return this},u.prototype.toString=function(){const s=this.length;return s===0?"":arguments.length===0?l(this,0,s):F.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(s){if(!u.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:u.compare(this,s)===0},u.prototype.inspect=function(){let s="";const a=r.INSPECT_MAX_BYTES;return s=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(s+=" ... "),"<Buffer "+s+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(s,a,g,A,_){if(Ke(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),!u.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(a===void 0&&(a=0),g===void 0&&(g=s?s.length:0),A===void 0&&(A=0),_===void 0&&(_=this.length),a<0||g>s.length||A<0||_>this.length)throw new RangeError("out of range index");if(A>=_&&a>=g)return 0;if(A>=_)return-1;if(a>=g)return 1;if(a>>>=0,g>>>=0,A>>>=0,_>>>=0,this===s)return 0;let O=_-A,X=g-a;const oe=Math.min(O,X),ie=this.slice(A,_),we=s.slice(a,g);for(let te=0;te<oe;++te)if(ie[te]!==we[te]){O=ie[te],X=we[te];break}return O<X?-1:X<O?1:0};function H(f,s,a,g,A){if(f.length===0)return-1;if(typeof a=="string"?(g=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,He(a)&&(a=A?0:f.length-1),a<0&&(a=f.length+a),a>=f.length){if(A)return-1;a=f.length-1}else if(a<0)if(A)a=0;else return-1;if(typeof s=="string"&&(s=u.from(s,g)),u.isBuffer(s))return s.length===0?-1:q(f,s,a,g,A);if(typeof s=="number")return s=s&255,typeof Uint8Array.prototype.indexOf=="function"?A?Uint8Array.prototype.indexOf.call(f,s,a):Uint8Array.prototype.lastIndexOf.call(f,s,a):q(f,[s],a,g,A);throw new TypeError("val must be string, number or Buffer")}function q(f,s,a,g,A){let _=1,O=f.length,X=s.length;if(g!==void 0&&(g=String(g).toLowerCase(),g==="ucs2"||g==="ucs-2"||g==="utf16le"||g==="utf-16le")){if(f.length<2||s.length<2)return-1;_=2,O/=2,X/=2,a/=2}function oe(we,te){return _===1?we[te]:we.readUInt16BE(te*_)}let ie;if(A){let we=-1;for(ie=a;ie<O;ie++)if(oe(f,ie)===oe(s,we===-1?0:ie-we)){if(we===-1&&(we=ie),ie-we+1===X)return we*_}else we!==-1&&(ie-=ie-we),we=-1}else for(a+X>O&&(a=O-X),ie=a;ie>=0;ie--){let we=!0;for(let te=0;te<X;te++)if(oe(f,ie+te)!==oe(s,te)){we=!1;break}if(we)return ie}return-1}u.prototype.includes=function(s,a,g){return this.indexOf(s,a,g)!==-1},u.prototype.indexOf=function(s,a,g){return H(this,s,a,g,!0)},u.prototype.lastIndexOf=function(s,a,g){return H(this,s,a,g,!1)};function G(f,s,a,g){a=Number(a)||0;const A=f.length-a;g?(g=Number(g),g>A&&(g=A)):g=A;const _=s.length;g>_/2&&(g=_/2);let O;for(O=0;O<g;++O){const X=parseInt(s.substr(O*2,2),16);if(He(X))return O;f[a+O]=X}return O}function he(f,s,a,g){return De(ze(s,f.length-a),f,a,g)}function ve(f,s,a,g){return De(Qe(s),f,a,g)}function ye(f,s,a,g){return De(qe(s),f,a,g)}function xe(f,s,a,g){return De(Mr(s,f.length-a),f,a,g)}u.prototype.write=function(s,a,g,A){if(a===void 0)A="utf8",g=this.length,a=0;else if(g===void 0&&typeof a=="string")A=a,g=this.length,a=0;else if(isFinite(a))a=a>>>0,isFinite(g)?(g=g>>>0,A===void 0&&(A="utf8")):(A=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const _=this.length-a;if((g===void 0||g>_)&&(g=_),s.length>0&&(g<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");let O=!1;for(;;)switch(A){case"hex":return G(this,s,a,g);case"utf8":case"utf-8":return he(this,s,a,g);case"ascii":case"latin1":case"binary":return ve(this,s,a,g);case"base64":return ye(this,s,a,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,s,a,g);default:if(O)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),O=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(f,s,a){return s===0&&a===f.length?e.fromByteArray(f):e.fromByteArray(f.slice(s,a))}function l(f,s,a){a=Math.min(f.length,a);const g=[];let A=s;for(;A<a;){const _=f[A];let O=null,X=_>239?4:_>223?3:_>191?2:1;if(A+X<=a){let oe,ie,we,te;switch(X){case 1:_<128&&(O=_);break;case 2:oe=f[A+1],(oe&192)===128&&(te=(_&31)<<6|oe&63,te>127&&(O=te));break;case 3:oe=f[A+1],ie=f[A+2],(oe&192)===128&&(ie&192)===128&&(te=(_&15)<<12|(oe&63)<<6|ie&63,te>2047&&(te<55296||te>57343)&&(O=te));break;case 4:oe=f[A+1],ie=f[A+2],we=f[A+3],(oe&192)===128&&(ie&192)===128&&(we&192)===128&&(te=(_&15)<<18|(oe&63)<<12|(ie&63)<<6|we&63,te>65535&&te<1114112&&(O=te))}}O===null?(O=65533,X=1):O>65535&&(O-=65536,g.push(O>>>10&1023|55296),O=56320|O&1023),g.push(O),A+=X}return b(g)}const p=4096;function b(f){const s=f.length;if(s<=p)return String.fromCharCode.apply(String,f);let a="",g=0;for(;g<s;)a+=String.fromCharCode.apply(String,f.slice(g,g+=p));return a}function w(f,s,a){let g="";a=Math.min(f.length,a);for(let A=s;A<a;++A)g+=String.fromCharCode(f[A]&127);return g}function S(f,s,a){let g="";a=Math.min(f.length,a);for(let A=s;A<a;++A)g+=String.fromCharCode(f[A]);return g}function U(f,s,a){const g=f.length;(!s||s<0)&&(s=0),(!a||a<0||a>g)&&(a=g);let A="";for(let _=s;_<a;++_)A+=Ye[f[_]];return A}function k(f,s,a){const g=f.slice(s,a);let A="";for(let _=0;_<g.length-1;_+=2)A+=String.fromCharCode(g[_]+g[_+1]*256);return A}u.prototype.slice=function(s,a){const g=this.length;s=~~s,a=a===void 0?g:~~a,s<0?(s+=g,s<0&&(s=0)):s>g&&(s=g),a<0?(a+=g,a<0&&(a=0)):a>g&&(a=g),a<s&&(a=s);const A=this.subarray(s,a);return Object.setPrototypeOf(A,u.prototype),A};function v(f,s,a){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+s>a)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(s,a,g){s=s>>>0,a=a>>>0,g||v(s,a,this.length);let A=this[s],_=1,O=0;for(;++O<a&&(_*=256);)A+=this[s+O]*_;return A},u.prototype.readUintBE=u.prototype.readUIntBE=function(s,a,g){s=s>>>0,a=a>>>0,g||v(s,a,this.length);let A=this[s+--a],_=1;for(;a>0&&(_*=256);)A+=this[s+--a]*_;return A},u.prototype.readUint8=u.prototype.readUInt8=function(s,a){return s=s>>>0,a||v(s,1,this.length),this[s]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(s,a){return s=s>>>0,a||v(s,2,this.length),this[s]|this[s+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(s,a){return s=s>>>0,a||v(s,2,this.length),this[s]<<8|this[s+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(s,a){return s=s>>>0,a||v(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(s,a){return s=s>>>0,a||v(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},u.prototype.readBigUInt64LE=st(function(s){s=s>>>0,We(s,"offset");const a=this[s],g=this[s+7];(a===void 0||g===void 0)&&Me(s,this.length-8);const A=a+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24,_=this[++s]+this[++s]*2**8+this[++s]*2**16+g*2**24;return BigInt(A)+(BigInt(_)<<BigInt(32))}),u.prototype.readBigUInt64BE=st(function(s){s=s>>>0,We(s,"offset");const a=this[s],g=this[s+7];(a===void 0||g===void 0)&&Me(s,this.length-8);const A=a*2**24+this[++s]*2**16+this[++s]*2**8+this[++s],_=this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+g;return(BigInt(A)<<BigInt(32))+BigInt(_)}),u.prototype.readIntLE=function(s,a,g){s=s>>>0,a=a>>>0,g||v(s,a,this.length);let A=this[s],_=1,O=0;for(;++O<a&&(_*=256);)A+=this[s+O]*_;return _*=128,A>=_&&(A-=Math.pow(2,8*a)),A},u.prototype.readIntBE=function(s,a,g){s=s>>>0,a=a>>>0,g||v(s,a,this.length);let A=a,_=1,O=this[s+--A];for(;A>0&&(_*=256);)O+=this[s+--A]*_;return _*=128,O>=_&&(O-=Math.pow(2,8*a)),O},u.prototype.readInt8=function(s,a){return s=s>>>0,a||v(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},u.prototype.readInt16LE=function(s,a){s=s>>>0,a||v(s,2,this.length);const g=this[s]|this[s+1]<<8;return g&32768?g|4294901760:g},u.prototype.readInt16BE=function(s,a){s=s>>>0,a||v(s,2,this.length);const g=this[s+1]|this[s]<<8;return g&32768?g|4294901760:g},u.prototype.readInt32LE=function(s,a){return s=s>>>0,a||v(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},u.prototype.readInt32BE=function(s,a){return s=s>>>0,a||v(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},u.prototype.readBigInt64LE=st(function(s){s=s>>>0,We(s,"offset");const a=this[s],g=this[s+7];(a===void 0||g===void 0)&&Me(s,this.length-8);const A=this[s+4]+this[s+5]*2**8+this[s+6]*2**16+(g<<24);return(BigInt(A)<<BigInt(32))+BigInt(a+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24)}),u.prototype.readBigInt64BE=st(function(s){s=s>>>0,We(s,"offset");const a=this[s],g=this[s+7];(a===void 0||g===void 0)&&Me(s,this.length-8);const A=(a<<24)+this[++s]*2**16+this[++s]*2**8+this[++s];return(BigInt(A)<<BigInt(32))+BigInt(this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+g)}),u.prototype.readFloatLE=function(s,a){return s=s>>>0,a||v(s,4,this.length),t.read(this,s,!0,23,4)},u.prototype.readFloatBE=function(s,a){return s=s>>>0,a||v(s,4,this.length),t.read(this,s,!1,23,4)},u.prototype.readDoubleLE=function(s,a){return s=s>>>0,a||v(s,8,this.length),t.read(this,s,!0,52,8)},u.prototype.readDoubleBE=function(s,a){return s=s>>>0,a||v(s,8,this.length),t.read(this,s,!1,52,8)};function d(f,s,a,g,A,_){if(!u.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>A||s<_)throw new RangeError('"value" argument is out of bounds');if(a+g>f.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(s,a,g,A){if(s=+s,a=a>>>0,g=g>>>0,!A){const X=Math.pow(2,8*g)-1;d(this,s,a,g,X,0)}let _=1,O=0;for(this[a]=s&255;++O<g&&(_*=256);)this[a+O]=s/_&255;return a+g},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(s,a,g,A){if(s=+s,a=a>>>0,g=g>>>0,!A){const X=Math.pow(2,8*g)-1;d(this,s,a,g,X,0)}let _=g-1,O=1;for(this[a+_]=s&255;--_>=0&&(O*=256);)this[a+_]=s/O&255;return a+g},u.prototype.writeUint8=u.prototype.writeUInt8=function(s,a,g){return s=+s,a=a>>>0,g||d(this,s,a,1,255,0),this[a]=s&255,a+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(s,a,g){return s=+s,a=a>>>0,g||d(this,s,a,2,65535,0),this[a]=s&255,this[a+1]=s>>>8,a+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(s,a,g){return s=+s,a=a>>>0,g||d(this,s,a,2,65535,0),this[a]=s>>>8,this[a+1]=s&255,a+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(s,a,g){return s=+s,a=a>>>0,g||d(this,s,a,4,4294967295,0),this[a+3]=s>>>24,this[a+2]=s>>>16,this[a+1]=s>>>8,this[a]=s&255,a+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(s,a,g){return s=+s,a=a>>>0,g||d(this,s,a,4,4294967295,0),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4};function M(f,s,a,g,A){V(s,g,A,f,a,7);let _=Number(s&BigInt(4294967295));f[a++]=_,_=_>>8,f[a++]=_,_=_>>8,f[a++]=_,_=_>>8,f[a++]=_;let O=Number(s>>BigInt(32)&BigInt(4294967295));return f[a++]=O,O=O>>8,f[a++]=O,O=O>>8,f[a++]=O,O=O>>8,f[a++]=O,a}function Q(f,s,a,g,A){V(s,g,A,f,a,7);let _=Number(s&BigInt(4294967295));f[a+7]=_,_=_>>8,f[a+6]=_,_=_>>8,f[a+5]=_,_=_>>8,f[a+4]=_;let O=Number(s>>BigInt(32)&BigInt(4294967295));return f[a+3]=O,O=O>>8,f[a+2]=O,O=O>>8,f[a+1]=O,O=O>>8,f[a]=O,a+8}u.prototype.writeBigUInt64LE=st(function(s,a=0){return M(this,s,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=st(function(s,a=0){return Q(this,s,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(s,a,g,A){if(s=+s,a=a>>>0,!A){const oe=Math.pow(2,8*g-1);d(this,s,a,g,oe-1,-oe)}let _=0,O=1,X=0;for(this[a]=s&255;++_<g&&(O*=256);)s<0&&X===0&&this[a+_-1]!==0&&(X=1),this[a+_]=(s/O>>0)-X&255;return a+g},u.prototype.writeIntBE=function(s,a,g,A){if(s=+s,a=a>>>0,!A){const oe=Math.pow(2,8*g-1);d(this,s,a,g,oe-1,-oe)}let _=g-1,O=1,X=0;for(this[a+_]=s&255;--_>=0&&(O*=256);)s<0&&X===0&&this[a+_+1]!==0&&(X=1),this[a+_]=(s/O>>0)-X&255;return a+g},u.prototype.writeInt8=function(s,a,g){return s=+s,a=a>>>0,g||d(this,s,a,1,127,-128),s<0&&(s=255+s+1),this[a]=s&255,a+1},u.prototype.writeInt16LE=function(s,a,g){return s=+s,a=a>>>0,g||d(this,s,a,2,32767,-32768),this[a]=s&255,this[a+1]=s>>>8,a+2},u.prototype.writeInt16BE=function(s,a,g){return s=+s,a=a>>>0,g||d(this,s,a,2,32767,-32768),this[a]=s>>>8,this[a+1]=s&255,a+2},u.prototype.writeInt32LE=function(s,a,g){return s=+s,a=a>>>0,g||d(this,s,a,4,2147483647,-2147483648),this[a]=s&255,this[a+1]=s>>>8,this[a+2]=s>>>16,this[a+3]=s>>>24,a+4},u.prototype.writeInt32BE=function(s,a,g){return s=+s,a=a>>>0,g||d(this,s,a,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4},u.prototype.writeBigInt64LE=st(function(s,a=0){return M(this,s,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=st(function(s,a=0){return Q(this,s,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $(f,s,a,g,A,_){if(a+g>f.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function Z(f,s,a,g,A){return s=+s,a=a>>>0,A||$(f,s,a,4),t.write(f,s,a,g,23,4),a+4}u.prototype.writeFloatLE=function(s,a,g){return Z(this,s,a,!0,g)},u.prototype.writeFloatBE=function(s,a,g){return Z(this,s,a,!1,g)};function se(f,s,a,g,A){return s=+s,a=a>>>0,A||$(f,s,a,8),t.write(f,s,a,g,52,8),a+8}u.prototype.writeDoubleLE=function(s,a,g){return se(this,s,a,!0,g)},u.prototype.writeDoubleBE=function(s,a,g){return se(this,s,a,!1,g)},u.prototype.copy=function(s,a,g,A){if(!u.isBuffer(s))throw new TypeError("argument should be a Buffer");if(g||(g=0),!A&&A!==0&&(A=this.length),a>=s.length&&(a=s.length),a||(a=0),A>0&&A<g&&(A=g),A===g||s.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),s.length-a<A-g&&(A=s.length-a+g);const _=A-g;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a,g,A):Uint8Array.prototype.set.call(s,this.subarray(g,A),a),_},u.prototype.fill=function(s,a,g,A){if(typeof s=="string"){if(typeof a=="string"?(A=a,a=0,g=this.length):typeof g=="string"&&(A=g,g=this.length),A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!u.isEncoding(A))throw new TypeError("Unknown encoding: "+A);if(s.length===1){const O=s.charCodeAt(0);(A==="utf8"&&O<128||A==="latin1")&&(s=O)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(a<0||this.length<a||this.length<g)throw new RangeError("Out of range index");if(g<=a)return this;a=a>>>0,g=g===void 0?this.length:g>>>0,s||(s=0);let _;if(typeof s=="number")for(_=a;_<g;++_)this[_]=s;else{const O=u.isBuffer(s)?s:u.from(s,A),X=O.length;if(X===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(_=0;_<g-a;++_)this[_+a]=O[_%X]}return this};const ee={};function ce(f,s,a){ee[f]=class extends a{constructor(){super(),Object.defineProperty(this,"message",{value:s.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(A){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:A,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}}}ce("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ce("ERR_INVALID_ARG_TYPE",function(f,s){return`The "${f}" argument must be of type number. Received type ${typeof s}`},TypeError),ce("ERR_OUT_OF_RANGE",function(f,s,a){let g=`The value of "${f}" is out of range.`,A=a;return Number.isInteger(a)&&Math.abs(a)>2**32?A=Ae(String(a)):typeof a=="bigint"&&(A=String(a),(a>BigInt(2)**BigInt(32)||a<-(BigInt(2)**BigInt(32)))&&(A=Ae(A)),A+="n"),g+=` It must be ${s}. Received ${A}`,g},RangeError);function Ae(f){let s="",a=f.length;const g=f[0]==="-"?1:0;for(;a>=g+4;a-=3)s=`_${f.slice(a-3,a)}${s}`;return`${f.slice(0,a)}${s}`}function Ie(f,s,a){We(s,"offset"),(f[s]===void 0||f[s+a]===void 0)&&Me(s,f.length-(a+1))}function V(f,s,a,g,A,_){if(f>a||f<s){const O=typeof s=="bigint"?"n":"";let X;throw _>3?s===0||s===BigInt(0)?X=`>= 0${O} and < 2${O} ** ${(_+1)*8}${O}`:X=`>= -(2${O} ** ${(_+1)*8-1}${O}) and < 2 ** ${(_+1)*8-1}${O}`:X=`>= ${s}${O} and <= ${a}${O}`,new ee.ERR_OUT_OF_RANGE("value",X,f)}Ie(g,A,_)}function We(f,s){if(typeof f!="number")throw new ee.ERR_INVALID_ARG_TYPE(s,"number",f)}function Me(f,s,a){throw Math.floor(f)!==f?(We(f,a),new ee.ERR_OUT_OF_RANGE(a||"offset","an integer",f)):s<0?new ee.ERR_BUFFER_OUT_OF_BOUNDS:new ee.ERR_OUT_OF_RANGE(a||"offset",`>= ${a?1:0} and <= ${s}`,f)}const je=/[^+/0-9A-Za-z-_]/g;function _r(f){if(f=f.split("=")[0],f=f.trim().replace(je,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function ze(f,s){s=s||1/0;let a;const g=f.length;let A=null;const _=[];for(let O=0;O<g;++O){if(a=f.charCodeAt(O),a>55295&&a<57344){if(!A){if(a>56319){(s-=3)>-1&&_.push(239,191,189);continue}else if(O+1===g){(s-=3)>-1&&_.push(239,191,189);continue}A=a;continue}if(a<56320){(s-=3)>-1&&_.push(239,191,189),A=a;continue}a=(A-55296<<10|a-56320)+65536}else A&&(s-=3)>-1&&_.push(239,191,189);if(A=null,a<128){if((s-=1)<0)break;_.push(a)}else if(a<2048){if((s-=2)<0)break;_.push(a>>6|192,a&63|128)}else if(a<65536){if((s-=3)<0)break;_.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((s-=4)<0)break;_.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return _}function Qe(f){const s=[];for(let a=0;a<f.length;++a)s.push(f.charCodeAt(a)&255);return s}function Mr(f,s){let a,g,A;const _=[];for(let O=0;O<f.length&&!((s-=2)<0);++O)a=f.charCodeAt(O),g=a>>8,A=a%256,_.push(A),_.push(g);return _}function qe(f){return e.toByteArray(_r(f))}function De(f,s,a,g){let A;for(A=0;A<g&&!(A+a>=s.length||A>=f.length);++A)s[A+a]=f[A];return A}function Ke(f,s){return f instanceof s||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===s.name}function He(f){return f!==f}const Ye=function(){const f="0123456789abcdef",s=new Array(256);for(let a=0;a<16;++a){const g=a*16;for(let A=0;A<16;++A)s[g+A]=f[a]+f[A]}return s}();function st(f){return typeof BigInt>"u"?Ve:f}function Ve(){throw new Error("BigInt not supported")}})(Ko),function(r,e){var t=Ko,n=t.Buffer;function o(c,u){for(var h in c)u[h]=c[h]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=t:(o(t,e),e.Buffer=i);function i(c,u,h){return n(c,u,h)}o(n,i),i.from=function(c,u,h){if(typeof c=="number")throw new TypeError("Argument must not be a number");return n(c,u,h)},i.alloc=function(c,u,h){if(typeof c!="number")throw new TypeError("Argument must be a number");var y=n(c);return u!==void 0?typeof h=="string"?y.fill(u,h):y.fill(u):y.fill(0),y},i.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n(c)},i.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(c)}}(hr,hr.exports);var xi=hr.exports.Buffer;function $h(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=n}var c=r.length,u=r.charAt(0),h=Math.log(c)/Math.log(256),y=Math.log(256)/Math.log(c);function m(E){if((Array.isArray(E)||E instanceof Uint8Array)&&(E=xi.from(E)),!xi.isBuffer(E))throw new TypeError("Expected Buffer");if(E.length===0)return"";for(var B=0,T=0,L=0,P=E.length;L!==P&&E[L]===0;)L++,B++;for(var z=(P-L)*y+1>>>0,N=new Uint8Array(z);L!==P;){for(var F=E[L],R=0,H=z-1;(F!==0||R<T)&&H!==-1;H--,R++)F+=256*N[H]>>>0,N[H]=F%c>>>0,F=F/c>>>0;if(F!==0)throw new Error("Non-zero carry");T=R,L++}for(var q=z-T;q!==z&&N[q]===0;)q++;for(var G=u.repeat(B);q<z;++q)G+=r.charAt(N[q]);return G}function x(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return xi.alloc(0);for(var B=0,T=0,L=0;E[B]===u;)T++,B++;for(var P=(E.length-B)*h+1>>>0,z=new Uint8Array(P);E[B];){var N=e[E.charCodeAt(B)];if(N===255)return;for(var F=0,R=P-1;(N!==0||F<L)&&R!==-1;R--,F++)N+=c*z[R]>>>0,z[R]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");L=F,B++}for(var H=P-L;H!==P&&z[H]===0;)H++;var q=xi.allocUnsafe(T+(P-H));q.fill(0,0,T);for(var G=T;H!==P;)q[G++]=z[H++];return q}function C(E){var B=x(E);if(B)return B;throw new Error("Non-base"+c+" character")}return{encode:m,decodeUnsafe:x,decode:C}}var Jh=$h,Xh=Jh,ed="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Mt=Xh(ed);const td=(r,e,t)=>r&e^~r&t,nd=(r,e,t)=>r&e^r&t^e&t,rd=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Bn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Tn=new Uint32Array(64);class id extends ac{constructor(){super(64,32,8,!1),this.A=Bn[0]|0,this.B=Bn[1]|0,this.C=Bn[2]|0,this.D=Bn[3]|0,this.E=Bn[4]|0,this.F=Bn[5]|0,this.G=Bn[6]|0,this.H=Bn[7]|0}get(){const{A:e,B:t,C:n,D:o,E:i,F:c,G:u,H:h}=this;return[e,t,n,o,i,c,u,h]}set(e,t,n,o,i,c,u,h){this.A=e|0,this.B=t|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=c|0,this.G=u|0,this.H=h|0}process(e,t){for(let x=0;x<16;x++,t+=4)Tn[x]=e.getUint32(t,!1);for(let x=16;x<64;x++){const C=Tn[x-15],E=Tn[x-2],B=dn(C,7)^dn(C,18)^C>>>3,T=dn(E,17)^dn(E,19)^E>>>10;Tn[x]=T+Tn[x-7]+B+Tn[x-16]|0}let{A:n,B:o,C:i,D:c,E:u,F:h,G:y,H:m}=this;for(let x=0;x<64;x++){const C=dn(u,6)^dn(u,11)^dn(u,25),E=m+C+td(u,h,y)+rd[x]+Tn[x]|0,T=(dn(n,2)^dn(n,13)^dn(n,22))+nd(n,o,i)|0;m=y,y=h,h=u,u=c+E|0,c=i,i=o,o=n,n=E+T|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,c=c+this.D|0,u=u+this.E|0,h=h+this.F|0,y=y+this.G|0,m=m+this.H|0,this.set(n,o,i,c,u,h,y,m)}roundClean(){Tn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Yo=Lr(()=>new id);var Bt={},Si=hr.exports.Buffer;function od(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=n}var c=r.length,u=r.charAt(0),h=Math.log(c)/Math.log(256),y=Math.log(256)/Math.log(c);function m(E){if((Array.isArray(E)||E instanceof Uint8Array)&&(E=Si.from(E)),!Si.isBuffer(E))throw new TypeError("Expected Buffer");if(E.length===0)return"";for(var B=0,T=0,L=0,P=E.length;L!==P&&E[L]===0;)L++,B++;for(var z=(P-L)*y+1>>>0,N=new Uint8Array(z);L!==P;){for(var F=E[L],R=0,H=z-1;(F!==0||R<T)&&H!==-1;H--,R++)F+=256*N[H]>>>0,N[H]=F%c>>>0,F=F/c>>>0;if(F!==0)throw new Error("Non-zero carry");T=R,L++}for(var q=z-T;q!==z&&N[q]===0;)q++;for(var G=u.repeat(B);q<z;++q)G+=r.charAt(N[q]);return G}function x(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return Si.alloc(0);for(var B=0,T=0,L=0;E[B]===u;)T++,B++;for(var P=(E.length-B)*h+1>>>0,z=new Uint8Array(P);E[B];){var N=e[E.charCodeAt(B)];if(N===255)return;for(var F=0,R=P-1;(N!==0||F<L)&&R!==-1;R--,F++)N+=c*z[R]>>>0,z[R]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");L=F,B++}for(var H=P-L;H!==P&&z[H]===0;)H++;var q=Si.allocUnsafe(T+(P-H));q.fill(0,0,T);for(var G=T;H!==P;)q[G++]=z[H++];return q}function C(E){var B=x(E);if(B)return B;throw new Error("Non-base"+c+" character")}return{encode:m,decodeUnsafe:x,decode:C}}var sd=od,ad=sd,cd="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",ud=ad(cd);function bn(r,e,t){return e<=r&&r<=t}function Ii(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function ld(r){for(var e=String(r),t=e.length,n=0,o=[];n<t;){var i=e.charCodeAt(n);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(n===t-1)o.push(65533);else{var c=r.charCodeAt(n+1);if(56320<=c&&c<=57343){var u=i&1023,h=c&1023;o.push(65536+(u<<10)+h),n+=1}else o.push(65533)}n+=1}return o}function fd(r){for(var e="",t=0;t<r.length;++t){var n=r[t];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var _i=-1;function Vo(r){this.tokens=[].slice.call(r)}Vo.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():_i},prepend:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.push(e.shift());else this.tokens.push(r)}};var dr=-1;function Zo(r,e){if(r)throw TypeError("Decoder error");return e||65533}var Mi="utf-8";function Bi(r,e){if(!(this instanceof Bi))return new Bi(r,e);if(r=r!==void 0?String(r).toLowerCase():Mi,r!==Mi)throw new Error("Encoding not supported. Only utf-8 is supported");e=Ii(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Bi.prototype={decode:function(e,t){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),t=Ii(t),this._streaming||(this._decoder=new hd({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var o=new Vo(n),i=[],c;!o.endOfStream()&&(c=this._decoder.handler(o,o.read()),c!==dr);)c!==null&&(Array.isArray(c)?i.push.apply(i,c):i.push(c));if(!this._streaming){do{if(c=this._decoder.handler(o,o.read()),c===dr)break;c!==null&&(Array.isArray(c)?i.push.apply(i,c):i.push(c))}while(!o.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),fd(i)}};function Ti(r,e){if(!(this instanceof Ti))return new Ti(r,e);if(r=r!==void 0?String(r).toLowerCase():Mi,r!==Mi)throw new Error("Encoding not supported. Only utf-8 is supported");e=Ii(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}Ti.prototype={encode:function(e,t){e=e?String(e):"",t=Ii(t),this._streaming||(this._encoder=new dd(this._options)),this._streaming=Boolean(t.stream);for(var n=[],o=new Vo(ld(e)),i;!o.endOfStream()&&(i=this._encoder.handler(o,o.read()),i!==dr);)Array.isArray(i)?n.push.apply(n,i):n.push(i);if(!this._streaming){for(;i=this._encoder.handler(o,o.read()),i!==dr;)Array.isArray(i)?n.push.apply(n,i):n.push(i);this._encoder=null}return new Uint8Array(n)}};function hd(r){var e=r.fatal,t=0,n=0,o=0,i=128,c=191;this.handler=function(u,h){if(h===_i&&o!==0)return o=0,Zo(e);if(h===_i)return dr;if(o===0){if(bn(h,0,127))return h;if(bn(h,194,223))o=1,t=h-192;else if(bn(h,224,239))h===224&&(i=160),h===237&&(c=159),o=2,t=h-224;else if(bn(h,240,244))h===240&&(i=144),h===244&&(c=143),o=3,t=h-240;else return Zo(e);return t=t<<6*o,null}if(!bn(h,i,c))return t=o=n=0,i=128,c=191,u.prepend(h),Zo(e);if(i=128,c=191,n+=1,t+=h-128<<6*(o-n),n!==o)return null;var y=t;return t=o=n=0,y}}function dd(r){r.fatal,this.handler=function(e,t){if(t===_i)return dr;if(bn(t,0,127))return t;var n,o;bn(t,128,2047)?(n=1,o=192):bn(t,2048,65535)?(n=2,o=224):bn(t,65536,1114111)&&(n=3,o=240);for(var i=[(t>>6*n)+o];n>0;){var c=t>>6*(n-1);i.push(128|c&63),n-=1}return i}}const pd=ui(Object.freeze(Object.defineProperty({__proto__:null,TextEncoder:Ti,TextDecoder:Bi},Symbol.toStringTag,{value:"Module"})));var gd=nn&&nn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),yd=nn&&nn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),gn=nn&&nn.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(i=(o<3?c(i):o>3?c(e,t,i):c(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},wd=nn&&nn.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.hasOwnProperty.call(r,t)&&gd(e,r,t);return yd(e,r),e},vc=nn&&nn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bt,"__esModule",{value:!0});var Ac=Bt.deserializeUnchecked=Mc=Bt.deserialize=_c=Bt.serialize=Bt.BinaryReader=Bt.BinaryWriter=Bt.BorshError=Bt.baseDecode=Bt.baseEncode=void 0;const Cn=vc(Qo.exports),Ec=vc(ud),md=wd(pd),bd=typeof TextDecoder!="function"?md.TextDecoder:TextDecoder,vd=new bd("utf-8",{fatal:!0});function Ad(r){return typeof r=="string"&&(r=Buffer.from(r,"utf8")),Ec.default.encode(Buffer.from(r))}Bt.baseEncode=Ad;function Ed(r){return Buffer.from(Ec.default.decode(r))}Bt.baseDecode=Ed;const $o=1024;class Dt extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Bt.BorshError=Dt;class xc{constructor(){this.buf=Buffer.alloc($o),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc($o)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Cn.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Cn.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Cn.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Cn.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc($o)]),this.length+=e.length}writeString(e){this.maybeResize();const t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}}Bt.BinaryWriter=xc;function yn(r,e,t){const n=t.value;t.value=function(...o){try{return n.apply(this,o)}catch(i){if(i instanceof RangeError){const c=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(c)>=0)throw new Dt("Reached the end of buffer when deserializing")}throw i}}}class Gt{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Cn.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Cn.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Cn.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Cn.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Dt(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return vd.decode(t)}catch(n){throw new Dt(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),n=Array();for(let o=0;o<t;++o)n.push(e());return n}}gn([yn],Gt.prototype,"readU8",null),gn([yn],Gt.prototype,"readU16",null),gn([yn],Gt.prototype,"readU32",null),gn([yn],Gt.prototype,"readU64",null),gn([yn],Gt.prototype,"readU128",null),gn([yn],Gt.prototype,"readU256",null),gn([yn],Gt.prototype,"readU512",null),gn([yn],Gt.prototype,"readString",null),gn([yn],Gt.prototype,"readFixedArray",null),gn([yn],Gt.prototype,"readArray",null),Bt.BinaryReader=Gt;function Sc(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Gn(r,e,t,n,o){try{if(typeof n=="string")o[`write${Sc(n)}`](t);else if(n instanceof Array)if(typeof n[0]=="number"){if(t.length!==n[0])throw new Dt(`Expecting byte array of length ${n[0]}, but got ${t.length} bytes`);o.writeFixedArray(t)}else if(n.length===2&&typeof n[1]=="number"){if(t.length!==n[1])throw new Dt(`Expecting byte array of length ${n[1]}, but got ${t.length} bytes`);for(let i=0;i<n[1];i++)Gn(r,null,t[i],n[0],o)}else o.writeArray(t,i=>{Gn(r,e,i,n[0],o)});else if(n.kind!==void 0)switch(n.kind){case"option":{t==null?o.writeU8(0):(o.writeU8(1),Gn(r,e,t,n.type,o));break}case"map":{o.writeU32(t.size),t.forEach((i,c)=>{Gn(r,e,c,n.key,o),Gn(r,e,i,n.value,o)});break}default:throw new Dt(`FieldType ${n} unrecognized`)}else Ic(r,t,o)}catch(i){throw i instanceof Dt&&i.addToFieldPath(e),i}}function Ic(r,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}const n=r.get(e.constructor);if(!n)throw new Dt(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([o,i])=>{Gn(r,o,e[o],i,t)});else if(n.kind==="enum"){const o=e[n.field];for(let i=0;i<n.values.length;++i){const[c,u]=n.values[i];if(c===o){t.writeU8(i),Gn(r,c,e[c],u,t);break}}}else throw new Dt(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function xd(r,e,t=xc){const n=new t;return Ic(r,e,n),n.toArray()}var _c=Bt.serialize=xd;function Qn(r,e,t,n){try{if(typeof t=="string")return n[`read${Sc(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return n.readFixedArray(t[0]);if(typeof t[1]=="number"){const o=[];for(let i=0;i<t[1];i++)o.push(Qn(r,null,t[0],n));return o}else return n.readArray(()=>Qn(r,e,t[0],n))}if(t.kind==="option")return n.readU8()?Qn(r,e,t.type,n):void 0;if(t.kind==="map"){let o=new Map;const i=n.readU32();for(let c=0;c<i;c++){const u=Qn(r,e,t.key,n),h=Qn(r,e,t.value,n);o.set(u,h)}return o}return Jo(r,t,n)}catch(o){throw o instanceof Dt&&o.addToFieldPath(e),o}}function Jo(r,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);const n=r.get(e);if(!n)throw new Dt(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){const o={};for(const[i,c]of r.get(e).fields)o[i]=Qn(r,i,c,t);return new e(o)}if(n.kind==="enum"){const o=t.readU8();if(o>=n.values.length)throw new Dt(`Enum index: ${o} is out of range`);const[i,c]=n.values[o],u=Qn(r,i,c,t);return new e({[i]:u})}throw new Dt(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function Sd(r,e,t,n=Gt){const o=new n(t),i=Jo(r,e,o);if(o.offset<t.length)throw new Dt(`Unexpected ${t.length-o.offset} bytes after deserialized data`);return i}var Mc=Bt.deserialize=Sd;function Id(r,e,t,n=Gt){const o=new n(t);return Jo(r,e,o)}Ac=Bt.deserializeUnchecked=Id;var W={};Object.defineProperty(W,"__esModule",{value:!0}),W.s16=W.s8=W.nu64be=W.u48be=W.u40be=W.u32be=W.u24be=W.u16be=Tt=W.nu64=W.u48=W.u40=ge=W.u32=W.u24=$t=W.u16=Oe=W.u8=Yn=W.offset=W.greedy=W.Constant=W.UTF8=W.CString=W.Blob=W.Boolean=W.BitField=W.BitStructure=W.VariantLayout=W.Union=W.UnionLayoutDiscriminator=W.UnionDiscriminator=W.Structure=W.Sequence=W.DoubleBE=W.Double=W.FloatBE=W.Float=W.NearInt64BE=W.NearInt64=W.NearUInt64BE=W.NearUInt64=W.IntBE=W.Int=W.UIntBE=W.UInt=W.OffsetLayout=W.GreedyCount=W.ExternalLayout=W.bindConstructorLayout=W.nameWithProperty=W.Layout=W.uint8ArrayToBuffer=W.checkUint8Array=void 0,W.constant=W.utf8=W.cstr=et=W.blob=W.unionLayoutDiscriminator=W.union=Pt=W.seq=W.bits=fe=W.struct=W.f64be=W.f64=W.f32be=W.f32=W.ns64be=W.s48be=W.s40be=W.s32be=W.s24be=W.s16be=Qt=W.ns64=W.s48=W.s40=W.s32=W.s24=void 0;const Xo=Ko;function pr(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}W.checkUint8Array=pr;function Ne(r){return pr(r),Xo.Buffer.from(r.buffer,r.byteOffset,r.length)}W.uint8ArrayToBuffer=Ne;class Pe{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}W.Layout=Pe;function es(r,e){return e.property?r+"["+e.property+"]":r}W.nameWithProperty=es;function _d(r,e){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Pe))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=e,e.boundConstructor_=r,e.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(r,"decode",{value(t,n){return e.decode(t,n)},writable:!0})}W.bindConstructorLayout=_d;class Ft extends Pe{isCount(){throw new Error("ExternalLayout is abstract")}}W.ExternalLayout=Ft;class Bc extends Ft{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){pr(e);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}W.GreedyCount=Bc;class ts extends Ft{constructor(e,t=0,n){if(!(e instanceof Pe))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Zt||this.layout instanceof cn}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}}W.OffsetLayout=ts;class Zt extends Pe{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ne(e).readUIntLE(t,this.span)}encode(e,t,n=0){return Ne(t).writeUIntLE(e,n,this.span),this.span}}W.UInt=Zt;class cn extends Pe{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ne(e).readUIntBE(t,this.span)}encode(e,t,n=0){return Ne(t).writeUIntBE(e,n,this.span),this.span}}W.UIntBE=cn;class Kn extends Pe{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ne(e).readIntLE(t,this.span)}encode(e,t,n=0){return Ne(t).writeIntLE(e,n,this.span),this.span}}W.Int=Kn;class gr extends Pe{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ne(e).readIntBE(t,this.span)}encode(e,t,n=0){return Ne(t).writeIntBE(e,n,this.span),this.span}}W.IntBE=gr;const ns=Math.pow(2,32);function Ci(r){const e=Math.floor(r/ns),t=r-e*ns;return{hi32:e,lo32:t}}function ki(r,e){return r*ns+e}class Tc extends Pe{constructor(e){super(8,e)}decode(e,t=0){const n=Ne(e),o=n.readUInt32LE(t),i=n.readUInt32LE(t+4);return ki(i,o)}encode(e,t,n=0){const o=Ci(e),i=Ne(t);return i.writeUInt32LE(o.lo32,n),i.writeUInt32LE(o.hi32,n+4),8}}W.NearUInt64=Tc;class Cc extends Pe{constructor(e){super(8,e)}decode(e,t=0){const n=Ne(e),o=n.readUInt32BE(t),i=n.readUInt32BE(t+4);return ki(o,i)}encode(e,t,n=0){const o=Ci(e),i=Ne(t);return i.writeUInt32BE(o.hi32,n),i.writeUInt32BE(o.lo32,n+4),8}}W.NearUInt64BE=Cc;class kc extends Pe{constructor(e){super(8,e)}decode(e,t=0){const n=Ne(e),o=n.readUInt32LE(t),i=n.readInt32LE(t+4);return ki(i,o)}encode(e,t,n=0){const o=Ci(e),i=Ne(t);return i.writeUInt32LE(o.lo32,n),i.writeInt32LE(o.hi32,n+4),8}}W.NearInt64=kc;class Nc extends Pe{constructor(e){super(8,e)}decode(e,t=0){const n=Ne(e),o=n.readInt32BE(t),i=n.readUInt32BE(t+4);return ki(o,i)}encode(e,t,n=0){const o=Ci(e),i=Ne(t);return i.writeInt32BE(o.hi32,n),i.writeUInt32BE(o.lo32,n+4),8}}W.NearInt64BE=Nc;class Oc extends Pe{constructor(e){super(4,e)}decode(e,t=0){return Ne(e).readFloatLE(t)}encode(e,t,n=0){return Ne(t).writeFloatLE(e,n),4}}W.Float=Oc;class Rc extends Pe{constructor(e){super(4,e)}decode(e,t=0){return Ne(e).readFloatBE(t)}encode(e,t,n=0){return Ne(t).writeFloatBE(e,n),4}}W.FloatBE=Rc;class Lc extends Pe{constructor(e){super(8,e)}decode(e,t=0){return Ne(e).readDoubleLE(t)}encode(e,t,n=0){return Ne(t).writeDoubleLE(e,n),8}}W.Double=Lc;class Uc extends Pe{constructor(e){super(8,e)}decode(e,t=0){return Ne(e).readDoubleBE(t)}encode(e,t,n=0){return Ne(t).writeDoubleBE(e,n),8}}W.DoubleBE=Uc;class Dc extends Pe{constructor(e,t,n){if(!(e instanceof Pe))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof Ft&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(t instanceof Ft)&&0<e.span&&(o=t*e.span),super(o,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,o=this.count;if(o instanceof Ft&&(o=o.decode(e,t)),0<this.elementLayout.span)n=o*this.elementLayout.span;else{let i=0;for(;i<o;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e,t=0){const n=[];let o=0,i=this.count;for(i instanceof Ft&&(i=i.decode(e,t));o<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),o+=1;return n}encode(e,t,n=0){const o=this.elementLayout,i=e.reduce((c,u)=>c+o.encode(u,t,n+c),0);return this.count instanceof Ft&&this.count.encode(e.length,t,n),i}}W.Sequence=Dc;class Pc extends Pe{constructor(e,t,n){if(!(Array.isArray(e)&&e.reduce((i,c)=>i&&c instanceof Pe,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&n===void 0&&(n=t,t=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((i,c)=>i+c.getSpan(),0)}catch{}super(o,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((o,i)=>{const c=i.getSpan(e,t);return t+=c,o+c},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,t=0){pr(e);const n=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(e,t)),t+=o.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){const o=n;let i=0,c=0;for(const u of this.fields){let h=u.span;if(c=0<h?h:0,u.property!==void 0){const y=e[u.property];y!==void 0&&(c=u.encode(y,t,n),0>h&&(h=u.getSpan(t,n)))}i=n,n+=h}return i+c-o}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}W.Structure=Pc;class rs{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}}W.UnionDiscriminator=rs;class Ni extends rs{constructor(e,t){if(!(e instanceof Ft&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}W.UnionLayoutDiscriminator=Ni;class is extends Pe{constructor(e,t,n){let o;if(e instanceof Zt||e instanceof cn)o=new Ni(new ts(e));else if(e instanceof Ft&&e.isCount())o=new Ni(e);else if(e instanceof rs)o=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Pe))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&(e instanceof Zt||e instanceof cn)&&(i+=o.layout.span)),super(i,n),this.discriminator=o,this.usesPrefixDiscriminator=e instanceof Zt||e instanceof cn,this.defaultLayout=t,this.registry={};let c=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(u){return c(u)},this.configGetSourceVariant=function(u){c=u.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n;const o=this.discriminator,i=o.decode(e,t),c=this.registry[i];if(c===void 0){const u=this.defaultLayout;let h=0;this.usesPrefixDiscriminator&&(h=o.layout.span),n=this.makeDestinationObject(),n[o.property]=i,n[u.property]=u.decode(e,t+h)}else n=c.decode(e,t);return n}encode(e,t,n=0){const o=this.getSourceVariant(e);if(o===void 0){const i=this.discriminator,c=this.defaultLayout;let u=0;return this.usesPrefixDiscriminator&&(u=i.layout.span),i.encode(e[i.property],t,n),u+c.encode(e[c.property],t,n+u)}return o.encode(e,t,n)}addVariant(e,t,n){const o=new Fc(this,e,t,n);return this.registry[e]=o,o}getVariant(e,t=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,t):n=e,this.registry[n]}}W.Union=is;class Fc extends Pe{constructor(e,t,n,o){if(!(e instanceof is))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&o===void 0&&(o=n,n=null),n){if(!(n instanceof Pe))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,o),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(e,t+n)),n+o}decode(e,t=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+o):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=o;if(this.layout&&(this.layout.encode(e[this.property],t,n+o),i+=this.layout.getSpan(t,n+o),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}W.VariantLayout=Fc;function yr(r){return 0>r&&(r+=4294967296),r}class os extends Pe{constructor(e,t,n){if(!(e instanceof Zt||e instanceof cn))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&n===void 0&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let o=0;this._packedSetValue=function(i){return o=yr(i),this},this._packedGetValue=function(){return o}}decode(e,t=0){const n=this.makeDestinationObject(),o=this.word.decode(e,t);this._packedSetValue(o);for(const i of this.fields)i.property!==void 0&&(n[i.property]=i.decode(e));return n}encode(e,t,n=0){const o=this.word.decode(t,n);this._packedSetValue(o);for(const i of this.fields)if(i.property!==void 0){const c=e[i.property];c!==void 0&&i.encode(c)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new ss(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new zc(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}W.BitStructure=os;class ss{constructor(e,t,n){if(!(e instanceof os))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const o=8*e.span,i=e.fields.reduce((c,u)=>c+u.bits,0);if(t+i>o)throw new Error("bits too long for span remainder ("+(o-i)+" of "+o+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=o-i-t),this.wordMask=yr(this.valueMask<<this.start),this.property=n}decode(e,t){const n=this.container._packedGetValue();return yr(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==yr(e&this.valueMask))throw new TypeError(es("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=yr(e<<this.start);this.container._packedSetValue(yr(t&~this.wordMask)|n)}}W.BitField=ss;class zc extends ss{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}}W.Boolean=zc;class Hc extends Pe{constructor(e,t){if(!(e instanceof Ft&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Ft||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),Ne(e).slice(t,t+n)}encode(e,t,n){let o=this.length;if(this.length instanceof Ft&&(o=e.length),!(e instanceof Uint8Array&&o===e.length))throw new TypeError(es("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(n+o>t.length)throw new RangeError("encoding overruns Uint8Array");const i=Ne(e);return Ne(t).write(i.toString("hex"),n,o,"hex"),this.length instanceof Ft&&this.length.encode(o,t,n),o}}W.Blob=Hc;class Wc extends Pe{constructor(e){super(-1,e)}getSpan(e,t=0){pr(e);let n=t;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-t}decode(e,t=0){const n=this.getSpan(e,t);return Ne(e).slice(t,t+n-1).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));const o=Xo.Buffer.from(e,"utf8"),i=o.length;if(n+i>t.length)throw new RangeError("encoding overruns Buffer");const c=Ne(t);return o.copy(c,n),c[n+i]=0,i+1}}W.CString=Wc;class jc extends Pe{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return pr(e),e.length-t}decode(e,t=0){const n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Ne(e).slice(t,t+n).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));const o=Xo.Buffer.from(e,"utf8"),i=o.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return o.copy(Ne(t),n),i}}W.UTF8=jc;class qc extends Pe{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}}W.Constant=qc,W.greedy=(r,e)=>new Bc(r,e);var Yn=W.offset=(r,e,t)=>new ts(r,e,t),Oe=W.u8=r=>new Zt(1,r),$t=W.u16=r=>new Zt(2,r);W.u24=r=>new Zt(3,r);var ge=W.u32=r=>new Zt(4,r);W.u40=r=>new Zt(5,r),W.u48=r=>new Zt(6,r);var Tt=W.nu64=r=>new Tc(r);W.u16be=r=>new cn(2,r),W.u24be=r=>new cn(3,r),W.u32be=r=>new cn(4,r),W.u40be=r=>new cn(5,r),W.u48be=r=>new cn(6,r),W.nu64be=r=>new Cc(r),W.s8=r=>new Kn(1,r),W.s16=r=>new Kn(2,r),W.s24=r=>new Kn(3,r),W.s32=r=>new Kn(4,r),W.s40=r=>new Kn(5,r),W.s48=r=>new Kn(6,r);var Qt=W.ns64=r=>new kc(r);W.s16be=r=>new gr(2,r),W.s24be=r=>new gr(3,r),W.s32be=r=>new gr(4,r),W.s40be=r=>new gr(5,r),W.s48be=r=>new gr(6,r),W.ns64be=r=>new Nc(r),W.f32=r=>new Oc(r),W.f32be=r=>new Rc(r),W.f64=r=>new Lc(r),W.f64be=r=>new Uc(r);var fe=W.struct=(r,e,t)=>new Pc(r,e,t);W.bits=(r,e,t)=>new os(r,e,t);var Pt=W.seq=(r,e,t)=>new Dc(r,e,t);W.union=(r,e,t)=>new is(r,e,t),W.unionLayoutDiscriminator=(r,e)=>new Ni(r,e);var et=W.blob=(r,e)=>new Hc(r,e);W.cstr=r=>new Wc(r),W.utf8=(r,e)=>new jc(r,e),W.constant=(r,e)=>new qc(r,e);var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});function Md(r){{const e=Buffer.from(r);e.reverse();const t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}var Bd=Wr.toBigIntLE=Md;function Td(r){{const e=r.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}Wr.toBigIntBE=Td;function Cd(r,e){{const t=r.toString(16),n=Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}}var kd=Wr.toBufferLE=Cd;function Nd(r,e){{const t=r.toString(16);return Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex")}}Wr.toBufferBE=Nd;class Od extends TypeError{constructor(e,t){let n;const{message:o,...i}=e,{path:c}=e,u=c.length===0?o:"At path: "+c.join(".")+" -- "+o;super(u),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var h;return(h=n)!=null?h:n=[e,...t()]}}}function Rd(r){return kn(r)&&typeof r[Symbol.iterator]=="function"}function kn(r){return typeof r=="object"&&r!=null}function un(r){return typeof r=="string"?JSON.stringify(r):""+r}function Ld(r){const{done:e,value:t}=r.next();return e?void 0:t}function Ud(r,e,t,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:o,branch:i}=e,{type:c}=t,{refinement:u,message:h="Expected a value of type `"+c+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+un(n)+"`"}=r;return{value:n,type:c,refinement:u,key:o[o.length-1],path:o,branch:i,...r,message:h}}function*Gc(r,e,t,n){Rd(r)||(r=[r]);for(const o of r){const i=Ud(o,e,t,n);i&&(yield i)}}function*as(r,e,t={}){const{path:n=[],branch:o=[r],coerce:i=!1,mask:c=!1}=t,u={path:n,branch:o};if(i&&(r=e.coercer(r,u),c&&e.type!=="type"&&kn(e.schema)&&kn(r)&&!Array.isArray(r)))for(const y in r)e.schema[y]===void 0&&delete r[y];let h=!0;for(const y of e.validator(r,u))h=!1,yield[y,void 0];for(let[y,m,x]of e.entries(r,u)){const C=as(m,x,{path:y===void 0?n:[...n,y],branch:y===void 0?o:[...o,m],coerce:i,mask:c});for(const E of C)E[0]?(h=!1,yield[E[0],void 0]):i&&(m=E[1],y===void 0?r=m:r instanceof Map?r.set(y,m):r instanceof Set?r.add(m):kn(r)&&(r[y]=m))}if(h)for(const y of e.refiner(r,u))h=!1,yield[y,void 0];h&&(yield[void 0,r])}class wn{constructor(e){const{type:t,schema:n,validator:o,refiner:i,coercer:c=h=>h,entries:u=function*(){}}=e;this.type=t,this.schema=n,this.entries=u,this.coercer=c,o?this.validator=(h,y)=>{const m=o(h,y);return Gc(m,y,this,h)}:this.validator=()=>[],i?this.refiner=(h,y)=>{const m=i(h,y);return Gc(m,y,this,h)}:this.refiner=()=>[]}assert(e){return Dd(e,this)}create(e){return re(e,this)}is(e){return Qc(e,this)}mask(e){return Pd(e,this)}validate(e,t={}){return jr(e,this,t)}}function Dd(r,e){const t=jr(r,e);if(t[0])throw t[0]}function re(r,e){const t=jr(r,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function Pd(r,e){const t=jr(r,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function Qc(r,e){return!jr(r,e)[0]}function jr(r,e,t={}){const n=as(r,e,t),o=Ld(n);if(o[0])return[new Od(o[0],function*(){for(const c of n)c[0]&&(yield c[0])}),void 0];{const i=o[1];return[void 0,i]}}function Vn(r,e){return new wn({type:r,schema:null,validator:e})}function Fd(){return Vn("any",()=>!0)}function ue(r){return new wn({type:"array",schema:r,*entries(e){if(r&&Array.isArray(e))for(const[t,n]of e.entries())yield[t,n,r]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+un(e)}})}function vn(){return Vn("boolean",r=>typeof r=="boolean")}function cs(r){return Vn("instance",e=>e instanceof r||"Expected a `"+r.name+"` instance, but received: "+un(e))}function Ze(r){const e=un(r),t=typeof r;return new wn({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?r:null,validator(n){return n===r||"Expected the literal `"+e+"`, but received: "+un(n)}})}function zd(){return Vn("never",()=>!1)}function pe(r){return new wn({...r,validator:(e,t)=>e===null||r.validator(e,t),refiner:(e,t)=>e===null||r.refiner(e,t)})}function j(){return Vn("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+un(r))}function Se(r){return new wn({...r,validator:(e,t)=>e===void 0||r.validator(e,t),refiner:(e,t)=>e===void 0||r.refiner(e,t)})}function Kc(r,e){return new wn({type:"record",schema:null,*entries(t){if(kn(t))for(const n in t){const o=t[n];yield[n,n,r],yield[n,o,e]}},validator(t){return kn(t)||"Expected an object, but received: "+un(t)}})}function ne(){return Vn("string",r=>typeof r=="string"||"Expected a string, but received: "+un(r))}function us(r){const e=zd();return new wn({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const n=Math.max(r.length,t.length);for(let o=0;o<n;o++)yield[o,t[o],r[o]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+un(t)}})}function J(r){const e=Object.keys(r);return new wn({type:"type",schema:r,*entries(t){if(kn(t))for(const n of e)yield[n,t[n],r[n]]},validator(t){return kn(t)||"Expected an object, but received: "+un(t)}})}function zt(r){const e=r.map(t=>t.type).join(" | ");return new wn({type:"union",schema:null,validator(t,n){const o=[];for(const i of r){const[...c]=as(t,i,n),[u]=c;if(u[0])for(const[h]of c)h&&o.push(h);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+un(t),...o]}})}function qr(){return Vn("unknown",()=>!0)}function Gr(r,e,t){return new wn({...r,coercer:(n,o)=>Qc(n,e)?r.coercer(t(n,o),o):r.coercer(n,o)})}var ls={},Oi={exports:{}};(function(r){function e(t){return t&&t.__esModule?t:{default:t}}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports})(Oi);var fs={exports:{}},Yc;function hs(){return Yc||(Yc=1,function(r){function e(n,o){for(var i=0;i<o.length;i++){var c=o[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}function t(n,o,i){return o&&e(n.prototype,o),i&&e(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(fs)),fs.exports}var ds={exports:{}},Vc;function ps(){return Vc||(Vc=1,function(r){function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(ds)),ds.exports}var gs={exports:{}},ys={exports:{}},Zc;function Hd(){return Zc||(Zc=1,function(r){function e(t,n){return r.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},r.exports.__esModule=!0,r.exports.default=r.exports,e(t,n)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(ys)),ys.exports}var $c;function ws(){return $c||($c=1,function(r){var e=Hd();function t(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),o&&e(n,o)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(gs)),gs.exports}var ms={exports:{}},bs={exports:{}},Jc;function vs(){return Jc||(Jc=1,function(r){function e(t){return r.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r.exports.__esModule=!0,r.exports.default=r.exports,e(t)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(bs)),bs.exports}var As={exports:{}},Xc;function Wd(){return Xc||(Xc=1,function(r){function e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(As)),As.exports}var eu;function Es(){return eu||(eu=1,function(r){var e=vs().default,t=Wd();function n(o,i){if(i&&(e(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(o)}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports}(ms)),ms.exports}var xs={exports:{}},tu;function Ss(){return tu||(tu=1,function(r){function e(t){return r.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},r.exports.__esModule=!0,r.exports.default=r.exports,e(t)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(xs)),xs.exports}var Is={},Ri={exports:{}};(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function o(h,y,m){this.fn=h,this.context=y,this.once=m||!1}function i(h,y,m,x,C){if(typeof m!="function")throw new TypeError("The listener must be a function");var E=new o(m,x||h,C),B=t?t+y:y;return h._events[B]?h._events[B].fn?h._events[B]=[h._events[B],E]:h._events[B].push(E):(h._events[B]=E,h._eventsCount++),h}function c(h,y){--h._eventsCount===0?h._events=new n:delete h._events[y]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var y=[],m,x;if(this._eventsCount===0)return y;for(x in m=this._events)e.call(m,x)&&y.push(t?x.slice(1):x);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(m)):y},u.prototype.listeners=function(y){var m=t?t+y:y,x=this._events[m];if(!x)return[];if(x.fn)return[x.fn];for(var C=0,E=x.length,B=new Array(E);C<E;C++)B[C]=x[C].fn;return B},u.prototype.listenerCount=function(y){var m=t?t+y:y,x=this._events[m];return x?x.fn?1:x.length:0},u.prototype.emit=function(y,m,x,C,E,B){var T=t?t+y:y;if(!this._events[T])return!1;var L=this._events[T],P=arguments.length,z,N;if(L.fn){switch(L.once&&this.removeListener(y,L.fn,void 0,!0),P){case 1:return L.fn.call(L.context),!0;case 2:return L.fn.call(L.context,m),!0;case 3:return L.fn.call(L.context,m,x),!0;case 4:return L.fn.call(L.context,m,x,C),!0;case 5:return L.fn.call(L.context,m,x,C,E),!0;case 6:return L.fn.call(L.context,m,x,C,E,B),!0}for(N=1,z=new Array(P-1);N<P;N++)z[N-1]=arguments[N];L.fn.apply(L.context,z)}else{var F=L.length,R;for(N=0;N<F;N++)switch(L[N].once&&this.removeListener(y,L[N].fn,void 0,!0),P){case 1:L[N].fn.call(L[N].context);break;case 2:L[N].fn.call(L[N].context,m);break;case 3:L[N].fn.call(L[N].context,m,x);break;case 4:L[N].fn.call(L[N].context,m,x,C);break;default:if(!z)for(R=1,z=new Array(P-1);R<P;R++)z[R-1]=arguments[R];L[N].fn.apply(L[N].context,z)}}return!0},u.prototype.on=function(y,m,x){return i(this,y,m,x,!1)},u.prototype.once=function(y,m,x){return i(this,y,m,x,!0)},u.prototype.removeListener=function(y,m,x,C){var E=t?t+y:y;if(!this._events[E])return this;if(!m)return c(this,E),this;var B=this._events[E];if(B.fn)B.fn===m&&(!C||B.once)&&(!x||B.context===x)&&c(this,E);else{for(var T=0,L=[],P=B.length;T<P;T++)(B[T].fn!==m||C&&!B[T].once||x&&B[T].context!==x)&&L.push(B[T]);L.length?this._events[E]=L.length===1?L[0]:L:c(this,E)}return this},u.prototype.removeAllListeners=function(y){var m;return y?(m=t?t+y:y,this._events[m]&&c(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=t,u.EventEmitter=u,r.exports=u})(Ri);const Li=Ri.exports;var nu;function jd(){return nu||(nu=1,function(r){var e=Oi.exports;Object.defineProperty(r,"__esModule",{value:!0}),r.default=x;var t=e(ps()),n=e(hs()),o=e(ws()),i=e(Es()),c=e(Ss()),u=Ri.exports;function h(C){var E=y();return function(){var T=(0,c.default)(C),L;if(E){var P=(0,c.default)(this).constructor;L=Reflect.construct(T,arguments,P)}else L=T.apply(this,arguments);return(0,i.default)(this,L)}}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var m=function(C){(0,o.default)(B,C);var E=h(B);function B(T,L,P){var z;return(0,t.default)(this,B),z=E.call(this),z.socket=new window.WebSocket(T,P),z.socket.onopen=function(){return z.emit("open")},z.socket.onmessage=function(N){return z.emit("message",N.data)},z.socket.onerror=function(N){return z.emit("error",N)},z.socket.onclose=function(N){z.emit("close",N.code,N.reason)},z}return(0,n.default)(B,[{key:"send",value:function(L,P,z){var N=z||P;try{this.socket.send(L),N()}catch(F){N(F)}}},{key:"close",value:function(L,P){this.socket.close(L,P)}},{key:"addEventListener",value:function(L,P,z){this.socket.addEventListener(L,P,z)}}]),B}(u.EventEmitter);function x(C,E){return new m(C,E)}}(Is)),Is}var _s={},Ms={exports:{}},ru;function qd(){return ru||(ru=1,function(r){var e=vs().default;function t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */r.exports=t=function(){return n},r.exports.__esModule=!0,r.exports.default=r.exports;var n={},o=Object.prototype,i=o.hasOwnProperty,c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",h=c.asyncIterator||"@@asyncIterator",y=c.toStringTag||"@@toStringTag";function m(I,l,p){return Object.defineProperty(I,l,{value:p,enumerable:!0,configurable:!0,writable:!0}),I[l]}try{m({},"")}catch{m=function(p,b,w){return p[b]=w}}function x(I,l,p,b){var w=l&&l.prototype instanceof B?l:B,S=Object.create(w.prototype),U=new ve(b||[]);return S._invoke=function(k,v,d){var M="suspendedStart";return function(Q,$){if(M==="executing")throw new Error("Generator is already running");if(M==="completed"){if(Q==="throw")throw $;return xe()}for(d.method=Q,d.arg=$;;){var Z=d.delegate;if(Z){var se=q(Z,d);if(se){if(se===E)continue;return se}}if(d.method==="next")d.sent=d._sent=d.arg;else if(d.method==="throw"){if(M==="suspendedStart")throw M="completed",d.arg;d.dispatchException(d.arg)}else d.method==="return"&&d.abrupt("return",d.arg);M="executing";var ee=C(k,v,d);if(ee.type==="normal"){if(M=d.done?"completed":"suspendedYield",ee.arg===E)continue;return{value:ee.arg,done:d.done}}ee.type==="throw"&&(M="completed",d.method="throw",d.arg=ee.arg)}}}(I,p,U),S}function C(I,l,p){try{return{type:"normal",arg:I.call(l,p)}}catch(b){return{type:"throw",arg:b}}}n.wrap=x;var E={};function B(){}function T(){}function L(){}var P={};m(P,u,function(){return this});var z=Object.getPrototypeOf,N=z&&z(z(ye([])));N&&N!==o&&i.call(N,u)&&(P=N);var F=L.prototype=B.prototype=Object.create(P);function R(I){["next","throw","return"].forEach(function(l){m(I,l,function(p){return this._invoke(l,p)})})}function H(I,l){function p(w,S,U,k){var v=C(I[w],I,S);if(v.type!=="throw"){var d=v.arg,M=d.value;return M&&e(M)=="object"&&i.call(M,"__await")?l.resolve(M.__await).then(function(Q){p("next",Q,U,k)},function(Q){p("throw",Q,U,k)}):l.resolve(M).then(function(Q){d.value=Q,U(d)},function(Q){return p("throw",Q,U,k)})}k(v.arg)}var b;this._invoke=function(w,S){function U(){return new l(function(k,v){p(w,S,k,v)})}return b=b?b.then(U,U):U()}}function q(I,l){var p=I.iterator[l.method];if(p===void 0){if(l.delegate=null,l.method==="throw"){if(I.iterator.return&&(l.method="return",l.arg=void 0,q(I,l),l.method==="throw"))return E;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var b=C(p,I.iterator,l.arg);if(b.type==="throw")return l.method="throw",l.arg=b.arg,l.delegate=null,E;var w=b.arg;return w?w.done?(l[I.resultName]=w.value,l.next=I.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,E):w:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,E)}function G(I){var l={tryLoc:I[0]};1 in I&&(l.catchLoc=I[1]),2 in I&&(l.finallyLoc=I[2],l.afterLoc=I[3]),this.tryEntries.push(l)}function he(I){var l=I.completion||{};l.type="normal",delete l.arg,I.completion=l}function ve(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(G,this),this.reset(!0)}function ye(I){if(I){var l=I[u];if(l)return l.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var p=-1,b=function w(){for(;++p<I.length;)if(i.call(I,p))return w.value=I[p],w.done=!1,w;return w.value=void 0,w.done=!0,w};return b.next=b}}return{next:xe}}function xe(){return{value:void 0,done:!0}}return T.prototype=L,m(F,"constructor",L),m(L,"constructor",T),T.displayName=m(L,y,"GeneratorFunction"),n.isGeneratorFunction=function(I){var l=typeof I=="function"&&I.constructor;return!!l&&(l===T||(l.displayName||l.name)==="GeneratorFunction")},n.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,L):(I.__proto__=L,m(I,y,"GeneratorFunction")),I.prototype=Object.create(F),I},n.awrap=function(I){return{__await:I}},R(H.prototype),m(H.prototype,h,function(){return this}),n.AsyncIterator=H,n.async=function(I,l,p,b,w){w===void 0&&(w=Promise);var S=new H(x(I,l,p,b),w);return n.isGeneratorFunction(l)?S:S.next().then(function(U){return U.done?U.value:S.next()})},R(F),m(F,y,"Generator"),m(F,u,function(){return this}),m(F,"toString",function(){return"[object Generator]"}),n.keys=function(I){var l=[];for(var p in I)l.push(p);return l.reverse(),function b(){for(;l.length;){var w=l.pop();if(w in I)return b.value=w,b.done=!1,b}return b.done=!0,b}},n.values=ye,ve.prototype={constructor:ve,reset:function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(he),!l)for(var p in this)p.charAt(0)==="t"&&i.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=void 0)},stop:function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},dispatchException:function(l){if(this.done)throw l;var p=this;function b(d,M){return U.type="throw",U.arg=l,p.next=d,M&&(p.method="next",p.arg=void 0),!!M}for(var w=this.tryEntries.length-1;w>=0;--w){var S=this.tryEntries[w],U=S.completion;if(S.tryLoc==="root")return b("end");if(S.tryLoc<=this.prev){var k=i.call(S,"catchLoc"),v=i.call(S,"finallyLoc");if(k&&v){if(this.prev<S.catchLoc)return b(S.catchLoc,!0);if(this.prev<S.finallyLoc)return b(S.finallyLoc)}else if(k){if(this.prev<S.catchLoc)return b(S.catchLoc,!0)}else{if(!v)throw new Error("try statement without catch or finally");if(this.prev<S.finallyLoc)return b(S.finallyLoc)}}}},abrupt:function(l,p){for(var b=this.tryEntries.length-1;b>=0;--b){var w=this.tryEntries[b];if(w.tryLoc<=this.prev&&i.call(w,"finallyLoc")&&this.prev<w.finallyLoc){var S=w;break}}S&&(l==="break"||l==="continue")&&S.tryLoc<=p&&p<=S.finallyLoc&&(S=null);var U=S?S.completion:{};return U.type=l,U.arg=p,S?(this.method="next",this.next=S.finallyLoc,E):this.complete(U)},complete:function(l,p){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&p&&(this.next=p),E},finish:function(l){for(var p=this.tryEntries.length-1;p>=0;--p){var b=this.tryEntries[p];if(b.finallyLoc===l)return this.complete(b.completion,b.afterLoc),he(b),E}},catch:function(l){for(var p=this.tryEntries.length-1;p>=0;--p){var b=this.tryEntries[p];if(b.tryLoc===l){var w=b.completion;if(w.type==="throw"){var S=w.arg;he(b)}return S}}throw new Error("illegal catch attempt")},delegateYield:function(l,p,b){return this.delegate={iterator:ye(l),resultName:p,nextLoc:b},this.method==="next"&&(this.arg=void 0),E}},n}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(Ms)),Ms.exports}var Bs,iu;function Gd(){if(iu)return Bs;iu=1;var r=qd()();Bs=r;try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}return Bs}var Ts={exports:{}},ou;function Qd(){return ou||(ou=1,function(r){function e(n,o,i,c,u,h,y){try{var m=n[h](y),x=m.value}catch(C){i(C);return}m.done?o(x):Promise.resolve(x).then(c,u)}function t(n){return function(){var o=this,i=arguments;return new Promise(function(c,u){var h=n.apply(o,i);function y(x){e(h,c,u,y,m,"next",x)}function m(x){e(h,c,u,y,m,"throw",x)}y(void 0)})}}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(Ts)),Ts.exports}var su;function Kd(){return su||(su=1,function(r){var e=Oi.exports;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=e(Gd()),n=e(Qd()),o=e(vs()),i=e(ps()),c=e(hs()),u=e(ws()),h=e(Es()),y=e(Ss()),m=Ri.exports;function x(T){var L=C();return function(){var z=(0,y.default)(T),N;if(L){var F=(0,y.default)(this).constructor;N=Reflect.construct(z,arguments,F)}else N=z.apply(this,arguments);return(0,h.default)(this,N)}}function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var E=function(T,L){var P={};for(var z in T)Object.prototype.hasOwnProperty.call(T,z)&&L.indexOf(z)<0&&(P[z]=T[z]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var N=0,z=Object.getOwnPropertySymbols(T);N<z.length;N++)L.indexOf(z[N])<0&&Object.prototype.propertyIsEnumerable.call(T,z[N])&&(P[z[N]]=T[z[N]]);return P},B=function(T){(0,u.default)(P,T);var L=x(P);function P(z){var N,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},H=arguments.length>3?arguments[3]:void 0;(0,i.default)(this,P);var q=R.autoconnect,G=q===void 0?!0:q,he=R.reconnect,ve=he===void 0?!0:he,ye=R.reconnect_interval,xe=ye===void 0?1e3:ye,I=R.max_reconnects,l=I===void 0?5:I,p=E(R,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return N=L.call(this),N.webSocketFactory=z,N.queue={},N.rpc_id=0,N.address=F,N.autoconnect=G,N.ready=!1,N.reconnect=ve,N.reconnect_interval=xe,N.max_reconnects=l,N.rest_options=p,N.current_reconnects=0,N.generate_request_id=H||function(){return++N.rpc_id},N.autoconnect&&N._connect(N.address,Object.assign({autoconnect:N.autoconnect,reconnect:N.reconnect,reconnect_interval:N.reconnect_interval,max_reconnects:N.max_reconnects},N.rest_options)),N}return(0,c.default)(P,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(N,F,R,H){var q=this;return!H&&(0,o.default)(R)==="object"&&(H=R,R=null),new Promise(function(G,he){if(!q.ready)return he(new Error("socket not ready"));var ve=q.generate_request_id(N,F),ye={jsonrpc:"2.0",method:N,params:F||null,id:ve};q.socket.send(JSON.stringify(ye),H,function(xe){if(xe)return he(xe);q.queue[ve]={promise:[G,he]},R&&(q.queue[ve].timeout=setTimeout(function(){delete q.queue[ve],he(new Error("reply timeout"))},R))})})}},{key:"login",value:function(){var z=(0,n.default)(t.default.mark(function F(R){var H;return t.default.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,this.call("rpc.login",R);case 2:if(H=G.sent,H){G.next=5;break}throw new Error("authentication failed");case 5:return G.abrupt("return",H);case 6:case"end":return G.stop()}},F,this)}));function N(F){return z.apply(this,arguments)}return N}()},{key:"listMethods",value:function(){var z=(0,n.default)(t.default.mark(function F(){return t.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,this.call("__listMethods");case 2:return H.abrupt("return",H.sent);case 3:case"end":return H.stop()}},F,this)}));function N(){return z.apply(this,arguments)}return N}()},{key:"notify",value:function(N,F){var R=this;return new Promise(function(H,q){if(!R.ready)return q(new Error("socket not ready"));var G={jsonrpc:"2.0",method:N,params:F||null};R.socket.send(JSON.stringify(G),function(he){if(he)return q(he);H()})})}},{key:"subscribe",value:function(){var z=(0,n.default)(t.default.mark(function F(R){var H;return t.default.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return typeof R=="string"&&(R=[R]),G.next=3,this.call("rpc.on",R);case 3:if(H=G.sent,!(typeof R=="string"&&H[R]!=="ok")){G.next=6;break}throw new Error("Failed subscribing to an event '"+R+"' with: "+H[R]);case 6:return G.abrupt("return",H);case 7:case"end":return G.stop()}},F,this)}));function N(F){return z.apply(this,arguments)}return N}()},{key:"unsubscribe",value:function(){var z=(0,n.default)(t.default.mark(function F(R){var H;return t.default.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return typeof R=="string"&&(R=[R]),G.next=3,this.call("rpc.off",R);case 3:if(H=G.sent,!(typeof R=="string"&&H[R]!=="ok")){G.next=6;break}throw new Error("Failed unsubscribing from an event with: "+H);case 6:return G.abrupt("return",H);case 7:case"end":return G.stop()}},F,this)}));function N(F){return z.apply(this,arguments)}return N}()},{key:"close",value:function(N,F){this.socket.close(N||1e3,F)}},{key:"_connect",value:function(N,F){var R=this;this.socket=this.webSocketFactory(N,F),this.socket.addEventListener("open",function(){R.ready=!0,R.emit("open"),R.current_reconnects=0}),this.socket.addEventListener("message",function(H){var q=H.data;q instanceof ArrayBuffer&&(q=Buffer.from(q).toString());try{q=JSON.parse(q)}catch{return}if(q.notification&&R.listeners(q.notification).length){if(!Object.keys(q.params).length)return R.emit(q.notification);var G=[q.notification];if(q.params.constructor===Object)G.push(q.params);else for(var he=0;he<q.params.length;he++)G.push(q.params[he]);return Promise.resolve().then(function(){R.emit.apply(R,G)})}if(!R.queue[q.id])return q.method&&q.params?Promise.resolve().then(function(){R.emit(q.method,q.params)}):void 0;"error"in q=="result"in q&&R.queue[q.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),R.queue[q.id].timeout&&clearTimeout(R.queue[q.id].timeout),q.error?R.queue[q.id].promise[1](q.error):R.queue[q.id].promise[0](q.result),delete R.queue[q.id]}),this.socket.addEventListener("error",function(H){return R.emit("error",H)}),this.socket.addEventListener("close",function(H){var q=H.code,G=H.reason;R.ready&&setTimeout(function(){return R.emit("close",q,G)},0),R.ready=!1,R.socket=void 0,q!==1e3&&(R.current_reconnects++,R.reconnect&&(R.max_reconnects>R.current_reconnects||R.max_reconnects===0)&&setTimeout(function(){return R._connect(N,F)},R.reconnect_interval))})}}]),P}(m.EventEmitter);r.default=B}(_s)),_s}var Zn=Oi.exports;Object.defineProperty(ls,"__esModule",{value:!0});var au=ls.Client=void 0,Yd=Zn(hs()),Vd=Zn(ps()),Zd=Zn(ws()),$d=Zn(Es()),cu=Zn(Ss()),Jd=Zn(jd()),Xd=Zn(Kd());function e0(r){var e=t0();return function(){var n=(0,cu.default)(r),o;if(e){var i=(0,cu.default)(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return(0,$d.default)(this,o)}}function t0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var n0=function(r){(0,Zd.default)(t,r);var e=e0(t);function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.autoconnect,c=i===void 0?!0:i,u=o.reconnect,h=u===void 0?!0:u,y=o.reconnect_interval,m=y===void 0?1e3:y,x=o.max_reconnects,C=x===void 0?5:x,E=arguments.length>2?arguments[2]:void 0;return(0,Vd.default)(this,t),e.call(this,Jd.default,n,{autoconnect:c,reconnect:h,reconnect_interval:m,max_reconnects:C},E)}return(0,Yd.default)(t)}(Xd.default);au=ls.Client=n0;var Ui,r0=new Uint8Array(16);function uu(){if(!Ui&&(Ui=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ui))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ui(r0)}const i0=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Di(r){return typeof r=="string"&&i0.test(r)}for(var Ct=[],Cs=0;Cs<256;++Cs)Ct.push((Cs+256).toString(16).substr(1));function Pi(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Ct[r[e+0]]+Ct[r[e+1]]+Ct[r[e+2]]+Ct[r[e+3]]+"-"+Ct[r[e+4]]+Ct[r[e+5]]+"-"+Ct[r[e+6]]+Ct[r[e+7]]+"-"+Ct[r[e+8]]+Ct[r[e+9]]+"-"+Ct[r[e+10]]+Ct[r[e+11]]+Ct[r[e+12]]+Ct[r[e+13]]+Ct[r[e+14]]+Ct[r[e+15]]).toLowerCase();if(!Di(t))throw TypeError("Stringified UUID is invalid");return t}var lu,ks,Ns=0,Os=0;function o0(r,e,t){var n=e&&t||0,o=e||new Array(16);r=r||{};var i=r.node||lu,c=r.clockseq!==void 0?r.clockseq:ks;if(i==null||c==null){var u=r.random||(r.rng||uu)();i==null&&(i=lu=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),c==null&&(c=ks=(u[6]<<8|u[7])&16383)}var h=r.msecs!==void 0?r.msecs:Date.now(),y=r.nsecs!==void 0?r.nsecs:Os+1,m=h-Ns+(y-Os)/1e4;if(m<0&&r.clockseq===void 0&&(c=c+1&16383),(m<0||h>Ns)&&r.nsecs===void 0&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ns=h,Os=y,ks=c,h+=122192928e5;var x=((h&268435455)*1e4+y)%4294967296;o[n++]=x>>>24&255,o[n++]=x>>>16&255,o[n++]=x>>>8&255,o[n++]=x&255;var C=h/4294967296*1e4&268435455;o[n++]=C>>>8&255,o[n++]=C&255,o[n++]=C>>>24&15|16,o[n++]=C>>>16&255,o[n++]=c>>>8|128,o[n++]=c&255;for(var E=0;E<6;++E)o[n+E]=i[E];return e||Pi(o)}function fu(r){if(!Di(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}function s0(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}var a0="6ba7b810-9dad-11d1-80b4-00c04fd430c8",c0="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function hu(r,e,t){function n(o,i,c,u){if(typeof o=="string"&&(o=s0(o)),typeof i=="string"&&(i=fu(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var h=new Uint8Array(16+o.length);if(h.set(i),h.set(o,i.length),h=t(h),h[6]=h[6]&15|e,h[8]=h[8]&63|128,c){u=u||0;for(var y=0;y<16;++y)c[u+y]=h[y];return c}return Pi(h)}try{n.name=r}catch{}return n.DNS=a0,n.URL=c0,n}function u0(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return l0(f0(h0(r),r.length*8))}function l0(r){for(var e=[],t=r.length*32,n="0123456789abcdef",o=0;o<t;o+=8){var i=r[o>>5]>>>o%32&255,c=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);e.push(c)}return e}function du(r){return(r+64>>>9<<4)+14+1}function f0(r,e){r[e>>5]|=128<<e%32,r[du(e)-1]=e;for(var t=1732584193,n=-271733879,o=-1732584194,i=271733878,c=0;c<r.length;c+=16){var u=t,h=n,y=o,m=i;t=Ot(t,n,o,i,r[c],7,-680876936),i=Ot(i,t,n,o,r[c+1],12,-389564586),o=Ot(o,i,t,n,r[c+2],17,606105819),n=Ot(n,o,i,t,r[c+3],22,-1044525330),t=Ot(t,n,o,i,r[c+4],7,-176418897),i=Ot(i,t,n,o,r[c+5],12,1200080426),o=Ot(o,i,t,n,r[c+6],17,-1473231341),n=Ot(n,o,i,t,r[c+7],22,-45705983),t=Ot(t,n,o,i,r[c+8],7,1770035416),i=Ot(i,t,n,o,r[c+9],12,-1958414417),o=Ot(o,i,t,n,r[c+10],17,-42063),n=Ot(n,o,i,t,r[c+11],22,-1990404162),t=Ot(t,n,o,i,r[c+12],7,1804603682),i=Ot(i,t,n,o,r[c+13],12,-40341101),o=Ot(o,i,t,n,r[c+14],17,-1502002290),n=Ot(n,o,i,t,r[c+15],22,1236535329),t=Rt(t,n,o,i,r[c+1],5,-165796510),i=Rt(i,t,n,o,r[c+6],9,-1069501632),o=Rt(o,i,t,n,r[c+11],14,643717713),n=Rt(n,o,i,t,r[c],20,-373897302),t=Rt(t,n,o,i,r[c+5],5,-701558691),i=Rt(i,t,n,o,r[c+10],9,38016083),o=Rt(o,i,t,n,r[c+15],14,-660478335),n=Rt(n,o,i,t,r[c+4],20,-405537848),t=Rt(t,n,o,i,r[c+9],5,568446438),i=Rt(i,t,n,o,r[c+14],9,-1019803690),o=Rt(o,i,t,n,r[c+3],14,-187363961),n=Rt(n,o,i,t,r[c+8],20,1163531501),t=Rt(t,n,o,i,r[c+13],5,-1444681467),i=Rt(i,t,n,o,r[c+2],9,-51403784),o=Rt(o,i,t,n,r[c+7],14,1735328473),n=Rt(n,o,i,t,r[c+12],20,-1926607734),t=Lt(t,n,o,i,r[c+5],4,-378558),i=Lt(i,t,n,o,r[c+8],11,-2022574463),o=Lt(o,i,t,n,r[c+11],16,1839030562),n=Lt(n,o,i,t,r[c+14],23,-35309556),t=Lt(t,n,o,i,r[c+1],4,-1530992060),i=Lt(i,t,n,o,r[c+4],11,1272893353),o=Lt(o,i,t,n,r[c+7],16,-155497632),n=Lt(n,o,i,t,r[c+10],23,-1094730640),t=Lt(t,n,o,i,r[c+13],4,681279174),i=Lt(i,t,n,o,r[c],11,-358537222),o=Lt(o,i,t,n,r[c+3],16,-722521979),n=Lt(n,o,i,t,r[c+6],23,76029189),t=Lt(t,n,o,i,r[c+9],4,-640364487),i=Lt(i,t,n,o,r[c+12],11,-421815835),o=Lt(o,i,t,n,r[c+15],16,530742520),n=Lt(n,o,i,t,r[c+2],23,-995338651),t=Ut(t,n,o,i,r[c],6,-198630844),i=Ut(i,t,n,o,r[c+7],10,1126891415),o=Ut(o,i,t,n,r[c+14],15,-1416354905),n=Ut(n,o,i,t,r[c+5],21,-57434055),t=Ut(t,n,o,i,r[c+12],6,1700485571),i=Ut(i,t,n,o,r[c+3],10,-1894986606),o=Ut(o,i,t,n,r[c+10],15,-1051523),n=Ut(n,o,i,t,r[c+1],21,-2054922799),t=Ut(t,n,o,i,r[c+8],6,1873313359),i=Ut(i,t,n,o,r[c+15],10,-30611744),o=Ut(o,i,t,n,r[c+6],15,-1560198380),n=Ut(n,o,i,t,r[c+13],21,1309151649),t=Ut(t,n,o,i,r[c+4],6,-145523070),i=Ut(i,t,n,o,r[c+11],10,-1120210379),o=Ut(o,i,t,n,r[c+2],15,718787259),n=Ut(n,o,i,t,r[c+9],21,-343485551),t=Nn(t,u),n=Nn(n,h),o=Nn(o,y),i=Nn(i,m)}return[t,n,o,i]}function h0(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(du(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function Nn(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function d0(r,e){return r<<e|r>>>32-e}function Fi(r,e,t,n,o,i){return Nn(d0(Nn(Nn(e,r),Nn(n,i)),o),t)}function Ot(r,e,t,n,o,i,c){return Fi(e&t|~e&n,r,e,o,i,c)}function Rt(r,e,t,n,o,i,c){return Fi(e&n|t&~n,r,e,o,i,c)}function Lt(r,e,t,n,o,i,c){return Fi(e^t^n,r,e,o,i,c)}function Ut(r,e,t,n,o,i,c){return Fi(t^(e|~n),r,e,o,i,c)}var p0=hu("v3",48,u0);const g0=p0;function pu(r,e,t){r=r||{};var n=r.random||(r.rng||uu)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var o=0;o<16;++o)e[t+o]=n[o];return e}return Pi(n)}function y0(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function Rs(r,e){return r<<e|r>>>32-e}function w0(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var o=0;o<n.length;++o)r.push(n.charCodeAt(o))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var i=r.length/4+2,c=Math.ceil(i/16),u=new Array(c),h=0;h<c;++h){for(var y=new Uint32Array(16),m=0;m<16;++m)y[m]=r[h*64+m*4]<<24|r[h*64+m*4+1]<<16|r[h*64+m*4+2]<<8|r[h*64+m*4+3];u[h]=y}u[c-1][14]=(r.length-1)*8/Math.pow(2,32),u[c-1][14]=Math.floor(u[c-1][14]),u[c-1][15]=(r.length-1)*8&4294967295;for(var x=0;x<c;++x){for(var C=new Uint32Array(80),E=0;E<16;++E)C[E]=u[x][E];for(var B=16;B<80;++B)C[B]=Rs(C[B-3]^C[B-8]^C[B-14]^C[B-16],1);for(var T=t[0],L=t[1],P=t[2],z=t[3],N=t[4],F=0;F<80;++F){var R=Math.floor(F/20),H=Rs(T,5)+y0(R,L,P,z)+N+e[R]+C[F]>>>0;N=z,z=P,P=Rs(L,30)>>>0,L=T,T=H}t[0]=t[0]+T>>>0,t[1]=t[1]+L>>>0,t[2]=t[2]+P>>>0,t[3]=t[3]+z>>>0,t[4]=t[4]+N>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var m0=hu("v5",80,w0);const b0=m0,v0="00000000-0000-0000-0000-000000000000";function A0(r){if(!Di(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const gu=ui(Object.freeze(Object.defineProperty({__proto__:null,v1:o0,v3:g0,v4:pu,v5:b0,NIL:v0,version:A0,validate:Di,stringify:Pi,parse:fu},Symbol.toStringTag,{value:"Module"}))),E0=gu.v4;var x0=function(r,e,t,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};const o=typeof n.version=="number"?n.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const i={method:r};if(o===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof t>"u"){const c=typeof n.generator=="function"?n.generator:function(){return E0()};i.id=c(i,n)}else o===2&&t===null?n.notificationIdNull&&(i.id=null):i.id=t;return i};const S0=gu.v4,I0=x0,Qr=function(r,e){if(!(this instanceof Qr))return new Qr(r,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return S0()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=r};var _0=Qr;Qr.prototype.request=function(r,e,t,n){const o=this;let i=null;const c=Array.isArray(r)&&typeof e=="function";if(this.options.version===1&&c)throw new TypeError("JSON-RPC 1.0 does not support batching");if(c||!c&&r&&typeof r=="object"&&typeof e=="function")n=e,i=r;else{typeof t=="function"&&(n=t,t=void 0);const y=typeof n=="function";try{i=I0(r,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(m){if(y)return n(m);throw m}if(!y)return i}let h;try{h=JSON.stringify(i,this.options.replacer)}catch(y){return n(y)}return this.callServer(h,function(y,m){o._parseResponse(y,m,n)}),i},Qr.prototype._parseResponse=function(r,e,t){if(r){t(r);return}if(!e)return t();let n;try{n=JSON.parse(e,this.options.reviver)}catch(o){return t(o)}if(t.length===3)if(Array.isArray(n)){const o=function(c){return typeof c.error<"u"},i=function(c){return!o(c)};return t(null,n.filter(o),n.filter(i))}else return t(null,n.error,n.result);t(null,n)};const[yu,wu,mu]=[[],[],[]],M0=BigInt(0),Kr=BigInt(1),B0=BigInt(2),T0=BigInt(7),C0=BigInt(256),k0=BigInt(113);for(let r=0,e=Kr,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],yu.push(2*(5*n+t)),wu.push((r+1)*(r+2)/2%64);let o=M0;for(let i=0;i<7;i++)e=(e<<Kr^(e>>T0)*k0)%C0,e&B0&&(o^=Kr<<(Kr<<BigInt(i))-Kr);mu.push(o)}const[N0,O0]=me.split(mu,!0),bu=(r,e,t)=>t>32?me.rotlBH(r,e,t):me.rotlSH(r,e,t),vu=(r,e,t)=>t>32?me.rotlBL(r,e,t):me.rotlSL(r,e,t);function R0(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let c=0;c<10;c++)t[c]=r[c]^r[c+10]^r[c+20]^r[c+30]^r[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,h=(c+2)%10,y=t[h],m=t[h+1],x=bu(y,m,1)^t[u],C=vu(y,m,1)^t[u+1];for(let E=0;E<50;E+=10)r[c+E]^=x,r[c+E+1]^=C}let o=r[2],i=r[3];for(let c=0;c<24;c++){const u=wu[c],h=bu(o,i,u),y=vu(o,i,u),m=yu[c];o=r[m],i=r[m+1],r[m]=h,r[m+1]=y}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)t[u]=r[c+u];for(let u=0;u<10;u++)r[c+u]^=~t[(u+2)%10]&t[(u+4)%10]}r[0]^=N0[n],r[1]^=O0[n]}t.fill(0)}class zi extends Lo{constructor(e,t,n,o=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=o,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,qt.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=fh(this.state)}keccak(){R0(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){qt.exists(this);const{blockLen:t,state:n}=this;e=Rr(e);const o=e.length;for(let i=0;i<o;){const c=Math.min(t-this.pos,o-i);for(let u=0;u<c;u++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:o}=this;e[n]^=t,(t&128)!==0&&n===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){qt.exists(this,!1),qt.bytes(e),this.finish();const t=this.state,{blockLen:n}=this;for(let o=0,i=e.length;o<i;){this.posOut>=n&&this.keccak();const c=Math.min(n-this.posOut,i-o);e.set(t.subarray(this.posOut,this.posOut+c),o),this.posOut+=c,o+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return qt.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(qt.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:o,rounds:i,enableXOF:c}=this;return e||(e=new zi(t,n,o,c,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=o,e.enableXOF=c,e.destroyed=this.destroyed,e}}const On=(r,e,t)=>Lr(()=>new zi(e,r,t));On(6,144,224/8),On(6,136,256/8),On(6,104,384/8),On(6,72,512/8),On(1,144,224/8),On(1,136,256/8),On(1,104,384/8),On(1,72,512/8);const Au=(r,e,t)=>dh((n={})=>new zi(e,r,n.dkLen===void 0?t:n.dkLen,!0));Au(31,168,128/8),Au(31,136,256/8);class Eu extends Lo{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,qt.hash(e);const n=Rr(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?e.create().update(n).digest():n);for(let c=0;c<i.length;c++)i[c]^=54;this.iHash.update(i),this.oHash=e.create();for(let c=0;c<i.length;c++)i[c]^=106;this.oHash.update(i),i.fill(0)}update(e){return qt.exists(this),this.iHash.update(e),this}digestInto(e){qt.exists(this),qt.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:o,destroyed:i,blockLen:c,outputLen:u}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=c,e.outputLen=u,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const xu=(r,e,t)=>new Eu(r,e).update(t).digest();xu.create=(r,e)=>new Eu(r,e);/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const Ue=BigInt(0),$e=BigInt(1),Rn=BigInt(2),Yr=BigInt(3),L0=BigInt(8),tt=Object.freeze({a:Ue,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:$e,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});function Su(r){const{a:e,b:t}=tt,n=ae(r*r),o=ae(n*r);return ae(o+e*r+t)}const Hi=tt.a===Ue;class U0 extends Error{constructor(e){super(e)}}class Fe{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static fromAffine(e){if(!(e instanceof St))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new Fe(e.x,e.y,$e)}static toAffineBatch(e){const t=H0(e.map(n=>n.z));return e.map((n,o)=>n.toAffine(t[o]))}static normalizeZ(e){return Fe.toAffineBatch(e).map(Fe.fromAffine)}equals(e){if(!(e instanceof Fe))throw new TypeError("JacobianPoint expected");const{x:t,y:n,z:o}=this,{x:i,y:c,z:u}=e,h=ae(o*o),y=ae(u*u),m=ae(t*y),x=ae(i*h),C=ae(ae(n*u)*y),E=ae(ae(c*o)*h);return m===x&&C===E}negate(){return new Fe(this.x,ae(-this.y),this.z)}double(){const{x:e,y:t,z:n}=this,o=ae(e*e),i=ae(t*t),c=ae(i*i),u=e+i,h=ae(Rn*(ae(u*u)-o-c)),y=ae(Yr*o),m=ae(y*y),x=ae(m-Rn*h),C=ae(y*(h-x)-L0*c),E=ae(Rn*t*n);return new Fe(x,C,E)}add(e){if(!(e instanceof Fe))throw new TypeError("JacobianPoint expected");const{x:t,y:n,z:o}=this,{x:i,y:c,z:u}=e;if(i===Ue||c===Ue)return this;if(t===Ue||n===Ue)return e;const h=ae(o*o),y=ae(u*u),m=ae(t*y),x=ae(i*h),C=ae(ae(n*u)*y),E=ae(ae(c*o)*h),B=ae(x-m),T=ae(E-C);if(B===Ue)return T===Ue?this.double():Fe.ZERO;const L=ae(B*B),P=ae(B*L),z=ae(m*L),N=ae(T*T-P-Rn*z),F=ae(T*(z-N)-C*P),R=ae(o*u*B);return new Fe(N,F,R)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=Fe.ZERO;if(typeof e=="bigint"&&e===Ue)return t;let n=Bu(e);if(n===$e)return this;if(!Hi){let x=t,C=this;for(;n>Ue;)n&$e&&(x=x.add(C)),C=C.double(),n>>=$e;return x}let{k1neg:o,k1:i,k2neg:c,k2:u}=Cu(n),h=t,y=t,m=this;for(;i>Ue||u>Ue;)i&$e&&(h=h.add(m)),u&$e&&(y=y.add(m)),m=m.double(),i>>=$e,u>>=$e;return o&&(h=h.negate()),c&&(y=y.negate()),y=new Fe(ae(y.x*tt.beta),y.y,y.z),h.add(y)}precomputeWindow(e){const t=Hi?128/e+1:256/e+1,n=[];let o=this,i=o;for(let c=0;c<t;c++){i=o,n.push(i);for(let u=1;u<2**(e-1);u++)i=i.add(o),n.push(i);o=i.double()}return n}wNAF(e,t){!t&&this.equals(Fe.BASE)&&(t=St.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=t&&Ls.get(t);o||(o=this.precomputeWindow(n),t&&n!==1&&(o=Fe.normalizeZ(o),Ls.set(t,o)));let i=Fe.ZERO,c=Fe.ZERO;const u=1+(Hi?128/n:256/n),h=2**(n-1),y=BigInt(2**n-1),m=2**n,x=BigInt(n);for(let C=0;C<u;C++){const E=C*h;let B=Number(e&y);if(e>>=x,B>h&&(B-=m,e+=$e),B===0){let T=o[E];C%2&&(T=T.negate()),c=c.add(T)}else{let T=o[E+Math.abs(B)-1];B<0&&(T=T.negate()),i=i.add(T)}}return{p:i,f:c}}multiply(e,t){let n=Bu(e),o,i;if(Hi){const{k1neg:c,k1:u,k2neg:h,k2:y}=Cu(n);let{p:m,f:x}=this.wNAF(u,t),{p:C,f:E}=this.wNAF(y,t);c&&(m=m.negate()),h&&(C=C.negate()),C=new Fe(ae(C.x*tt.beta),C.y,C.z),o=m.add(C),i=x.add(E)}else{const{p:c,f:u}=this.wNAF(n,t);o=c,i=u}return Fe.normalizeZ([o,i])[0]}toAffine(e=ji(this.z)){const{x:t,y:n,z:o}=this,i=e,c=ae(i*i),u=ae(c*i),h=ae(t*c),y=ae(n*u);if(ae(o*i)!==$e)throw new Error("invZ was invalid");return new St(h,y)}}Fe.BASE=new Fe(tt.Gx,tt.Gy,$e),Fe.ZERO=new Fe(Ue,$e,Ue);const Ls=new WeakMap;class St{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,Ls.delete(this)}hasEvenY(){return this.y%Rn===Ue}static fromCompressedHex(e){const t=e.length===32,n=Xn(t?e:e.subarray(1));if(!Ps(n))throw new Error("Point is not on curve");const o=Su(n);let i=z0(o);const c=(i&$e)===$e;t?c&&(i=ae(-i)):(e[0]&1)===1!==c&&(i=ae(-i));const u=new St(n,i);return u.assertValidity(),u}static fromUncompressedHex(e){const t=Xn(e.subarray(1,33)),n=Xn(e.subarray(33,65)),o=new St(t,n);return o.assertValidity(),o}static fromHex(e){const t=Us(e),n=t.length,o=t[0];if(n===32||n===33&&(o===2||o===3))return this.fromCompressedHex(t);if(n===65&&o===4)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return St.BASE.multiply(Fs(e))}static fromSignature(e,t,n){e=Us(e);const o=j0(e),{r:i,s:c}=q0(t);if(n!==0&&n!==1)throw new Error("Cannot recover signature: invalid recovery bit");const u=n&1?"03":"02",h=St.fromHex(u+mr(i)),{n:y}=tt,m=ji(i,y),x=ae(-o*m,y),C=ae(c*m,y),E=St.BASE.multiplyAndAddUnsafe(h,x,C);if(!E)throw new Error("Cannot recover signature: point at infinify");return E.assertValidity(),E}toRawBytes(e=!1){return Jn(this.toHex(e))}toHex(e=!1){const t=mr(this.x);return e?`${this.hasEvenY()?"02":"03"}${t}`:`04${t}${mr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:n}=this;if(!Ps(t)||!Ps(n))throw new Error(e);const o=ae(n*n),i=Su(t);if(ae(o-i)!==Ue)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new St(this.x,ae(-this.y))}double(){return Fe.fromAffine(this).double().toAffine()}add(e){return Fe.fromAffine(this).add(Fe.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Fe.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,n){const o=Fe.fromAffine(this),i=t===Ue||t===$e||this!==St.BASE?o.multiplyUnsafe(t):o.multiply(t),c=Fe.fromAffine(e).multiplyUnsafe(n),u=i.add(c);return u.equals(Fe.ZERO)?void 0:u.toAffine()}}St.BASE=new St(tt.Gx,tt.Gy),St.ZERO=new St(Ue,Ue);function Iu(r){return Number.parseInt(r[0],16)>=8?"00"+r:r}function _u(r){if(r.length<2||r[0]!==2)throw new Error(`Invalid signature integer tag: ${wr(r)}`);const e=r[1],t=r.subarray(2,e+2);if(!e||t.length!==e)throw new Error("Invalid signature integer: wrong length");if(t[0]===0&&t[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Xn(t),left:r.subarray(e+2)}}function D0(r){if(r.length<2||r[0]!=48)throw new Error(`Invalid signature tag: ${wr(r)}`);if(r[1]!==r.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:t}=_u(r.subarray(2)),{data:n,left:o}=_u(t);if(o.length)throw new Error(`Invalid signature: left bytes after parsing: ${wr(o)}`);return{r:e,s:n}}class $n{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!t)throw new TypeError(`${n}: Expected string or Uint8Array`);const o=t?wr(e):e;if(o.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new $n(Wi(o.slice(0,64)),Wi(o.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if(typeof e!="string"&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:o}=D0(t?e:Jn(e));return new $n(n,o)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!qi(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!qi(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=tt.n>>$e;return this.s>e}normalizeS(){return this.hasHighS()?new $n(this.r,tt.n-this.s):this}toDERRawBytes(e=!1){return Jn(this.toDERHex(e))}toDERHex(e=!1){const t=Iu(Zr(this.s));if(e)return t;const n=Iu(Zr(this.r)),o=Zr(n.length/2),i=Zr(t.length/2);return`30${Zr(n.length/2+t.length/2+4)}02${o}${n}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Jn(this.toCompactHex())}toCompactHex(){return mr(this.r)+mr(this.s)}}function Vr(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];const e=r.reduce((n,o)=>n+o.length,0),t=new Uint8Array(e);for(let n=0,o=0;n<r.length;n++){const i=r[n];t.set(i,o),o+=i.length}return t}const P0=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function wr(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let t=0;t<r.length;t++)e+=P0[r[t]];return e}const F0=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function mr(r){if(typeof r!="bigint")throw new Error("Expected bigint");if(!(Ue<=r&&r<F0))throw new Error("Expected number < 2^256");return r.toString(16).padStart(64,"0")}function Mu(r){const e=Jn(mr(r));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function Zr(r){const e=r.toString(16);return e.length&1?`0${e}`:e}function Wi(r){if(typeof r!="string")throw new TypeError("hexToNumber: expected string, got "+typeof r);return BigInt(`0x${r}`)}function Jn(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+r.length);const e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){const n=t*2,o=r.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[t]=i}return e}function Xn(r){return Wi(wr(r))}function Us(r){return r instanceof Uint8Array?Uint8Array.from(r):Jn(r)}function Bu(r){if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)return BigInt(r);if(typeof r=="bigint"&&qi(r))return r;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function ae(r,e=tt.P){const t=r%e;return t>=Ue?t:e+t}function Jt(r,e){const{P:t}=tt;let n=r;for(;e-- >Ue;)n*=n,n%=t;return n}function z0(r){const{P:e}=tt,t=BigInt(6),n=BigInt(11),o=BigInt(22),i=BigInt(23),c=BigInt(44),u=BigInt(88),h=r*r*r%e,y=h*h*r%e,m=Jt(y,Yr)*y%e,x=Jt(m,Yr)*y%e,C=Jt(x,Rn)*h%e,E=Jt(C,n)*C%e,B=Jt(E,o)*E%e,T=Jt(B,c)*B%e,L=Jt(T,u)*T%e,P=Jt(L,c)*B%e,z=Jt(P,Yr)*y%e,N=Jt(z,i)*E%e,F=Jt(N,t)*h%e;return Jt(F,Rn)}function ji(r,e=tt.P){if(r===Ue||e<=Ue)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=ae(r,e),n=e,o=Ue,i=$e;for(;t!==Ue;){const u=n/t,h=n%t,y=o-i*u;n=t,t=h,o=i,i=y}if(n!==$e)throw new Error("invert: does not exist");return ae(o,e)}function H0(r,e=tt.P){const t=new Array(r.length),n=r.reduce((i,c,u)=>c===Ue?i:(t[u]=i,ae(i*c,e)),$e),o=ji(n,e);return r.reduceRight((i,c,u)=>c===Ue?i:(t[u]=ae(i*t[u],e),ae(i*c,e)),o),t}const Tu=(r,e)=>(r+e/Rn)/e,W0={a1:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1:-$e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2:BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),POW_2_128:BigInt("0x100000000000000000000000000000000")};function Cu(r){const{n:e}=tt,{a1:t,b1:n,a2:o,b2:i,POW_2_128:c}=W0,u=Tu(i*r,e),h=Tu(-n*r,e);let y=ae(r-u*t-h*o,e),m=ae(-u*n-h*i,e);const x=y>c,C=m>c;if(x&&(y=e-y),C&&(m=e-m),y>c||m>c)throw new Error("splitScalarEndo: Endomorphism failed, k="+r);return{k1neg:x,k1:y,k2neg:C,k2:m}}function j0(r){const{n:e}=tt,n=r.length*8-256;let o=Xn(r);return n>0&&(o=o>>BigInt(n)),o>=e&&(o-=e),o}let br,Ds;function qi(r){return Ue<r&&r<tt.n}function Ps(r){return Ue<r&&r<tt.P}function Fs(r){let e;if(typeof r=="bigint")e=r;else if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)e=BigInt(r);else if(typeof r=="string"){if(r.length!==64)throw new Error("Expected 32 bytes of private key");e=Wi(r)}else if(r instanceof Uint8Array){if(r.length!==32)throw new Error("Expected 32 bytes of private key");e=Xn(r)}else throw new TypeError("Expected valid private key");if(!qi(e))throw new Error("Expected private key: 0 < key < n");return e}function q0(r){if(r instanceof $n)return r.assertValidity(),r;try{return $n.fromDER(r)}catch{return $n.fromCompact(r)}}St.BASE._setWindowSize(8);const Kt={node:Po,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Gi={},er={bytesToHex:wr,hexToBytes:Jn,concatBytes:Vr,mod:ae,invert:ji,isValidPrivateKey(r){try{return Fs(r),!0}catch{return!1}},_bigintTo32Bytes:Mu,_normalizePrivateKey:Fs,hashToPrivateKey:r=>{if(r=Us(r),r.length<40||r.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const e=ae(Xn(r),tt.n-$e)+$e;return Mu(e)},randomBytes:(r=32)=>{if(Kt.web)return Kt.web.getRandomValues(new Uint8Array(r));if(Kt.node){const{randomBytes:e}=Kt.node;return Uint8Array.from(e(r))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>er.hashToPrivateKey(er.randomBytes(40)),sha256:async(...r)=>{if(Kt.web){const e=await Kt.web.subtle.digest("SHA-256",Vr(...r));return new Uint8Array(e)}else if(Kt.node){const{createHash:e}=Kt.node,t=e("sha256");return r.forEach(n=>t.update(n)),Uint8Array.from(t.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(r,...e)=>{if(Kt.web){const t=await Kt.web.subtle.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Vr(...e),o=await Kt.web.subtle.sign("HMAC",t,n);return new Uint8Array(o)}else if(Kt.node){const{createHmac:t}=Kt.node,n=t("sha256",r);return e.forEach(o=>n.update(o)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(r,...e)=>{let t=Gi[r];if(t===void 0){const n=await er.sha256(Uint8Array.from(r,o=>o.charCodeAt(0)));t=Vr(n,n),Gi[r]=t}return er.sha256(t,...e)},taggedHashSync:(r,...e)=>{if(typeof br!="function")throw new U0("sha256Sync is undefined, you need to set it");let t=Gi[r];if(t===void 0){const n=br(Uint8Array.from(r,o=>o.charCodeAt(0)));t=Vr(n,n),Gi[r]=t}return br(t,...e)},precompute(r=8,e=St.BASE){const t=e===St.BASE?e:new St(e.x,e.y);return t._setWindowSize(r),t.multiply(Yr),t}};Object.defineProperties(er,{sha256Sync:{configurable:!1,get(){return br},set(r){br||(br=r)}},hmacSha256Sync:{configurable:!1,get(){return Ds},set(r){Ds||(Ds=r)}}}),fr.sha512Sync=(...r)=>Rh(fr.concatBytes(...r)),fr.randomPrivateKey;function ku(r){try{return Xe.fromHex(r,!0),!0}catch{return!1}}const G0=(r,e)=>mc.sign(r,e.slice(0,32)),Q0=mc.verify,$r=r=>Ee.Buffer.isBuffer(r)?r:r instanceof Uint8Array?Ee.Buffer.from(r.buffer,r.byteOffset,r.byteLength):Ee.Buffer.from(r);class K0{constructor(e){Object.assign(this,e)}encode(){return Ee.Buffer.from(_c(Qi,this))}static decode(e){return Mc(Qi,this,e)}static decodeUnchecked(e){return Ac(Qi,this,e)}}const Qi=new Map,Y0=32,An=32;function V0(r){return r._bn!==void 0}let Nu=1;class le extends K0{constructor(e){if(super({}),this._bn=void 0,V0(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Mt.decode(e);if(t.length!=An)throw new Error("Invalid public key input");this._bn=new bc(t)}else this._bn=new bc(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}static unique(){const e=new le(Nu);return Nu+=1,new le(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Mt.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(Ee.Buffer);if(e.length===An)return e;const t=Ee.Buffer.alloc(32);return e.copy(t,32-e.length),t}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const o=Ee.Buffer.concat([e.toBuffer(),Ee.Buffer.from(t),n.toBuffer()]),i=Yo(o);return new le(i)}static createProgramAddressSync(e,t){let n=Ee.Buffer.alloc(0);e.forEach(function(i){if(i.length>Y0)throw new TypeError("Max seed length exceeded");n=Ee.Buffer.concat([n,$r(i)])}),n=Ee.Buffer.concat([n,t.toBuffer(),Ee.Buffer.from("ProgramDerivedAddress")]);const o=Yo(n);if(ku(o))throw new Error("Invalid seeds, address must fall off the curve");return new le(o)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n=255,o;for(;n!=0;){try{const i=e.concat(Ee.Buffer.from([n]));o=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[o,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new le(e);return ku(t.toBytes())}}le.default=new le("11111111111111111111111111111111"),Qi.set(le,{kind:"struct",fields:[["_bn","u256"]]}),new le("BPFLoader1111111111111111111111111111111111");const vr=1280-40-8,Ou=127,zs=64;class Ru extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ru.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Lu extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Lu.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Ki{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((i,c)=>{n.set(i.toBase58(),c)});const o=i=>{const c=n.get(i.toBase58());if(c===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return c};return e.map(i=>({programIdIndex:o(i.programId),accountKeyIndexes:i.keys.map(c=>o(c.pubkey)),data:i.data}))}}const _e=(r="publicKey")=>et(32,r),Ar=(r="string")=>{const e=fe([ge("length"),ge("lengthPadding"),et(Yn(ge(),-8),"chars")],r),t=e.decode.bind(e),n=e.encode.bind(e),o=e;return o.decode=(i,c)=>t(i,c).chars.toString(),o.encode=(i,c,u)=>{const h={chars:Ee.Buffer.from(i,"utf8")};return n(h,c,u)},o.alloc=i=>ge().span+ge().span+Ee.Buffer.from(i,"utf8").length,o},Z0=(r="authorized")=>fe([_e("staker"),_e("withdrawer")],r),$0=(r="lockup")=>fe([Qt("unixTimestamp"),Qt("epoch"),_e("custodian")],r),J0=(r="voteInit")=>fe([_e("nodePubkey"),_e("authorizedVoter"),_e("authorizedWithdrawer"),Oe("commission")],r),X0=(r="voteAuthorizeWithSeedArgs")=>fe([ge("voteAuthorizationType"),_e("currentAuthorityDerivedKeyOwnerPubkey"),Ar("currentAuthorityDerivedKeySeed"),_e("newAuthorized")],r);function Xt(r){let e=0,t=0;for(;;){let n=r.shift();if(e|=(n&127)<<t*7,t+=1,(n&128)===0)break}return e}function en(r,e){let t=e;for(;;){let n=t&127;if(t>>=7,t==0){r.push(n);break}else n|=128,r.push(n)}}function rt(r,e){if(!r)throw new Error(e||"Assertion failed")}class Yi{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const n=new Map,o=c=>{const u=c.toBase58();let h=n.get(u);return h===void 0&&(h={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(u,h)),h},i=o(t);i.isSigner=!0,i.isWritable=!0;for(const c of e){o(c.programId).isInvoked=!0;for(const u of c.keys){const h=o(u.pubkey);h.isSigner||(h.isSigner=u.isSigner),h.isWritable||(h.isWritable=u.isWritable)}}return new Yi(t,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];rt(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,h])=>h.isSigner&&h.isWritable),n=e.filter(([,h])=>h.isSigner&&!h.isWritable),o=e.filter(([,h])=>!h.isSigner&&h.isWritable),i=e.filter(([,h])=>!h.isSigner&&!h.isWritable),c={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{rt(t.length>0,"Expected at least one writable signer key");const[h]=t[0];rt(h===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...t.map(([h])=>new le(h)),...n.map(([h])=>new le(h)),...o.map(([h])=>new le(h)),...i.map(([h])=>new le(h))];return[c,u]}extractTableLookup(e){const[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[o,i]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(t.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:o},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(e,t){const n=new Array,o=new Array;for(const[i,c]of this.keyMetaMap.entries())if(t(c)){const u=new le(i),h=e.findIndex(y=>y.equals(u));h>=0&&(rt(h<256,"Max lookup table index exceeded"),n.push(h),o.push(u),this.keyMetaMap.delete(i))}return[n,o]}}class Ln{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new le(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Mt.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Ki(this.staticAccountKeys)}static compile(e){const t=Yi.compile(e.instructions,e.payerKey),[n,o]=t.getMessageComponents(),c=new Ki(o).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:Mt.encode(u.data)}));return new Ln({header:n,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:c})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return n<i}else{const n=t-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];en(t,e);const n=this.instructions.map(x=>{const{accounts:C,programIdIndex:E}=x,B=Array.from(Mt.decode(x.data));let T=[];en(T,C.length);let L=[];return en(L,B.length),{programIdIndex:E,keyIndicesCount:Ee.Buffer.from(T),keyIndices:C,dataLength:Ee.Buffer.from(L),data:B}});let o=[];en(o,n.length);let i=Ee.Buffer.alloc(vr);Ee.Buffer.from(o).copy(i);let c=o.length;n.forEach(x=>{c+=fe([Oe("programIdIndex"),et(x.keyIndicesCount.length,"keyIndicesCount"),Pt(Oe("keyIndex"),x.keyIndices.length,"keyIndices"),et(x.dataLength.length,"dataLength"),Pt(Oe("userdatum"),x.data.length,"data")]).encode(x,i,c)}),i=i.slice(0,c);const u=fe([et(1,"numRequiredSignatures"),et(1,"numReadonlySignedAccounts"),et(1,"numReadonlyUnsignedAccounts"),et(t.length,"keyCount"),Pt(_e("key"),e,"keys"),_e("recentBlockhash")]),h={numRequiredSignatures:Ee.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ee.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ee.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ee.Buffer.from(t),keys:this.accountKeys.map(x=>$r(x.toBytes())),recentBlockhash:Mt.decode(this.recentBlockhash)};let y=Ee.Buffer.alloc(2048);const m=u.encode(h,y);return i.copy(y,m),y.slice(0,m+i.length)}static from(e){let t=[...e];const n=t.shift();if(n!==(n&Ou))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=t.shift(),i=t.shift(),c=Xt(t);let u=[];for(let C=0;C<c;C++){const E=t.slice(0,An);t=t.slice(An),u.push(new le(Ee.Buffer.from(E)))}const h=t.slice(0,An);t=t.slice(An);const y=Xt(t);let m=[];for(let C=0;C<y;C++){const E=t.shift(),B=Xt(t),T=t.slice(0,B);t=t.slice(B);const L=Xt(t),P=t.slice(0,L),z=Mt.encode(Ee.Buffer.from(P));t=t.slice(L),m.push({programIdIndex:E,accounts:T,data:z})}const x={header:{numRequiredSignatures:n,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:i},recentBlockhash:Mt.encode(Ee.Buffer.from(h)),accountKeys:u,instructions:m};return new Ln(x)}}class Vi{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Ki(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const o=e-n,i=this.addressTableLookups.reduce((c,u)=>c+u.writableIndexes.length,0);return o<i}else if(e>=this.header.numRequiredSignatures){const o=e-t,c=n-t-this.header.numReadonlyUnsignedAccounts;return o<c}else{const o=t-this.header.numReadonlySignedAccounts;return e<o}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const n of this.addressTableLookups){const o=e.find(i=>i.key.equals(n.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const i of n.writableIndexes)if(i<o.state.addresses.length)t.writable.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`);for(const i of n.readonlyIndexes)if(i<o.state.addresses.length)t.readonly.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`)}return t}static compile(e){const t=Yi.compile(e.instructions,e.payerKey),n=new Array,o={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const m of i){const x=t.extractTableLookup(m);if(x!==void 0){const[C,{writable:E,readonly:B}]=x;n.push(C),o.writable.push(...E),o.readonly.push(...B)}}const[c,u]=t.getMessageComponents(),y=new Ki(u,o).compileInstructions(e.instructions);return new Vi({header:c,staticAccountKeys:u,recentBlockhash:e.recentBlockhash,compiledInstructions:y,addressTableLookups:n})}serialize(){const e=Array();en(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),n=Array();en(n,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),i=Array();en(i,this.addressTableLookups.length);const c=fe([Oe("prefix"),fe([Oe("numRequiredSignatures"),Oe("numReadonlySignedAccounts"),Oe("numReadonlyUnsignedAccounts")],"header"),et(e.length,"staticAccountKeysLength"),Pt(_e(),this.staticAccountKeys.length,"staticAccountKeys"),_e("recentBlockhash"),et(n.length,"instructionsLength"),et(t.length,"serializedInstructions"),et(i.length,"addressTableLookupsLength"),et(o.length,"serializedAddressTableLookups")]),u=new Uint8Array(vr),h=1<<7,y=c.encode({prefix:h,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(m=>m.toBytes()),recentBlockhash:Mt.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:o},u);return u.slice(0,y)}serializeInstructions(){let e=0;const t=new Uint8Array(vr);for(const n of this.compiledInstructions){const o=Array();en(o,n.accountKeyIndexes.length);const i=Array();en(i,n.data.length),e+=fe([Oe("programIdIndex"),et(o.length,"encodedAccountKeyIndexesLength"),Pt(Oe(),n.accountKeyIndexes.length,"accountKeyIndexes"),et(i.length,"encodedDataLength"),et(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(vr);for(const n of this.addressTableLookups){const o=Array();en(o,n.writableIndexes.length);const i=Array();en(i,n.readonlyIndexes.length),e+=fe([_e("accountKey"),et(o.length,"encodedWritableIndexesLength"),Pt(Oe(),n.writableIndexes.length,"writableIndexes"),et(i.length,"encodedReadonlyIndexesLength"),Pt(Oe(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const n=t.shift(),o=n&Ou;rt(n!==o,"Expected versioned message but received legacy message");const i=o;rt(i===0,`Expected versioned message with version 0 but found version ${i}`);const c={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},u=[],h=Xt(t);for(let B=0;B<h;B++)u.push(new le(t.splice(0,An)));const y=Mt.encode(t.splice(0,An)),m=Xt(t),x=[];for(let B=0;B<m;B++){const T=t.shift(),L=Xt(t),P=t.splice(0,L),z=Xt(t),N=new Uint8Array(t.splice(0,z));x.push({programIdIndex:T,accountKeyIndexes:P,data:N})}const C=Xt(t),E=[];for(let B=0;B<C;B++){const T=new le(t.splice(0,An)),L=Xt(t),P=t.splice(0,L),z=Xt(t),N=t.splice(0,z);E.push({accountKey:T,writableIndexes:P,readonlyIndexes:N})}return new Vi({header:c,staticAccountKeys:u,recentBlockhash:y,compiledInstructions:x,addressTableLookups:E})}}let Un;(function(r){r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT"})(Un||(Un={}));const ep=Ee.Buffer.alloc(zs).fill(0);class Uu{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Ee.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class Dn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{const{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Uu(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let T=0;T<t.length;T++)if(t[T].programId===void 0)throw new Error(`Transaction instruction index ${T} has undefined program id`);const o=[],i=[];t.forEach(T=>{T.keys.forEach(P=>{i.push({...P})});const L=T.programId.toString();o.includes(L)||o.push(L)}),o.forEach(T=>{i.push({pubkey:new le(T),isSigner:!1,isWritable:!1})});const c=[];i.forEach(T=>{const L=T.pubkey.toString(),P=c.findIndex(z=>z.pubkey.toString()===L);P>-1?(c[P].isWritable=c[P].isWritable||T.isWritable,c[P].isSigner=c[P].isSigner||T.isSigner):c.push(T)}),c.sort(function(T,L){return T.isSigner!==L.isSigner?T.isSigner?-1:1:T.isWritable!==L.isWritable?T.isWritable?-1:1:T.pubkey.toBase58().localeCompare(L.pubkey.toBase58())});const u=c.findIndex(T=>T.pubkey.equals(n));if(u>-1){const[T]=c.splice(u,1);T.isSigner=!0,T.isWritable=!0,c.unshift(T)}else c.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const T of this.signatures){const L=c.findIndex(P=>P.pubkey.equals(T.publicKey));if(L>-1)c[L].isSigner||(c[L].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${T.publicKey.toString()}`)}let h=0,y=0,m=0;const x=[],C=[];c.forEach(({pubkey:T,isSigner:L,isWritable:P})=>{L?(x.push(T.toString()),h+=1,P||(y+=1)):(C.push(T.toString()),P||(m+=1))});const E=x.concat(C),B=t.map(T=>{const{data:L,programId:P}=T;return{programIdIndex:E.indexOf(P.toString()),accounts:T.keys.map(z=>E.indexOf(z.pubkey.toString())),data:Mt.encode(L)}});return B.forEach(T=>{rt(T.programIdIndex>=0),T.accounts.forEach(L=>rt(L>=0))}),new Ln({header:{numRequiredSignatures:h,numReadonlySignedAccounts:y,numReadonlyUnsignedAccounts:m},accountKeys:E,recentBlockhash:e,instructions:B})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((o,i)=>t[i].equals(o.publicKey))||(this.signatures=t.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(n=>{const o=n.toString();return t.has(o)?!1:(t.add(o),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,n=[];for(const i of e){const c=i.publicKey.toString();t.has(c)||(t.add(c),n.push(i))}this.signatures=n.map(i=>({signature:null,publicKey:i.publicKey}));const o=this._compile();this._partialSign(o,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,n=[];for(const i of e){const c=i.publicKey.toString();t.has(c)||(t.add(c),n.push(i))}const o=this._compile();this._partialSign(o,...n)}_partialSign(e,...t){const n=e.serialize();t.forEach(o=>{const i=G0(n,o.secretKey);this._addSignature(o.publicKey,$r(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){rt(t.length===64);const n=this.signatures.findIndex(o=>e.equals(o.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Ee.Buffer.from(t)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,t){for(const{signature:n,publicKey:o}of this.signatures)if(n===null){if(t)return!1}else if(!Q0(n,e,o.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(n&&!this._verifySignatures(o,t))throw new Error("Signature verification failed");return this._serialize(o)}_serialize(e){const{signatures:t}=this,n=[];en(n,t.length);const o=n.length+t.length*64+e.length,i=Ee.Buffer.alloc(o);return rt(t.length<256),Ee.Buffer.from(n).copy(i,0),t.forEach(({signature:c},u)=>{c!==null&&(rt(c.length===64,"signature has invalid length"),Ee.Buffer.from(c).copy(i,n.length+u*64))}),e.copy(i,n.length+t.length*64),rt(i.length<=vr,`Transaction too large: ${i.length} > ${vr}`),i}get keys(){return rt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return rt(this.instructions.length===1),this.instructions[0].programId}get data(){return rt(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const n=Xt(t);let o=[];for(let i=0;i<n;i++){const c=t.slice(0,zs);t=t.slice(zs),o.push(Mt.encode(Ee.Buffer.from(c)))}return Dn.populate(Ln.from(t),o)}static populate(e,t=[]){const n=new Dn;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((o,i)=>{const c={signature:o==Mt.encode(ep)?null:Mt.decode(o),publicKey:e.accountKeys[i]};n.signatures.push(c)}),e.instructions.forEach(o=>{const i=o.accounts.map(c=>{const u=e.accountKeys[c];return{pubkey:u,isSigner:n.signatures.some(h=>h.publicKey.toString()===u.toString())||e.isAccountSigner(c),isWritable:e.isAccountWritable(c)}});n.instructions.push(new Uu({keys:i,programId:e.accountKeys[o.programIdIndex],data:Mt.decode(o.data)}))}),n._message=e,n._json=n.toJSON(),n}}new le("SysvarC1ock11111111111111111111111111111111"),new le("SysvarEpochSchedu1e111111111111111111111111"),new le("Sysvar1nstructions1111111111111111111111111"),new le("SysvarRecentB1ockHashes11111111111111111111"),new le("SysvarRent111111111111111111111111111111111"),new le("SysvarRewards111111111111111111111111111111"),new le("SysvarS1otHashes111111111111111111111111111"),new le("SysvarS1otHistory11111111111111111111111111"),new le("SysvarStakeHistory1111111111111111111111111");function Zi(r){return new Promise(e=>setTimeout(e,r))}const tp=Tt("lamportsPerSignature"),Du=fe([ge("version"),ge("state"),_e("authorizedPubkey"),_e("nonce"),fe([tp],"feeCalculator")]);Du.span;class Hs{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=Du.decode($r(e),0);return new Hs({authorizedPubkey:new le(t.authorizedPubkey),nonce:new le(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const np=r=>{const e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}},Er=(r=>e=>{const t=et(r,e),{encode:n,decode:o}=np(t),i=t;return i.decode=(c,u)=>{const h=o(c,u);return Bd(Ee.Buffer.from(h))},i.encode=(c,u,h)=>{const y=kd(c,r);return n(y,u,h)},i})(8);Object.freeze({Create:{index:0,layout:fe([ge("instruction"),Qt("lamports"),Qt("space"),_e("programId")])},Assign:{index:1,layout:fe([ge("instruction"),_e("programId")])},Transfer:{index:2,layout:fe([ge("instruction"),Er("lamports")])},CreateWithSeed:{index:3,layout:fe([ge("instruction"),_e("base"),Ar("seed"),Qt("lamports"),Qt("space"),_e("programId")])},AdvanceNonceAccount:{index:4,layout:fe([ge("instruction")])},WithdrawNonceAccount:{index:5,layout:fe([ge("instruction"),Qt("lamports")])},InitializeNonceAccount:{index:6,layout:fe([ge("instruction"),_e("authorized")])},AuthorizeNonceAccount:{index:7,layout:fe([ge("instruction"),_e("authorized")])},Allocate:{index:8,layout:fe([ge("instruction"),Qt("space")])},AllocateWithSeed:{index:9,layout:fe([ge("instruction"),_e("base"),Ar("seed"),Qt("space"),_e("programId")])},AssignWithSeed:{index:10,layout:fe([ge("instruction"),_e("base"),Ar("seed"),_e("programId")])},TransferWithSeed:{index:11,layout:fe([ge("instruction"),Er("lamports"),Ar("seed"),_e("programId")])},UpgradeNonceAccount:{index:12,layout:fe([ge("instruction")])}}),new le("11111111111111111111111111111111"),new le("BPFLoader2111111111111111111111111111111111");var rp=Object.prototype.toString,ip=Object.keys||function(r){var e=[];for(var t in r)e.push(t);return e};function Jr(r,e){var t,n,o,i,c,u,h;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return Jr(r.toJSON(),e);if(h=rp.call(r),h==="[object Array]"){for(o="[",n=r.length-1,t=0;t<n;t++)o+=Jr(r[t],!0)+",";return n>-1&&(o+=Jr(r[t],!0)),o+"]"}else if(h==="[object Object]"){for(i=ip(r).sort(),n=i.length,o="",t=0;t<n;)c=i[t],u=Jr(r[c],!1),u!==void 0&&(o&&(o+=","),o+=JSON.stringify(c)+":"+u),t++;return"{"+o+"}"}else return JSON.stringify(r);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}var op=function(r){var e=Jr(r,!1);if(e!==void 0)return""+e},sp=op;const Xr=32;function Ws(r){let e=0;for(;r>1;)r/=2,e++;return e}function ap(r){return r===0?1:(r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r|=r>>32,r+1)}class cp{constructor(e,t,n,o,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=n,this.firstNormalEpoch=o,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=Ws(ap(e+Xr+1))-Ws(Xr)-1,n=this.getSlotsInEpoch(t),o=e-(n-Xr);return[t,o]}else{const t=e-this.firstNormalSlot,n=Math.floor(t/this.slotsPerEpoch),o=this.firstNormalEpoch+n,i=t%this.slotsPerEpoch;return[o,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Xr:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Ws(Xr)):this.slotsPerEpoch}}class Pu extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}class de extends Error{constructor({code:e,message:t,data:n},o){super(o!=null?`${o}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}var up=globalThis.fetch;const lp=160/64,fp=1e3/lp;function hp(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${r.index}`);return t}const Fu=56;class zu{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=hp(dp,e),n=e.length-Fu;rt(n>=0,"lookup table is invalid"),rt(n%32===0,"lookup table is invalid");const o=n/32,{addresses:i}=fe([Pt(_e(),o,"addresses")]).decode(e.slice(Fu));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new le(t.authority[0]):void 0,addresses:i.map(c=>new le(c))}}}const dp={index:1,layout:fe([ge("typeIndex"),Er("deactivationSlot"),Tt("lastExtendedSlot"),Oe("lastExtendedStartIndex"),Oe(),Pt(_e(),Yn(Oe(),-1),"authority")])},pp=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function gp(r){const e=r.match(pp);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${r}\``);const[t,n,o,i]=e,c=r.startsWith("https:")?"wss:":"ws:",u=o==null?null:parseInt(o.slice(1),10),h=u==null?"":`:${u+1}`;return`${c}//${n}${h}${i}`}var js;const it=Gr(cs(le),ne(),r=>new le(r)),Hu=us([ne(),Ze("base64")]),qs=Gr(cs(Ee.Buffer),Hu,r=>Ee.Buffer.from(r[0],"base64")),yp=30*1e3;function wp(r){if(/^https?:/.test(r)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return r}function nt(r){let e,t;if(typeof r=="string")e=r;else if(r){const{commitment:n,...o}=r;e=n,t=o}return{commitment:e,config:t}}function Wu(r){return zt([J({jsonrpc:Ze("2.0"),id:ne(),result:r}),J({jsonrpc:Ze("2.0"),id:ne(),error:J({code:qr(),message:ne(),data:Se(Fd())})})])}const mp=Wu(qr());function Ce(r){return Gr(Wu(r),mp,e=>"error"in e?e:{...e,result:re(e.result,r)})}function It(r){return Ce(J({context:J({slot:j()}),value:r}))}function $i(r){return J({context:J({slot:j()}),value:r})}function Gs(r,e){return r===0?new Vi({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new le(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Mt.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Ln(e)}const bp=J({foundation:j(),foundationTerm:j(),initial:j(),taper:j(),terminal:j()}),vp=Ce(ue(pe(J({epoch:j(),effectiveSlot:j(),amount:j(),postBalance:j()})))),Ap=J({epoch:j(),slotIndex:j(),slotsInEpoch:j(),absoluteSlot:j(),blockHeight:Se(j()),transactionCount:Se(j())}),Ep=J({slotsPerEpoch:j(),leaderScheduleSlotOffset:j(),warmup:vn(),firstNormalEpoch:j(),firstNormalSlot:j()}),xp=Kc(ne(),ue(j())),tr=pe(zt([J({}),ne()])),Sp=J({err:tr}),Ip=Ze("receivedSignature"),_p=J({"solana-core":ne(),"feature-set":Se(j())}),ju=It(J({err:pe(zt([J({}),ne()])),logs:pe(ue(ne())),accounts:Se(pe(ue(pe(J({executable:vn(),owner:ne(),lamports:j(),data:ue(ne()),rentEpoch:Se(j())}))))),unitsConsumed:Se(j()),returnData:Se(pe(J({programId:ne(),data:us([ne(),Ze("base64")])})))})),Mp=It(J({byIdentity:Kc(ne(),ue(j())),range:J({firstSlot:j(),lastSlot:j()})}));function Bp(r,e,t,n,o){const i=t||up;let c;return n&&(c=async(h,y)=>{const m=await new Promise((x,C)=>{try{n(h,y,(E,B)=>x([E,B]))}catch(E){C(E)}});return await i(...m)}),new _0(async(h,y)=>{const x={method:"POST",body:h,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},e||{},xg)};try{let C=5,E,B=500;for(;c?E=await c(r,x):E=await i(r,x),!(E.status!==429||o===!0||(C-=1,C===0));)console.log(`Server responded with ${E.status} ${E.statusText}.  Retrying after ${B}ms delay...`),await Zi(B),B*=2;const T=await E.text();E.ok?y(null,T):y(new Error(`${E.status} ${E.statusText}: ${T}`))}catch(C){C instanceof Error&&y(C)}finally{}},{})}function Tp(r){return(e,t)=>new Promise((n,o)=>{r.request(e,t,(i,c)=>{if(i){o(i);return}n(c)})})}function Cp(r){return e=>new Promise((t,n)=>{e.length===0&&t([]);const o=e.map(i=>r.request(i.methodName,i.args));r.request(o,(i,c)=>{if(i){n(i);return}t(c)})})}const kp=Ce(bp),Np=Ce(Ap),Op=Ce(Ep),Rp=Ce(xp),Lp=Ce(j()),Up=It(J({total:j(),circulating:j(),nonCirculating:j(),nonCirculatingAccounts:ue(it)})),Qs=J({amount:ne(),uiAmount:pe(j()),decimals:j(),uiAmountString:Se(ne())}),Dp=It(ue(J({address:it,amount:ne(),uiAmount:pe(j()),decimals:j(),uiAmountString:Se(ne())}))),Pp=It(ue(J({pubkey:it,account:J({executable:vn(),owner:it,lamports:j(),data:qs,rentEpoch:j()})}))),Ks=J({program:ne(),parsed:qr(),space:j()}),Fp=It(ue(J({pubkey:it,account:J({executable:vn(),owner:it,lamports:j(),data:Ks,rentEpoch:j()})}))),zp=It(ue(J({lamports:j(),address:it}))),ei=J({executable:vn(),owner:it,lamports:j(),data:qs,rentEpoch:j()}),Hp=J({pubkey:it,account:ei}),Wp=Gr(zt([cs(Ee.Buffer),Ks]),zt([Hu,Ks]),r=>Array.isArray(r)?re(r,qs):r),qu=J({executable:vn(),owner:it,lamports:j(),data:Wp,rentEpoch:j()}),jp=J({pubkey:it,account:qu}),qp=J({state:zt([Ze("active"),Ze("inactive"),Ze("activating"),Ze("deactivating")]),active:j(),inactive:j()}),Gp=Ce(ue(J({signature:ne(),slot:j(),err:tr,memo:pe(ne()),blockTime:Se(pe(j()))}))),Qp=Ce(ue(J({signature:ne(),slot:j(),err:tr,memo:pe(ne()),blockTime:Se(pe(j()))}))),Kp=J({subscription:j(),result:$i(ei)}),Yp=J({pubkey:it,account:ei}),Vp=J({subscription:j(),result:$i(Yp)}),Zp=J({parent:j(),slot:j(),root:j()}),$p=J({subscription:j(),result:Zp}),Jp=zt([J({type:zt([Ze("firstShredReceived"),Ze("completed"),Ze("optimisticConfirmation"),Ze("root")]),slot:j(),timestamp:j()}),J({type:Ze("createdBank"),parent:j(),slot:j(),timestamp:j()}),J({type:Ze("frozen"),slot:j(),timestamp:j(),stats:J({numTransactionEntries:j(),numSuccessfulTransactions:j(),numFailedTransactions:j(),maxTransactionsPerEntry:j()})}),J({type:Ze("dead"),slot:j(),timestamp:j(),err:ne()})]),Xp=J({subscription:j(),result:Jp}),eg=J({subscription:j(),result:$i(zt([Sp,Ip]))}),tg=J({subscription:j(),result:j()}),ng=J({pubkey:ne(),gossip:pe(ne()),tpu:pe(ne()),rpc:pe(ne()),version:pe(ne())}),Gu=J({votePubkey:ne(),nodePubkey:ne(),activatedStake:j(),epochVoteAccount:vn(),epochCredits:ue(us([j(),j(),j()])),commission:j(),lastVote:j(),rootSlot:pe(j())}),rg=Ce(J({current:ue(Gu),delinquent:ue(Gu)})),ig=zt([Ze("processed"),Ze("confirmed"),Ze("finalized")]),og=J({slot:j(),confirmations:pe(j()),err:tr,confirmationStatus:Se(ig)}),sg=It(ue(pe(og))),ag=Ce(j()),Qu=J({accountKey:it,writableIndexes:ue(j()),readonlyIndexes:ue(j())}),Ys=J({signatures:ue(ne()),message:J({accountKeys:ue(ne()),header:J({numRequiredSignatures:j(),numReadonlySignedAccounts:j(),numReadonlyUnsignedAccounts:j()}),instructions:ue(J({accounts:ue(j()),data:ne(),programIdIndex:j()})),recentBlockhash:ne(),addressTableLookups:Se(ue(Qu))})}),Ku=J({parsed:qr(),program:ne(),programId:it}),Yu=J({accounts:ue(it),data:ne(),programId:it}),cg=zt([Yu,Ku]),ug=zt([J({parsed:qr(),program:ne(),programId:ne()}),J({accounts:ue(ne()),data:ne(),programId:ne()})]),Vu=Gr(cg,ug,r=>"accounts"in r?re(r,Yu):re(r,Ku)),lg=J({signatures:ue(ne()),message:J({accountKeys:ue(J({pubkey:it,signer:vn(),writable:vn(),source:Se(zt([Ze("transaction"),Ze("lookupTable")]))})),instructions:ue(Vu),recentBlockhash:ne(),addressTableLookups:Se(pe(ue(Qu)))})}),Ji=J({accountIndex:j(),mint:ne(),owner:Se(ne()),uiTokenAmount:Qs}),Zu=J({writable:ue(it),readonly:ue(it)}),Vs=J({err:tr,fee:j(),innerInstructions:Se(pe(ue(J({index:j(),instructions:ue(J({accounts:ue(j()),data:ne(),programIdIndex:j()}))})))),preBalances:ue(j()),postBalances:ue(j()),logMessages:Se(pe(ue(ne()))),preTokenBalances:Se(pe(ue(Ji))),postTokenBalances:Se(pe(ue(Ji))),loadedAddresses:Se(Zu),computeUnitsConsumed:Se(j())}),fg=J({err:tr,fee:j(),innerInstructions:Se(pe(ue(J({index:j(),instructions:ue(Vu)})))),preBalances:ue(j()),postBalances:ue(j()),logMessages:Se(pe(ue(ne()))),preTokenBalances:Se(pe(ue(Ji))),postTokenBalances:Se(pe(ue(Ji))),loadedAddresses:Se(Zu),computeUnitsConsumed:Se(j())}),Zs=zt([Ze(0),Ze("legacy")]),hg=Ce(pe(J({blockhash:ne(),previousBlockhash:ne(),parentSlot:j(),transactions:ue(J({transaction:Ys,meta:pe(Vs),version:Se(Zs)})),rewards:Se(ue(J({pubkey:ne(),lamports:j(),postBalance:pe(j()),rewardType:pe(ne())}))),blockTime:pe(j()),blockHeight:pe(j())}))),dg=Ce(pe(J({blockhash:ne(),previousBlockhash:ne(),parentSlot:j(),transactions:ue(J({transaction:Ys,meta:pe(Vs)})),rewards:Se(ue(J({pubkey:ne(),lamports:j(),postBalance:pe(j()),rewardType:pe(ne())}))),blockTime:pe(j())}))),$u=Ce(pe(J({blockhash:ne(),previousBlockhash:ne(),parentSlot:j(),signatures:ue(ne()),blockTime:pe(j())}))),$s=Ce(pe(J({slot:j(),meta:Vs,blockTime:Se(pe(j())),transaction:Ys,version:Se(Zs)}))),Xi=Ce(pe(J({slot:j(),transaction:lg,meta:pe(fg),blockTime:Se(pe(j())),version:Se(Zs)}))),pg=It(J({blockhash:ne(),feeCalculator:J({lamportsPerSignature:j()})})),gg=It(J({blockhash:ne(),lastValidBlockHeight:j()})),yg=J({slot:j(),numTransactions:j(),numSlots:j(),samplePeriodSecs:j()}),wg=Ce(ue(yg)),mg=It(pe(J({feeCalculator:J({lamportsPerSignature:j()})}))),bg=Ce(ne()),vg=Ce(ne()),Ag=J({err:tr,logs:ue(ne()),signature:ne()}),Eg=J({result:$i(Ag),subscription:j()}),xg={"solana-client":`js/${(js="0.0.0-development")!==null&&js!==void 0?js:"UNKNOWN"}`};class Sg{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let n,o,i,c,u;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,o=t.httpHeaders,i=t.fetch,c=t.fetchMiddleware,u=t.disableRetryOnRateLimit),this._rpcEndpoint=wp(e),this._rpcWsEndpoint=n||gp(e),this._rpcClient=Bp(e,o,i,c,u),this._rpcRequest=Tp(this._rpcClient),this._rpcBatchRequest=Cp(this._rpcClient),this._rpcWebSocket=new au(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:n,config:o}=nt(t),i=this._buildArgs([e.toBase58()],n,void 0,o),c=await this._rpcRequest("getBalance",i),u=re(c,It(j()));if("error"in u)throw new de(u.error,`failed to get balance for ${e.toBase58()}`);return u.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),n=re(t,Ce(pe(j())));if("error"in n)throw new de(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=re(e,Ce(j()));if("error"in t)throw new de(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=re(e,Lp);if("error"in t)throw new de(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[t]),o=re(n,Up);if("error"in o)throw new de(o.error,"failed to get supply");return o.result}async getTokenSupply(e,t){const n=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenSupply",n),i=re(o,It(Qs));if("error"in i)throw new de(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const n=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenAccountBalance",n),i=re(o,It(Qs));if("error"in i)throw new de(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,n){const{commitment:o,config:i}=nt(n);let c=[e.toBase58()];"mint"in t?c.push({mint:t.mint.toBase58()}):c.push({programId:t.programId.toBase58()});const u=this._buildArgs(c,o,"base64",i),h=await this._rpcRequest("getTokenAccountsByOwner",u),y=re(h,Pp);if("error"in y)throw new de(y.error,`failed to get token accounts owned by account ${e.toBase58()}`);return y.result}async getParsedTokenAccountsByOwner(e,t,n){let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const i=this._buildArgs(o,n,"jsonParsed"),c=await this._rpcRequest("getTokenAccountsByOwner",i),u=re(c,Fp);if("error"in u)throw new de(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},n=t.filter||t.commitment?[t]:[],o=await this._rpcRequest("getLargestAccounts",n),i=re(o,zp);if("error"in i)throw new de(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const n=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenLargestAccounts",n),i=re(o,Dp);if("error"in i)throw new de(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:n,config:o}=nt(t),i=this._buildArgs([e.toBase58()],n,"base64",o),c=await this._rpcRequest("getAccountInfo",i),u=re(c,It(pe(ei)));if("error"in u)throw new de(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getParsedAccountInfo(e,t){const{commitment:n,config:o}=nt(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",o),c=await this._rpcRequest("getAccountInfo",i),u=re(c,It(pe(qu)));if("error"in u)throw new de(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleAccountsInfoAndContext(e,t){const{commitment:n,config:o}=nt(t),i=e.map(y=>y.toBase58()),c=this._buildArgs([i],n,"base64",o),u=await this._rpcRequest("getMultipleAccounts",c),h=re(u,It(ue(pe(ei))));if("error"in h)throw new de(h.error,`failed to get info for accounts ${i}`);return h.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,n){const{commitment:o,config:i}=nt(t),c=this._buildArgs([e.toBase58()],o,void 0,{...i,epoch:n!=null?n:i==null?void 0:i.epoch}),u=await this._rpcRequest("getStakeActivation",c),h=re(u,Ce(qp));if("error"in h)throw new de(h.error,`failed to get Stake Activation ${e.toBase58()}`);return h.result}async getProgramAccounts(e,t){const{commitment:n,config:o}=nt(t),{encoding:i,...c}=o||{},u=this._buildArgs([e.toBase58()],n,i||"base64",c),h=await this._rpcRequest("getProgramAccounts",u),y=re(h,Ce(ue(Hp)));if("error"in y)throw new de(y.error,`failed to get accounts owned by program ${e.toBase58()}`);return y.result}async getParsedProgramAccounts(e,t){const{commitment:n,config:o}=nt(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",o),c=await this._rpcRequest("getProgramAccounts",i),u=re(c,Ce(ue(jp)));if("error"in u)throw new de(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async confirmTransaction(e,t){let n;typeof e=="string"?n=e:n=e.signature;let o;try{o=Mt.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}rt(o.length===64,"signature has invalid length");const i=t||this.commitment;let c,u,h=!1;const y=new Promise((C,E)=>{try{u=this.onSignature(n,(B,T)=>{u=void 0;const L={context:T,value:B};h=!0,C({__type:Un.PROCESSED,response:L})},i)}catch(B){E(B)}}),m=new Promise(C=>{if(typeof e=="string"){let E=this._confirmTransactionInitialTimeout||6e4;switch(i){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{E=this._confirmTransactionInitialTimeout||30*1e3;break}}c=setTimeout(()=>C({__type:Un.TIMED_OUT,timeoutMs:E}),E)}else{let E=e;const B=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let T=await B();if(!h){for(;T<=E.lastValidBlockHeight;)if(await Zi(1e3),h||(T=await B(),h))return;C({__type:Un.BLOCKHEIGHT_EXCEEDED})}})()}});let x;try{const C=await Promise.race([y,m]);switch(C.__type){case Un.BLOCKHEIGHT_EXCEEDED:throw new Ru(n);case Un.PROCESSED:x=C.response;break;case Un.TIMED_OUT:throw new Lu(n,C.timeoutMs/1e3)}}finally{clearTimeout(c),u&&this.removeSignatureListener(u)}return x}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=re(e,Ce(ue(ng)));if("error"in t)throw new de(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",t),o=re(n,rg);if("error"in o)throw new de(o.error,"failed to get vote accounts");return o.result}async getSlot(e){const{commitment:t,config:n}=nt(e),o=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getSlot",o),c=re(i,Ce(j()));if("error"in c)throw new de(c.error,"failed to get slot");return c.result}async getSlotLeader(e){const{commitment:t,config:n}=nt(e),o=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getSlotLeader",o),c=re(i,Ce(ne()));if("error"in c)throw new de(c.error,"failed to get slot leader");return c.result}async getSlotLeaders(e,t){const n=[e,t],o=await this._rpcRequest("getSlotLeaders",n),i=re(o,Ce(ue(it)));if("error"in i)throw new de(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:n,value:o}=await this.getSignatureStatuses([e],t);rt(o.length===1);const i=o[0];return{context:n,value:i}}async getSignatureStatuses(e,t){const n=[e];t&&n.push(t);const o=await this._rpcRequest("getSignatureStatuses",n),i=re(o,sg);if("error"in i)throw new de(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:n}=nt(e),o=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getTransactionCount",o),c=re(i,Ce(j()));if("error"in c)throw new de(c.error,"failed to get transaction count");return c.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",t),o=re(n,kp);if("error"in o)throw new de(o.error,"failed to get inflation");return o.result}async getInflationReward(e,t,n){const{commitment:o,config:i}=nt(n),c=this._buildArgs([e.map(y=>y.toBase58())],o,void 0,{...i,epoch:t!=null?t:i==null?void 0:i.epoch}),u=await this._rpcRequest("getInflationReward",c),h=re(u,vp);if("error"in h)throw new de(h.error,"failed to get inflation reward");return h.result}async getEpochInfo(e){const{commitment:t,config:n}=nt(e),o=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getEpochInfo",o),c=re(i,Np);if("error"in c)throw new de(c.error,"failed to get epoch info");return c.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=re(e,Op);if("error"in t)throw new de(t.error,"failed to get epoch schedule");const n=t.result;return new cp(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=re(e,Rp);if("error"in t)throw new de(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const n=this._buildArgs([e],t),o=await this._rpcRequest("getMinimumBalanceForRentExemption",n),i=re(o,ag);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",t),o=re(n,pg);if("error"in o)throw new de(o.error,"failed to get recent blockhash");return o.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=re(t,wg);if("error"in n)throw new de(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,t){const n=this._buildArgs([e],t),o=await this._rpcRequest("getFeeCalculatorForBlockhash",n),i=re(o,mg);if("error"in i)throw new de(i.error,"failed to get fee calculator");const{context:c,value:u}=i.result;return{context:c,value:u!==null?u.feeCalculator:null}}async getFeeForMessage(e,t){const n=e.serialize().toString("base64"),o=this._buildArgs([n],t),i=await this._rpcRequest("getFeeForMessage",o),c=re(i,It(pe(j())));if("error"in c)throw new de(c.error,"failed to get slot");if(c.result===null)throw new Error("invalid blockhash");return c.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:n}=nt(e),o=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getLatestBlockhash",o),c=re(i,gg);if("error"in c)throw new de(c.error,"failed to get latest blockhash");return c.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=re(e,Ce(_p));if("error"in t)throw new de(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=re(e,Ce(ne()));if("error"in t)throw new de(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:n,config:o}=nt(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,o),c=await this._rpcRequest("getBlock",i),u=re(c,hg);if("error"in u)throw new de(u.error,"failed to get confirmed block");const h=u.result;return h&&{...h,transactions:h.transactions.map(({transaction:y,meta:m,version:x})=>({meta:m,transaction:{...y,message:Gs(x,y.message)},version:x}))}}async getBlockHeight(e){const{commitment:t,config:n}=nt(e),o=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getBlockHeight",o),c=re(i,Ce(j()));if("error"in c)throw new de(c.error,"failed to get block height information");return c.result}async getBlockProduction(e){let t,n;if(typeof e=="string")n=e;else if(e){const{commitment:u,...h}=e;n=u,t=h}const o=this._buildArgs([],n,"base64",t),i=await this._rpcRequest("getBlockProduction",o),c=re(i,Mp);if("error"in c)throw new de(c.error,"failed to get block production information");return c.result}async getTransaction(e,t){const{commitment:n,config:o}=nt(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,o),c=await this._rpcRequest("getTransaction",i),u=re(c,$s);if("error"in u)throw new de(u.error,"failed to get transaction");const h=u.result;return h&&{...h,transaction:{...h.transaction,message:Gs(h.version,h.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:n,config:o}=nt(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",o),c=await this._rpcRequest("getTransaction",i),u=re(c,Xi);if("error"in u)throw new de(u.error,"failed to get transaction");return u.result}async getParsedTransactions(e,t){const{commitment:n,config:o}=nt(t),i=e.map(h=>{const y=this._buildArgsAtLeastConfirmed([h],n,"jsonParsed",o);return{methodName:"getTransaction",args:y}});return(await this._rpcBatchRequest(i)).map(h=>{const y=re(h,Xi);if("error"in y)throw new de(y.error,"failed to get transactions");return y.result})}async getTransactions(e,t){const{commitment:n,config:o}=nt(t),i=e.map(h=>{const y=this._buildArgsAtLeastConfirmed([h],n,void 0,o);return{methodName:"getTransaction",args:y}});return(await this._rpcBatchRequest(i)).map(h=>{const y=re(h,$s);if("error"in y)throw new de(y.error,"failed to get transactions");const m=y.result;return m&&{...m,transaction:{...m.transaction,message:Gs(m.version,m.transaction.message)}}})}async getConfirmedBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),o=await this._rpcRequest("getConfirmedBlock",n),i=re(o,dg);if("error"in i)throw new de(i.error,"failed to get confirmed block");const c=i.result;if(!c)throw new Error("Confirmed block "+e+" not found");const u={...c,transactions:c.transactions.map(({transaction:h,meta:y})=>{const m=new Ln(h.message);return{meta:y,transaction:{...h,message:m}}})};return{...u,transactions:u.transactions.map(({transaction:h,meta:y})=>({meta:y,transaction:Dn.populate(h.message,h.signatures)}))}}async getBlocks(e,t,n){const o=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],n),i=await this._rpcRequest("getBlocks",o),c=re(i,Ce(ue(j())));if("error"in c)throw new de(c.error,"failed to get blocks");return c.result}async getBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",n),i=re(o,$u);if("error"in i)throw new de(i.error,"failed to get block");const c=i.result;if(!c)throw new Error("Block "+e+" not found");return c}async getConfirmedBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getConfirmedBlock",n),i=re(o,$u);if("error"in i)throw new de(i.error,"failed to get confirmed block");const c=i.result;if(!c)throw new Error("Confirmed block "+e+" not found");return c}async getConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),o=await this._rpcRequest("getConfirmedTransaction",n),i=re(o,$s);if("error"in i)throw new de(i.error,"failed to get transaction");const c=i.result;if(!c)return c;const u=new Ln(c.transaction.message),h=c.transaction.signatures;return{...c,transaction:Dn.populate(u,h)}}async getParsedConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),o=await this._rpcRequest("getConfirmedTransaction",n),i=re(o,Xi);if("error"in i)throw new de(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const n=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:u}});return(await this._rpcBatchRequest(n)).map(c=>{const u=re(c,Xi);if("error"in u)throw new de(u.error,"failed to get confirmed transactions");return u.result})}async getConfirmedSignaturesForAddress(e,t,n){let o={},i=await this.getFirstAvailableBlock();for(;!("until"in o)&&(t--,!(t<=0||t<i));)try{const h=await this.getConfirmedBlockSignatures(t,"finalized");h.signatures.length>0&&(o.until=h.signatures[h.signatures.length-1].toString())}catch(h){if(h instanceof Error&&h.message.includes("skipped"))continue;throw h}let c=await this.getSlot("finalized");for(;!("before"in o)&&(n++,!(n>c));)try{const h=await this.getConfirmedBlockSignatures(n);h.signatures.length>0&&(o.before=h.signatures[h.signatures.length-1].toString())}catch(h){if(h instanceof Error&&h.message.includes("skipped"))continue;throw h}return(await this.getConfirmedSignaturesForAddress2(e,o)).map(h=>h.signature)}async getConfirmedSignaturesForAddress2(e,t,n){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),c=re(i,Gp);if("error"in c)throw new de(c.error,"failed to get confirmed signatures for address");return c.result}async getSignaturesForAddress(e,t,n){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",o),c=re(i,Qp);if("error"in c)throw new de(c.error,"failed to get signatures for address");return c.result}async getAddressLookupTable(e,t){const{context:n,value:o}=await this.getAccountInfoAndContext(e,t);let i=null;return o!==null&&(i=new zu({key:e,state:zu.deserialize(o.data)})),{context:n,value:i}}async getNonceAndContext(e,t){const{context:n,value:o}=await this.getAccountInfoAndContext(e,t);let i=null;return o!==null&&(i=Hs.fromAccountData(o.data)),{context:n,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,t){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),o=re(n,bg);if("error"in o)throw new de(o.error,`airdrop to ${e.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Zi(100);const n=Date.now()-this._blockhashInfo.lastFetch>=yp;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,n=t?t.blockhash:null;for(let o=0;o<50;o++){const i=await this.getLatestBlockhash("finalized");if(n!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await Zi(fp/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:n}=nt(e),o=this._buildArgs([],t,"base64",n),i=await this._rpcRequest("getStakeMinimumDelegation",o),c=re(i,It(j()));if("error"in c)throw new de(c.error,"failed to get stake minimum delegation");return c.result}async simulateTransaction(e,t,n){if("message"in e){const T=e.serialize(),L=Ee.Buffer.from(T).toString("base64");if(Array.isArray(t)||n!==void 0)throw new Error("Invalid arguments");const P=t||{};P.encoding="base64","commitment"in P||(P.commitment=this.commitment);const z=[L,P],N=await this._rpcRequest("simulateTransaction",z),F=re(N,ju);if("error"in F)throw new Error("failed to simulate transaction: "+F.error.message);return F.result}let o;if(e instanceof Dn){let B=e;o=new Dn,o.feePayer=B.feePayer,o.instructions=e.instructions,o.nonceInfo=B.nonceInfo,o.signatures=B.signatures}else o=Dn.populate(e),o._message=o._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(o.nonceInfo&&i)o.sign(...i);else{let B=this._disableBlockhashCaching;for(;;){const T=await this._blockhashWithExpiryBlockHeight(B);if(o.lastValidBlockHeight=T.lastValidBlockHeight,o.recentBlockhash=T.blockhash,!i)break;if(o.sign(...i),!o.signature)throw new Error("!signature");const L=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(L)&&!this._blockhashInfo.transactionSignatures.includes(L)){this._blockhashInfo.simulatedSignatures.push(L);break}else B=!0}}const c=o._compile(),u=c.serialize(),y=o._serialize(u).toString("base64"),m={encoding:"base64",commitment:this.commitment};if(n){const B=(Array.isArray(n)?n:c.nonProgramIds()).map(T=>T.toBase58());m.accounts={encoding:"base64",addresses:B}}i&&(m.sigVerify=!0);const x=[y,m],C=await this._rpcRequest("simulateTransaction",x),E=re(C,ju);if("error"in E){let B;if("data"in E.error&&(B=E.error.data.logs,B&&Array.isArray(B))){const T=`
    `,L=T+B.join(T);console.error(E.error.message,L)}throw new Pu("failed to simulate transaction: "+E.error.message,B)}return E.result}async sendTransaction(e,t,n){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const c=e.serialize();return await this.sendRawTransaction(c,n)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const o=t;if(e.nonceInfo)e.sign(...o);else{let c=this._disableBlockhashCaching;for(;;){const u=await this._blockhashWithExpiryBlockHeight(c);if(e.lastValidBlockHeight=u.lastValidBlockHeight,e.recentBlockhash=u.blockhash,e.sign(...o),!e.signature)throw new Error("!signature");const h=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(h))c=!0;else{this._blockhashInfo.transactionSignatures.push(h);break}}}const i=e.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(e,t){const n=$r(e).toString("base64");return await this.sendEncodedTransaction(n,t)}async sendEncodedTransaction(e,t){const n={encoding:"base64"},o=t&&t.skipPreflight,i=t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(n.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(n.minContextSlot=t.minContextSlot),o&&(n.skipPreflight=o),i&&(n.preflightCommitment=i);const c=[e,n],u=await this._rpcRequest("sendTransaction",c),h=re(u,vg);if("error"in h){let y;throw"data"in h.error&&(y=h.error.data.logs),new Pu("failed to send transaction: "+h.error.message,y)}return h.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{this._rpcWebSocket.notify("ping").catch(()=>{})},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration++,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,n])=>{this._subscriptionsByHash[t]={...n,state:"pending"}})}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const o=this._subscriptionsByHash[n];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[n],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:c}=o;try{this._subscriptionsByHash[n]={...o,state:"subscribing"};const u=await this._rpcWebSocket.call(c,i);this._subscriptionsByHash[n]={...o,serverSubscriptionId:u,state:"subscribed"},this._subscriptionCallbacksByServerSubscriptionId[u]=o.callbacks,await this._updateSubscriptions()}catch(u){if(u instanceof Error&&console.error(`${c} error for argument`,i,u.message),!t())return;this._subscriptionsByHash[n]={...o,state:"pending"},await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:c}=o;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._subscriptionsByHash[n]={...o,state:"unsubscribing"};try{await this._rpcWebSocket.call(c,[i])}catch(u){if(u instanceof Error&&console.error(`${c} error:`,u.message),!t())return;this._subscriptionsByHash[n]={...o,state:"subscribed"},await this._updateSubscriptions();return}}this._subscriptionsByHash[n]={...o,state:"unsubscribed"},await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(o=>{try{o(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:n}=re(e,Kp);this._handleServerNotification(n,[t.value,t.context])}_makeSubscription(e,t){const n=this._nextClientSubscriptionId++,o=sp([e.method,t]),i=this._subscriptionsByHash[o];return i===void 0?this._subscriptionsByHash[o]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n];const c=this._subscriptionsByHash[o];rt(c!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),c.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,t,n){const o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:n}=re(e,Vp);this._handleServerNotification(n,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,n,o){const i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",o?{filters:o}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,n){const o=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:n}=re(e,Eg);this._handleServerNotification(n,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:n}=re(e,$p);this._handleServerNotification(n,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:n}=re(e,Xp);this._handleServerNotification(n,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,n,o){const i=t||this._commitment;if(i||n||o){let c={};n&&(c.encoding=n),i&&(c.commitment=i),o&&(c=Object.assign(c,o)),e.push(c)}return e}_buildArgsAtLeastConfirmed(e,t,n,o){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,n,o)}_wsOnSignatureNotification(e){const{result:t,subscription:n}=re(e,eg);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,n){const o=this._buildArgs([e],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(c,u)=>{if(c.type==="status"){t(c.result,u);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return i}onSignatureWithOptions(e,t,n){const{commitment:o,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},c=this._buildArgs([e],o,void 0,i),u=this._makeSubscription({callback:(h,y)=>{t(h,y);try{this.removeSignatureListener(u)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},c);return u}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:n}=re(e,tg);this._handleServerNotification(n,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:fe([ge("instruction"),Er("recentSlot"),Oe("bumpSeed")])},FreezeLookupTable:{index:1,layout:fe([ge("instruction")])},ExtendLookupTable:{index:2,layout:fe([ge("instruction"),Er(),Pt(_e(),Yn(ge(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:fe([ge("instruction")])},CloseLookupTable:{index:4,layout:fe([ge("instruction")])}}),new le("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:fe([Oe("instruction"),ge("units"),ge("additionalFee")])},RequestHeapFrame:{index:1,layout:fe([Oe("instruction"),ge("bytes")])},SetComputeUnitLimit:{index:2,layout:fe([Oe("instruction"),ge("units")])},SetComputeUnitPrice:{index:3,layout:fe([Oe("instruction"),Er("microLamports")])}}),new le("ComputeBudget111111111111111111111111111111"),fe([Oe("numSignatures"),Oe("padding"),$t("signatureOffset"),$t("signatureInstructionIndex"),$t("publicKeyOffset"),$t("publicKeyInstructionIndex"),$t("messageDataOffset"),$t("messageDataSize"),$t("messageInstructionIndex")]),new le("Ed25519SigVerify111111111111111111111111111"),er.hmacSha256Sync=(r,...e)=>{const t=xu.create(Yo,r);return e.forEach(n=>t.update(n)),t.digest()},er.isValidPrivateKey,fe([Oe("numSignatures"),$t("signatureOffset"),Oe("signatureInstructionIndex"),$t("ethAddressOffset"),Oe("ethAddressInstructionIndex"),$t("messageDataOffset"),$t("messageDataSize"),Oe("messageInstructionIndex"),et(20,"ethAddress"),et(64,"signature"),Oe("recoveryId")]),new le("KeccakSecp256k11111111111111111111111111111"),new le("StakeConfig11111111111111111111111111111111");class Ju{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}}Ju.default=new Ju(0,0,le.default),Object.freeze({Initialize:{index:0,layout:fe([ge("instruction"),Z0(),$0()])},Authorize:{index:1,layout:fe([ge("instruction"),_e("newAuthorized"),ge("stakeAuthorizationType")])},Delegate:{index:2,layout:fe([ge("instruction")])},Split:{index:3,layout:fe([ge("instruction"),Qt("lamports")])},Withdraw:{index:4,layout:fe([ge("instruction"),Qt("lamports")])},Deactivate:{index:5,layout:fe([ge("instruction")])},Merge:{index:7,layout:fe([ge("instruction")])},AuthorizeWithSeed:{index:8,layout:fe([ge("instruction"),_e("newAuthorized"),ge("stakeAuthorizationType"),Ar("authoritySeed"),_e("authorityOwner")])}}),Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),new le("Stake11111111111111111111111111111111111111"),Object.freeze({InitializeAccount:{index:0,layout:fe([ge("instruction"),J0()])},Authorize:{index:1,layout:fe([ge("instruction"),_e("newAuthorized"),ge("voteAuthorizationType")])},Withdraw:{index:3,layout:fe([ge("instruction"),Qt("lamports")])},AuthorizeWithSeed:{index:10,layout:fe([ge("instruction"),X0()])}}),Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),new le("Vote111111111111111111111111111111111111111"),new le("Va1idator1nfo111111111111111111111111111111"),J({name:ne(),website:Se(ne()),details:Se(ne()),keybaseUsername:Se(ne())}),new le("Vote111111111111111111111111111111111111111"),fe([_e("nodePubkey"),_e("authorizedWithdrawer"),Oe("commission"),Tt(),Pt(fe([Tt("slot"),ge("confirmationCount")]),Yn(ge(),-8),"votes"),Oe("rootSlotValid"),Tt("rootSlot"),Tt(),Pt(fe([Tt("epoch"),_e("authorizedVoter")]),Yn(ge(),-8),"authorizedVoters"),fe([Pt(fe([_e("authorizedPubkey"),Tt("epochOfLastAuthorizedSwitch"),Tt("targetEpoch")]),32,"buf"),Tt("idx"),Oe("isEmpty")],"priorVoters"),Tt(),Pt(fe([Tt("epoch"),Tt("credits"),Tt("prevCredits")]),Yn(ge(),-8),"epochCredits"),fe([Tt("slot"),Tt("timestamp")],"lastTimestamp")]);const Xu={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Ig(r,e){const t=e===!1?"http":"https";if(!r)return Xu[t].devnet;const n=Xu[t][r];if(!n)throw new Error(`Unknown ${t} cluster: ${r}`);return n}const _g=K.createContext({}),Mg=({children:r,endpoint:e,config:t={commitment:"confirmed"}})=>{const n=K.useMemo(()=>new Sg(e,t),[e,t]);return D.default.createElement(_g.Provider,{value:{connection:n}},r)};class kt extends Error{constructor(e,t){super(e),this.error=t}}class ti extends kt{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class Bg extends kt{constructor(){super(...arguments),this.name="WalletLoadError"}}class Tg extends kt{constructor(){super(...arguments),this.name="WalletConfigError"}}class ni extends kt{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Js extends kt{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class ri extends kt{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Xs extends kt{constructor(){super(...arguments),this.name="WalletAccountError"}}class ii extends kt{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class ot extends kt{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class xr extends kt{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class eo extends kt{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class Ht extends kt{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}var Be;(function(r){r.Installed="Installed",r.NotDetected="NotDetected",r.Loadable="Loadable",r.Unsupported="Unsupported"})(Be||(Be={}));class Cg extends Li{get connected(){return!!this.publicKey}async prepareTransaction(e,t,n={}){const o=this.publicKey;if(!o)throw new ot;return e.feePayer=e.feePayer||o,e.recentBlockhash=e.recentBlockhash||(await t.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,e}}function to(r){if(typeof window>"u"||typeof document>"u")return;const e=[];function t(){if(r())for(const i of e)i()}const n=setInterval(t,1e3);e.push(()=>clearInterval(n)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",t,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",t))),document.readyState!=="complete"&&(window.addEventListener("load",t,{once:!0}),e.push(()=>window.removeEventListener("load",t))),t()}class kg extends Cg{async sendTransaction(e,t,n={}){let o=!0;try{if("version"in e){if(!this.supportedTransactionVersions)throw new xr("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new xr(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const i=e.serialize();return await t.sendRawTransaction(i,n)}catch(i){throw i instanceof Ht?(o=!1,i):new xr(i==null?void 0:i.message,i)}}else try{const{signers:i,...c}=n;e=await this.prepareTransaction(e,t,c),i!=null&&i.length&&e.partialSign(...i),e=await this.signTransaction(e);const u=e.serialize();return await t.sendRawTransaction(u,c)}catch(i){throw i instanceof Ht?(o=!1,i):new xr(i==null?void 0:i.message,i)}}catch(i){throw o&&this.emit("error",i),i}}async signAllTransactions(e){for(const n of e)if("version"in n){if(!this.supportedTransactionVersions)throw new Ht("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new Ht(`Signing transaction version ${n.version} isn't supported by this wallet`)}const t=[];for(const n of e)t.push(await this.signTransaction(n));return t}}class no extends kg{}var ea;(function(r){r.Mainnet="mainnet-beta",r.Testnet="testnet",r.Devnet="devnet"})(ea||(ea={}));class el extends kt{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const Ng=[],ro={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(r){console.error(mn("get","select"))},connect(){return Promise.reject(console.error(mn("get","connect")))},disconnect(){return Promise.reject(console.error(mn("get","disconnect")))},sendTransaction(r,e,t){return Promise.reject(console.error(mn("get","sendTransaction")))},signTransaction(r){return Promise.reject(console.error(mn("get","signTransaction")))},signAllTransactions(r){return Promise.reject(console.error(mn("get","signAllTransactions")))},signMessage(r){return Promise.reject(console.error(mn("get","signMessage")))}};Object.defineProperty(ro,"wallets",{get(){return console.error(mn("read","wallets")),Ng}}),Object.defineProperty(ro,"wallet",{get(){return console.error(mn("read","wallet")),null}}),Object.defineProperty(ro,"publicKey",{get(){return console.error(mn("read","publicKey")),null}});function mn(r,e){return`You have tried to  ${r} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext`}const tl=K.createContext(ro);function nl(){return K.useContext(tl)}function Og(r,e){const t=K.useState(()=>{try{const i=localStorage.getItem(r);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return e}),n=t[0],o=K.useRef(!0);return K.useEffect(()=>{if(o.current){o.current=!1;return}try{n===null?localStorage.removeItem(r):localStorage.setItem(r,JSON.stringify(n))}catch(i){typeof window<"u"&&console.error(i)}},[n,r]),t}const rl={wallet:null,adapter:null,publicKey:null,connected:!1},Rg=({children:r,wallets:e,autoConnect:t=!1,onError:n,localStorageKey:o="walletName"})=>{const[i,c]=Og(o,null),[{wallet:u,adapter:h,publicKey:y,connected:m},x]=K.useState(rl),C=(h==null?void 0:h.readyState)||Be.Unsupported,[E,B]=K.useState(!1),[T,L]=K.useState(!1),P=K.useRef(!1),z=K.useRef(!1),N=K.useRef(!1),[F,R]=K.useState(()=>e.map(p=>({adapter:p,readyState:p.readyState})));K.useEffect(()=>{R(b=>e.map((w,S)=>{const U=b[S];return U&&U.adapter===w&&U.readyState===w.readyState?U:{adapter:w,readyState:w.readyState}}));function p(b){R(w=>{const S=w.findIndex(({adapter:k})=>k===this);if(S===-1)return w;const{adapter:U}=w[S];return[...w.slice(0,S),{adapter:U,readyState:b},...w.slice(S+1)]})}return e.forEach(b=>b.on("readyStateChange",p,b)),()=>e.forEach(b=>b.off("readyStateChange",p,b))},[e]),K.useEffect(()=>{const p=i&&F.find(({adapter:b})=>b.name===i);x(p?{wallet:p,adapter:p.adapter,connected:p.adapter.connected,publicKey:p.adapter.publicKey}:rl)},[i,F]),K.useEffect(()=>{function p(){N.current=!0}return window.addEventListener("beforeunload",p),()=>window.removeEventListener("beforeunload",p)},[N]);const H=K.useCallback(()=>{!h||x(p=>({...p,connected:h.connected,publicKey:h.publicKey}))},[h]),q=K.useCallback(()=>{N.current||c(null)},[N,c]),G=K.useCallback(p=>(N.current||(n||console.error)(p),p),[N,n]);K.useEffect(()=>{if(h)return h.on("connect",H),h.on("disconnect",q),h.on("error",G),()=>{h.off("connect",H),h.off("disconnect",q),h.off("error",G)}},[h,H,q,G]),K.useEffect(()=>()=>{h==null||h.disconnect()},[h]),K.useEffect(()=>{P.current||m||!t||!h||!(C===Be.Installed||C===Be.Loadable)||async function(){P.current=!0,B(!0);try{await h.connect()}catch{c(null)}finally{B(!1),P.current=!1}}()},[P,m,t,h,C,c]);const he=K.useCallback(async()=>{if(!(P.current||z.current||m)){if(!h)throw G(new el);if(!(C===Be.Installed||C===Be.Loadable))throw c(null),typeof window<"u"&&window.open(h.url,"_blank"),G(new ti);P.current=!0,B(!0);try{await h.connect()}catch(p){throw c(null),p}finally{B(!1),P.current=!1}}},[P,z,m,h,C,G,c]),ve=K.useCallback(async()=>{if(!z.current){if(!h)return c(null);z.current=!0,L(!0);try{await h.disconnect()}catch(p){throw c(null),p}finally{L(!1),z.current=!1}}},[z,h,c]),ye=K.useCallback(async(p,b,w)=>{if(!h)throw G(new el);if(!m)throw G(new ot);return await h.sendTransaction(p,b,w)},[h,G,m]),xe=K.useMemo(()=>h&&"signTransaction"in h?async p=>{if(!m)throw G(new ot);return await h.signTransaction(p)}:void 0,[h,G,m]),I=K.useMemo(()=>h&&"signAllTransactions"in h?async p=>{if(!m)throw G(new ot);return await h.signAllTransactions(p)}:void 0,[h,G,m]),l=K.useMemo(()=>h&&"signMessage"in h?async p=>{if(!m)throw G(new ot);return await h.signMessage(p)}:void 0,[h,G,m]);return D.default.createElement(tl.Provider,{value:{autoConnect:t,wallets:F,wallet:u,publicKey:y,connected:m,connecting:E,disconnecting:T,select:c,connect:he,disconnect:ve,sendTransaction:ye,signTransaction:xe,signAllTransactions:I,signMessage:l}},r)},il={setVisible(r){console.error(ol("call","setVisible"))},visible:!1};Object.defineProperty(il,"visible",{get(){return console.error(ol("read","visible")),!1}});function ol(r,e){return`You have tried to  ${r} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const sl=K.createContext(il);function al(){return K.useContext(sl)}const Lg=r=>D.default.createElement("button",{className:`wallet-adapter-button ${r.className||""}`,disabled:r.disabled,style:r.style,onClick:r.onClick,tabIndex:r.tabIndex||0,type:"button"},r.startIcon&&D.default.createElement("i",{className:"wallet-adapter-button-start-icon"},r.startIcon),r.children,r.endIcon&&D.default.createElement("i",{className:"wallet-adapter-button-end-icon"},r.endIcon)),Ug=({wallet:r,...e})=>r&&D.default.createElement("img",{src:r.adapter.icon,alt:`${r.adapter.name} icon`,...e}),cl=({id:r,children:e,expanded:t=!1})=>{const n=K.useRef(null),o=K.useRef(!0),i="height 250ms ease-out",c=()=>{const h=n.current;!h||requestAnimationFrame(()=>{h.style.height=h.scrollHeight+"px"})},u=()=>{const h=n.current;!h||requestAnimationFrame(()=>{h.style.height=h.offsetHeight+"px",h.style.overflow="hidden",requestAnimationFrame(()=>{h.style.height="0"})})};return K.useLayoutEffect(()=>{t?c():u()},[t]),K.useLayoutEffect(()=>{const h=n.current;if(!h)return;function y(){!h||(h.style.overflow=t?"initial":"hidden",t&&(h.style.height="auto"))}function m(x){h&&x.target===h&&x.propertyName==="height"&&y()}return o.current&&(y(),o.current=!1),h.addEventListener("transitionend",m),()=>h.removeEventListener("transitionend",m)},[t]),D.default.createElement("div",{className:"wallet-adapter-collapse",id:r,ref:n,role:"region",style:{height:0,transition:o.current?void 0:i}},e)},ta=({handleClick:r,tabIndex:e,wallet:t})=>D.default.createElement("li",null,D.default.createElement(Lg,{onClick:r,startIcon:D.default.createElement(Ug,{wallet:t}),tabIndex:e},t.adapter.name,t.readyState===Be.Installed&&D.default.createElement("span",null,"Detected"))),Dg=()=>D.default.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},D.default.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),D.default.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),D.default.createElement("g",{clipPath:"url(#clip0_880_5115)"},D.default.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),D.default.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),D.default.createElement("defs",null,D.default.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},D.default.createElement("stop",{stopColor:"#9945FF"}),D.default.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),D.default.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),D.default.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),D.default.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),D.default.createElement("stop",{offset:"1",stopColor:"#00D18C"})),D.default.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},D.default.createElement("stop",{stopColor:"#9945FF"}),D.default.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),D.default.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),D.default.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),D.default.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),D.default.createElement("stop",{offset:"1",stopColor:"#00D18C"})),D.default.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},D.default.createElement("stop",{stopColor:"#9945FF"}),D.default.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),D.default.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),D.default.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),D.default.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),D.default.createElement("stop",{offset:"1",stopColor:"#00D18C"})),D.default.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},D.default.createElement("stop",{stopColor:"#9945FF"}),D.default.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),D.default.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),D.default.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),D.default.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),D.default.createElement("stop",{offset:"1",stopColor:"#00D18C"})),D.default.createElement("clipPath",{id:"clip0_880_5115"},D.default.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),Pg=({className:r="",container:e="body"})=>{const t=K.useRef(null),{wallets:n,select:o}=nl(),{setVisible:i}=al(),[c,u]=K.useState(!1),[h,y]=K.useState(!1),[m,x]=K.useState(null),[C,E]=K.useMemo(()=>{const F=[],R=[],H=[];for(const q of n)q.readyState===Be.NotDetected?R.push(q):q.readyState===Be.Loadable?H.push(q):q.readyState===Be.Installed&&F.push(q);return[F,[...H,...R]]},[n]),B=K.useMemo(()=>C.length?C[0]:n.find(F=>F.adapter.name==="Torus")||n.find(F=>F.adapter.name==="Phantom")||n.find(F=>F.readyState===Be.Loadable)||E[0],[C,n,E]),T=K.useCallback(()=>{y(!1),setTimeout(()=>i(!1),150)},[i]),L=K.useCallback(F=>{F.preventDefault(),T()},[T]),P=K.useCallback((F,R)=>{o(R),L(F)},[o,L]),z=K.useCallback(()=>u(!c),[c]),N=K.useCallback(F=>{const R=t.current;if(!R)return;const H=R.querySelectorAll("button"),q=H[0],G=H[H.length-1];F.shiftKey?document.activeElement===q&&(G.focus(),F.preventDefault()):document.activeElement===G&&(q.focus(),F.preventDefault())},[t]);return K.useLayoutEffect(()=>{const F=H=>{H.key==="Escape"?T():H.key==="Tab"&&N(H)},{overflow:R}=window.getComputedStyle(document.body);return setTimeout(()=>y(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",F,!1),()=>{document.body.style.overflow=R,window.removeEventListener("keydown",F,!1)}},[T,N]),K.useLayoutEffect(()=>x(document.querySelector(e)),[e]),m&&ir.createPortal(D.default.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${h&&"wallet-adapter-modal-fade-in"} ${r}`,ref:t,role:"dialog"},D.default.createElement("div",{className:"wallet-adapter-modal-container"},D.default.createElement("div",{className:"wallet-adapter-modal-wrapper"},D.default.createElement("button",{onClick:L,className:"wallet-adapter-modal-button-close"},D.default.createElement("svg",{width:"14",height:"14"},D.default.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),C.length?D.default.createElement(D.default.Fragment,null,D.default.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),D.default.createElement("ul",{className:"wallet-adapter-modal-list"},C.map(F=>D.default.createElement(ta,{key:F.adapter.name,handleClick:R=>P(R,F.adapter.name),wallet:F})),E.length?D.default.createElement(cl,{expanded:c,id:"wallet-adapter-modal-collapse"},E.map(F=>D.default.createElement(ta,{key:F.adapter.name,handleClick:R=>P(R,F.adapter.name),tabIndex:c?0:-1,wallet:F}))):null),E.length?D.default.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:z,tabIndex:0},D.default.createElement("span",null,c?"Less ":"More ","options"),D.default.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${c?"wallet-adapter-modal-list-more-icon-rotate":""}`},D.default.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):D.default.createElement(D.default.Fragment,null,D.default.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),D.default.createElement("div",{className:"wallet-adapter-modal-middle"},D.default.createElement(Dg,null),D.default.createElement("button",{type:"button",className:"wallet-adapter-modal-middle-button",onClick:F=>P(F,B.adapter.name)},"Get started")),E.length?D.default.createElement(D.default.Fragment,null,D.default.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:z,tabIndex:0},D.default.createElement("span",null,c?"Hide ":"Already have a wallet? View ","options"),D.default.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${c?"wallet-adapter-modal-list-more-icon-rotate":""}`},D.default.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),D.default.createElement(cl,{expanded:c,id:"wallet-adapter-modal-collapse"},D.default.createElement("ul",{className:"wallet-adapter-modal-list"},E.map(F=>D.default.createElement(ta,{key:F.adapter.name,handleClick:R=>P(R,F.adapter.name),tabIndex:c?0:-1,wallet:F}))))):null))),D.default.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:L})),m)},Fg=({children:r,...e})=>{const[t,n]=K.useState(!1);return D.default.createElement(sl.Provider,{value:{visible:t,setVisible:n}},r,t&&D.default.createElement(Pg,{...e}))},zg="logger/5.7.0";let ul=!1,ll=!1;const io={debug:1,default:2,info:2,warning:3,error:4,off:5};let fl=io.default,na=null;function Hg(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}const hl=Hg();var ra;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(ra||(ra={}));var ln;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(ln||(ln={}));const dl="0123456789abcdef";class Je{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();io[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(fl>io[n])&&console.log.apply(console,t)}debug(...e){this._log(Je.levels.DEBUG,e)}info(...e){this._log(Je.levels.INFO,e)}warn(...e){this._log(Je.levels.WARNING,e)}makeError(e,t,n){if(ll)return this.makeError("censored error",t,{});t||(t=Je.errors.UNKNOWN_ERROR),n||(n={});const o=[];Object.keys(n).forEach(h=>{const y=n[h];try{if(y instanceof Uint8Array){let m="";for(let x=0;x<y.length;x++)m+=dl[y[x]>>4],m+=dl[y[x]&15];o.push(h+"=Uint8Array(0x"+m+")")}else o.push(h+"="+JSON.stringify(y))}catch{o.push(h+"="+JSON.stringify(n[h].toString()))}}),o.push(`code=${t}`),o.push(`version=${this.version}`);const i=e;let c="";switch(t){case ln.NUMERIC_FAULT:{c="NUMERIC_FAULT";const h=e;switch(h){case"overflow":case"underflow":case"division-by-zero":c+="-"+h;break;case"negative-power":case"negative-width":c+="-unsupported";break;case"unbound-bitwise-result":c+="-unbound-result";break}break}case ln.CALL_EXCEPTION:case ln.INSUFFICIENT_FUNDS:case ln.MISSING_NEW:case ln.NONCE_EXPIRED:case ln.REPLACEMENT_UNDERPRICED:case ln.TRANSACTION_REPLACED:case ln.UNPREDICTABLE_GAS_LIMIT:c=t;break}c&&(e+=" [ See: https://links.ethers.org/v5-errors-"+c+" ]"),o.length&&(e+=" ("+o.join(", ")+")");const u=new Error(e);return u.reason=i,u.code=t,Object.keys(n).forEach(function(h){u[h]=n[h]}),u}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,Je.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,o){e||this.throwError(t,n,o)}assertArgument(e,t,n,o){e||this.throwArgumentError(t,n,o)}checkNormalize(e){hl&&this.throwError("platform missing String.prototype.normalize",Je.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:hl})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Je.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Je.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,Je.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,Je.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",Je.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Je.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Je.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return na||(na=new Je(zg)),na}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Je.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),ul){if(!e)return;this.globalLogger().throwError("error censorship permanent",Je.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ll=!!e,ul=!!t}static setLogLevel(e){const t=io[e.toLowerCase()];if(t==null){Je.globalLogger().warn("invalid log level - "+e);return}fl=t}static from(e){return new Je(e)}}Je.errors=ln,Je.levels=ra;const Wg="bytes/5.7.0",ia=new Je(Wg);function jg(r){return!!r.toHexString}function oo(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return oo(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function pl(r){return typeof r=="number"&&r==r&&r%1===0}function qg(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!pl(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!pl(t)||t<0||t>=256)return!1}return!0}function gl(r,e){if(e||(e={}),typeof r=="number"){ia.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),oo(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),jg(r)&&(r=r.toHexString()),Gg(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":ia.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let o=0;o<t.length;o+=2)n.push(parseInt(t.substring(o,o+2),16));return oo(new Uint8Array(n))}return qg(r)?oo(new Uint8Array(r)):ia.throwArgumentError("invalid arrayify value","value",r)}function Gg(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const Qg="properties/5.7.0";globalThis&&globalThis.__awaiter,new Je(Qg);function so(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}class yl{constructor(e){so(this,"alphabet",e),so(this,"base",e.length),so(this,"_alphabetMap",{}),so(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=gl(e);if(t.length===0)return"";let n=[0];for(let i=0;i<t.length;++i){let c=t[i];for(let u=0;u<n.length;++u)c+=n[u]<<8,n[u]=c%this.base,c=c/this.base|0;for(;c>0;)n.push(c%this.base),c=c/this.base|0}let o="";for(let i=0;t[i]===0&&i<t.length-1;++i)o+=this._leader;for(let i=n.length-1;i>=0;--i)o+=this.alphabet[n[i]];return o}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let o=this._alphabetMap[e[n]];if(o===void 0)throw new Error("Non-base"+this.base+" character");let i=o;for(let c=0;c<t.length;++c)i+=t[c]*this.base,t[c]=i&255,i>>=8;for(;i>0;)t.push(i&255),i>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return gl(new Uint8Array(t.reverse()))}}new yl("abcdefghijklmnopqrstuvwxyz234567");const Kg=new yl("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Yg="Glow";class Vg extends no{constructor(e={}){if(super(),this.name=Yg,this.url="https://glow.app",this.icon="data:image/png;base64,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",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?Be.Unsupported:Be.NotDetected,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Js),this.emit("disconnect"))},this._connecting=!1,this._wallet=null,this._publicKey=null,this._network=e.network||null,this._readyState!==Be.Unsupported){const t=n=>{typeof n.data=="object"&&n.data.__glow_loaded&&(this._readyState!==Be.Installed&&(this._readyState=Be.Installed,this.emit("readyStateChange",this._readyState)),window.removeEventListener("message",t))};window.addEventListener("message",t),to(()=>{var n;return(n=window.glowSolana)!=null&&n.isGlow?(window.removeEventListener("message",t),this._readyState!==Be.Installed&&(this._readyState=Be.Installed,this.emit("readyStateChange",this._readyState)),!0):!1})}}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isConnected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Be.Installed)throw new ti;this._connecting=!0;const e=window.glowSolana;try{await e.connect()}catch(n){throw new ni(n==null?void 0:n.message,n)}if(!e.publicKey)throw new Xs;let t;try{t=new le(e.publicKey.toBytes())}catch(n){throw new ii(n==null?void 0:n.message,n)}e.on("disconnect",this._disconnected),this._wallet=e,this._publicKey=t,this.emit("connect",t)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new ri(t==null?void 0:t.message,t))}}this.emit("disconnect")}async sendTransaction(e,t,n={}){try{const o=this._wallet;if(!o)throw new ot;try{const{signers:i,...c}=n;e=await this.prepareTransaction(e,t,c),i!=null&&i.length&&e.partialSign(...i),c.preflightCommitment=c.preflightCommitment||t.commitment;const{signature:u}=await o.signAndSendTransaction(e,{...c,network:this._network});return u}catch(i){throw i instanceof kt?i:new xr(i==null?void 0:i.message,i)}}catch(o){throw this.emit("error",o),o}}async signTransaction(e){try{const t=this._wallet;if(!t)throw new ot;try{return await t.signTransaction(e,this._network)||e}catch(n){throw new Ht(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new ot;try{return await t.signAllTransactions(e,this._network)||e}catch(n){throw new Ht(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new ot;try{const{signature:n}=await t.signMessage(e);return n}catch(n){throw new eo(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}}const Zg="Phantom";class $g extends no{constructor(e={}){super(),this.name=Zg,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjM0IiB3aWR0aD0iMzQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iLjUiIHgyPSIuNSIgeTE9IjAiIHkyPSIxIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiM1MzRiYjEiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1NTFiZjkiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9Ii41IiB4Mj0iLjUiIHkxPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii44MiIvPjwvbGluZWFyR3JhZGllbnQ+PGNpcmNsZSBjeD0iMTciIGN5PSIxNyIgZmlsbD0idXJsKCNhKSIgcj0iMTciLz48cGF0aCBkPSJtMjkuMTcwMiAxNy4yMDcxaC0yLjk5NjljMC02LjEwNzQtNC45NjgzLTExLjA1ODE3LTExLjA5NzUtMTEuMDU4MTctNi4wNTMyNSAwLTEwLjk3NDYzIDQuODI5NTctMTEuMDk1MDggMTAuODMyMzctLjEyNDYxIDYuMjA1IDUuNzE3NTIgMTEuNTkzMiAxMS45NDUzOCAxMS41OTMyaC43ODM0YzUuNDkwNiAwIDEyLjg0OTctNC4yODI5IDEzLjk5OTUtOS41MDEzLjIxMjMtLjk2MTktLjU1MDItMS44NjYxLTEuNTM4OC0xLjg2NjF6bS0xOC41NDc5LjI3MjFjMCAuODE2Ny0uNjcwMzggMS40ODQ3LTEuNDkwMDEgMS40ODQ3LS44MTk2NCAwLTEuNDg5OTgtLjY2ODMtMS40ODk5OC0xLjQ4NDd2LTIuNDAxOWMwLS44MTY3LjY3MDM0LTEuNDg0NyAxLjQ4OTk4LTEuNDg0Ny44MTk2MyAwIDEuNDkwMDEuNjY4IDEuNDkwMDEgMS40ODQ3em01LjE3MzggMGMwIC44MTY3LS42NzAzIDEuNDg0Ny0xLjQ4OTkgMS40ODQ3LS44MTk3IDAtMS40OS0uNjY4My0xLjQ5LTEuNDg0N3YtMi40MDE5YzAtLjgxNjcuNjcwNi0xLjQ4NDcgMS40OS0xLjQ4NDcuODE5NiAwIDEuNDg5OS42NjggMS40ODk5IDEuNDg0N3oiIGZpbGw9InVybCgjYikiLz48L3N2Zz4K",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?Be.Unsupported:Be.NotDetected,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new Js),this.emit("disconnect"))},this._accountChanged=t=>{const n=this._publicKey;if(!!n){try{t=new le(t.toBytes())}catch(o){this.emit("error",new ii(o==null?void 0:o.message,o));return}n.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Be.Unsupported&&to(()=>{var t,n,o;return((n=(t=window.phantom)==null?void 0:t.solana)==null?void 0:n.isPhantom)||((o=window.solana)==null?void 0:o.isPhantom)?(this._readyState=Be.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isConnected)}get readyState(){return this._readyState}async connect(){var e;try{if(this.connected||this.connecting)return;if(this._readyState!==Be.Installed)throw new ti;this._connecting=!0;const t=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!t.isConnected)try{await t.connect()}catch(o){throw new ni(o==null?void 0:o.message,o)}if(!t.publicKey)throw new Xs;let n;try{n=new le(t.publicKey.toBytes())}catch(o){throw new ii(o==null?void 0:o.message,o)}t.on("disconnect",this._disconnected),t.on("accountChanged",this._accountChanged),this._wallet=t,this._publicKey=n,this.emit("connect",n)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new ri(t==null?void 0:t.message,t))}}this.emit("disconnect")}async sendTransaction(e,t,n={}){try{const o=this._wallet;if(!o)throw new ot;try{const{signers:i,...c}=n;e=await this.prepareTransaction(e,t,c),i!=null&&i.length&&e.partialSign(...i),c.preflightCommitment=c.preflightCommitment||t.commitment;const{signature:u}=await o.signAndSendTransaction(e,c);return u}catch(i){throw i instanceof kt?i:new xr(i==null?void 0:i.message,i)}}catch(o){throw this.emit("error",o),o}}async signTransaction(e){try{const t=this._wallet;if(!t)throw new ot;try{return await t.signTransaction(e)||e}catch(n){throw new Ht(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new ot;try{return await t.signAllTransactions(e)||e}catch(n){throw new Ht(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new ot;try{const{signature:n}=await t.signMessage(e);return n}catch(n){throw new eo(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}}var ao=hr.exports.Buffer;function Jg(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=n}var c=r.length,u=r.charAt(0),h=Math.log(c)/Math.log(256),y=Math.log(256)/Math.log(c);function m(E){if((Array.isArray(E)||E instanceof Uint8Array)&&(E=ao.from(E)),!ao.isBuffer(E))throw new TypeError("Expected Buffer");if(E.length===0)return"";for(var B=0,T=0,L=0,P=E.length;L!==P&&E[L]===0;)L++,B++;for(var z=(P-L)*y+1>>>0,N=new Uint8Array(z);L!==P;){for(var F=E[L],R=0,H=z-1;(F!==0||R<T)&&H!==-1;H--,R++)F+=256*N[H]>>>0,N[H]=F%c>>>0,F=F/c>>>0;if(F!==0)throw new Error("Non-zero carry");T=R,L++}for(var q=z-T;q!==z&&N[q]===0;)q++;for(var G=u.repeat(B);q<z;++q)G+=r.charAt(N[q]);return G}function x(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return ao.alloc(0);for(var B=0,T=0,L=0;E[B]===u;)T++,B++;for(var P=(E.length-B)*h+1>>>0,z=new Uint8Array(P);E[B];){var N=e[E.charCodeAt(B)];if(N===255)return;for(var F=0,R=P-1;(N!==0||F<L)&&R!==-1;R--,F++)N+=c*z[R]>>>0,z[R]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");L=F,B++}for(var H=P-L;H!==P&&z[H]===0;)H++;var q=ao.allocUnsafe(T+(P-H));q.fill(0,0,T);for(var G=T;H!==P;)q[G++]=z[H++];return q}function C(E){var B=x(E);if(B)return B;throw new Error("Non-base"+c+" character")}return{encode:m,decodeUnsafe:x,decode:C}}var Xg=Jg,ey=Xg,ty="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",oi=ey(ty);const ny="Slope";class ry extends no{constructor(e={}){super(),this.name=ny,this.url="https://slope.finance",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiByeD0iNjQiIGZpbGw9IiM2RTY2RkEiLz4KPHBhdGggZD0iTTI3Ljk0NzUgNTIuMTU5Nkw1MS45ODI2IDI4LjA1NzJMNzIuNjA5OCA3LjY1Mzg5QzczLjg3MzQgNi40MDQwMSA3Ni4wMTc4IDcuMjk5MSA3Ni4wMTc4IDkuMDc2NDJMNzYuMDE4NyA1Mi4xNTlMNTEuOTgzNiA3Ni4xMjY4TDI3Ljk0NzUgNTIuMTU5NloiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8zNzk1XzI1NTQzKSIvPgo8cGF0aCBkPSJNMTAwLjA1MyA3NS45OTNMNzYuMDE4IDUxLjk1OEw1MS45ODI5IDc1Ljk5MzFMNTEuOTgyOSAxMTguOTI0QzUxLjk4MjkgMTIwLjcwMyA1NC4xMzEyIDEyMS41OTcgNTUuMzkzNyAxMjAuMzQzTDEwMC4wNTMgNzUuOTkzWiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzM3OTVfMjU1NDMpIi8+CjxwYXRoIGQ9Ik0yNy45NDcgNTIuMTYwMUg0NC42ODM5QzQ4LjcxNDcgNTIuMTYwMSA1MS45ODIyIDU1LjQyNzYgNTEuOTgyMiA1OS40NTgzVjc2LjEyNjlIMzUuMjQ1M0MzMS4yMTQ2IDc2LjEyNjkgMjcuOTQ3IDcyLjg1OTQgMjcuOTQ3IDY4LjgyODdWNTIuMTYwMVoiIGZpbGw9IiNGMUYwRkYiLz4KPHBhdGggZD0iTTc2LjAxNzggNTIuMTYwMUg5Mi43NTQ3Qzk2Ljc4NTUgNTIuMTYwMSAxMDAuMDUzIDU1LjQyNzYgMTAwLjA1MyA1OS40NTgzVjc2LjEyNjlIODMuMzE2MUM3OS4yODU0IDc2LjEyNjkgNzYuMDE3OCA3Mi44NTk0IDc2LjAxNzggNjguODI4N1Y1Mi4xNjAxWiIgZmlsbD0iI0YxRjBGRiIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzM3OTVfMjU1NDMiIHgxPSI1MS45ODMxIiB5MT0iNy4wNzE1NSIgeDI9IjUxLjk4MzEiIHkyPSI3Ni4xMjY4IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNBOEFERkYiLz4KPHN0b3Agb2Zmc2V0PSIwLjY0ODU1NiIgc3RvcC1jb2xvcj0id2hpdGUiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzM3OTVfMjU1NDMiIHgxPSI3Ni4wMTgiIHkxPSI1MS45NTgiIHgyPSI3Ni4wMTgiIHkyPSIxMjAuOTI4IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIG9mZnNldD0iMC4yNjA3ODQiIHN0b3AtY29sb3I9IiNCNkJBRkYiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRTRFMkZGIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg==",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?Be.Unsupported:Be.NotDetected,this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Be.Unsupported&&to(()=>typeof window.Slope=="function"||window.slopeApp?(this._readyState=Be.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Be.Installed||typeof window.Slope!="function")throw new ti;this._connecting=!0;const e=new window.Slope;let t;try{({data:t}=await e.connect())}catch(o){throw new ni(o==null?void 0:o.message,o)}if(!t.publicKey)throw new Xs;let n;try{n=new le(t.publicKey)}catch(o){throw new ii(o==null?void 0:o.message,o)}this._wallet=e,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){this._wallet=null,this._publicKey=null;try{let t;try{({msg:t}=await e.disconnect())}catch(n){throw new ri(n==null?void 0:n.message,n)}if(t!=="ok")throw new ri(t)}catch(t){this.emit("error",t)}}this.emit("disconnect")}async signTransaction(e){try{const t=this._wallet;if(!t)throw new ot;try{const n=oi.encode(e.serializeMessage()),{msg:o,data:i}=await t.signTransaction(n);if(!i.publicKey||!i.signature)throw new Ht(o);const c=new le(i.publicKey),u=oi.decode(i.signature);return e.addSignature(c,u),e}catch(n){throw n instanceof kt?n:new Ht(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){var t;try{const n=this._wallet;if(!n)throw new ot;try{const o=e.map(y=>oi.encode(y.serializeMessage())),{msg:i,data:c}=await n.signAllTransactions(o),u=e.length;if(!c.publicKey||((t=c.signatures)==null?void 0:t.length)!==u)throw new Ht(i);const h=new le(c.publicKey);for(let y=0;y<u;y++)e[y].addSignature(h,oi.decode(c.signatures[y]));return e}catch(o){throw o instanceof kt?o:new Ht(o==null?void 0:o.message,o)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const t=this._wallet;if(!t)throw new ot;try{const n=await t.signMessage(e);return oi.decode(n.data.signature)}catch(n){throw new eo(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}}const iy="Solflare";class oy extends no{constructor(e={}){super(),this.name=iy,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Be.Unsupported:Be.Loadable,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Js),this.emit("disconnect"))},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==Be.Unsupported&&to(()=>{var t;return((t=window.solflare)==null?void 0:t.isSolflare)||window.SolflareApp?(this._readyState=Be.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Be.Loadable&&this._readyState!==Be.Installed)throw new ti;let e;try{e=(await Promise.resolve().then(()=>Uy)).default}catch(o){throw new Bg(o==null?void 0:o.message,o)}let t;try{t=new e({network:this._config.network})}catch(o){throw new Tg(o==null?void 0:o.message,o)}if(this._connecting=!0,!t.connected)try{await t.connect()}catch(o){throw new ni(o==null?void 0:o.message,o)}if(!t.publicKey)throw new ni;let n;try{n=new le(t.publicKey.toBytes())}catch(o){throw new ii(o==null?void 0:o.message,o)}t.on("disconnect",this._disconnected),this._wallet=t,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new ri(t==null?void 0:t.message,t))}}this.emit("disconnect")}async signTransaction(e){try{const t=this._wallet;if(!t)throw new ot;try{return await t.signTransaction(e)||e}catch(n){throw new Ht(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new ot;try{return await t.signAllTransactions(e)||e}catch(n){throw new Ht(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new ot;try{return await t.signMessage(e,"utf8")}catch(n){throw new eo(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}}const Jy="";function sy({children:r}){const e=ea.Mainnet,t=K.useMemo(()=>Ig(e),[e]),n=K.useMemo(()=>[new $g,new Vg,new ry,new oy({network:e})],[e]);return D.default.createElement(Mg,{endpoint:t},D.default.createElement(Rg,{wallets:n,autoConnect:!0},D.default.createElement(Fg,null,r)))}function oa(r){this.message=r}oa.prototype=new Error,oa.prototype.name="InvalidCharacterError";var wl=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(r){var e=String(r).replace(/=+$/,"");if(e.length%4==1)throw new oa("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,n,o=0,i=0,c="";n=e.charAt(i++);~n&&(t=o%4?64*t+n:n,o++%4)?c+=String.fromCharCode(255&t>>(-2*o&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return c};function ay(r){var e=r.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(wl(t).replace(/(.)/g,function(n,o){var i=o.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}(e)}catch{return wl(e)}}function co(r){this.message=r}function ml(r,e){if(typeof r!="string")throw new co("Invalid token specified");var t=(e=e||{}).header===!0?0:1;try{return JSON.parse(ay(r.split(".")[t]))}catch(n){throw new co("Invalid token specified: "+n.message)}}co.prototype=new Error,co.prototype.name="InvalidTokenError";function cy(r,e){var o;const[t,n]=K.useState((o=ml(r).wallets)==null?void 0:o[e]);return K.useEffect(()=>{var i;r||n(void 0),n((i=ml(r).wallets)==null?void 0:i[e])},[r,e]),t}const uy={ethereum:"ETH",solana:"SOL",polygon:"MATIC",avalanche:"AVAX",flow:"FLOW"};function ly({projectData:r,appId:e,hasUser:t,token:n,logger:o}){var q;const[i,c]=K.useState(!1),[u,h]=K.useState(!1),[y,m]=K.useState(""),{setVisible:x}=al(),{connected:C,publicKey:E,signMessage:B,disconnect:T}=nl(),L=K.useRef(!1),P=K.useRef(!1),z=cy(n,r.chain);K.useEffect(()=>{m(fo(z))},[z]);const N=K.useMemo(()=>{var ve,ye,xe,I,l;if(!(r!=null&&r.wallet))return[];const{wallet:G}=r;!z&&((ve=r.userInfo)==null?void 0:ve.walletAddress)&&m(fo((ye=r.userInfo)==null?void 0:ye.walletAddress));const he=[];if(G!=null&&G.isBalanceRequired){const p=D.default.createElement(D.default.Fragment,null,"Have at least",D.default.createElement("strong",null," "+G.balance+" "+uy[r.chain]+" "),"in your wallet",D.default.createElement(tn,{required:!G.isBalanceOptional}));he.push(p)}if(G!=null&&G.isTokenRequired){const p=D.default.createElement(D.default.Fragment,null,"Have at least"," ",D.default.createElement("strong",null,D.default.createElement("a",{href:(xe=G.token)==null?void 0:xe.url,target:"_blank",rel:"noreferrer"},(I=G.token)==null?void 0:I.balance," ",(l=G.token)==null?void 0:l.symbol))," ","in your wallet",D.default.createElement(tn,{required:!G.isTokenOptional}));he.push(p)}if(G!=null&&G.isNftRequired){const{nftCollection:p}=G,b=D.default.createElement(D.default.Fragment,null,"Hold an NFT from"," ",D.default.createElement("strong",null,D.default.createElement("a",{href:p==null?void 0:p.url,target:"_blank",rel:"noreferrer"},p==null?void 0:p.name)),D.default.createElement(tn,{required:!G.isNftOptional}));he.push(b)}return he},[r,z]);K.useEffect(()=>{async function G(){var he;if(!(!P.current||((he=r==null?void 0:r.userInfo)==null?void 0:he.walletAddress)||!C||!E||!B||L.current))try{L.current=!0,c(!0);const ve=E.toBase58(),{nonce:ye}=await kl({appId:e,address:ve}),xe=new TextEncoder().encode(ye),I=Kg.encode(await B(xe));await Nl({address:ve,signature:I,appId:e}),m(fo(E.toString())),o==null||o.info("HypeDayReact: Wallet connected","hype03",{address:E.toString(),projectId:r==null?void 0:r.id,chain:r==null?void 0:r.chain})}catch(ve){T(),ve.message!=="User rejected the request."&&ve.name!==ot.name&&(console.error("error",ve),o==null||o.error("HypeDayReact: Error connecting wallet","hype02",ve))}finally{c(!1),L.current=!1,P.current=!1}}G()},[o,e,r,c,C,E,B,T]);const F=()=>{y||(x(!0),P.current=!0)},R=()=>{const he=new URLSearchParams(window.location.search).get("phantomApp");if(ho()&&!he)return h(!0);F()},H=async()=>{try{const G=new URLSearchParams;G.append("phantomApp","1"),G.append("ref","hypeday");const he="https://phantom.app/ul/browse/"+encodeURIComponent(window.location.href+"?"+G.toString());window.open(he,"_blank")}catch(G){console.error(G)}};return((q=r==null?void 0:r.wallet)==null?void 0:q.required)===!1?null:D.default.createElement(D.default.Fragment,null,D.default.createElement(ic,{isOpen:u,onRequestClose:()=>h(!1),title:"Open in Phantom Mobile App?"},D.default.createElement("button",{className:"hypeday-button hypeday-modal-button",onClick:H},"Yes"),D.default.createElement("button",{className:"hypeday-button hypeday-modal-button",onClick:()=>{h(!1),F()}},"Other ways to connect")),D.default.createElement(po,{title:"Wallet",onClick:R,info:N,isLoading:i,rightText:y,buttonDisabled:!t}))}function fy({projectData:r,appId:e,hasUser:t,token:n,logger:o}){return D.default.createElement(sy,null,D.default.createElement(ly,{projectData:r,appId:e,hasUser:t,token:n,logger:o}))}const Xy="",hy=["twitter01","twitter02","twitter03","twitter06","twitter10","twitter20"],dy=["discord01","discord05","discord08"],py={[fn.willOpen]:"Registration opening soon",[fn.alwaysOpen]:"Register",[fn.willClose]:"Register",[fn.closed]:"Registration is closed"};function gy({projectData:r,appId:e,hasUser:t,inputRef:n,logger:o}){var z,N,F;const[i,c]=K.useState(!1),[u,h]=K.useState(""),[y,m]=K.useState(!1),{status:x}=go(),{twitterData:C,discordData:E,setTwitterData:B,setDiscordData:T}=ci();K.useEffect(()=>{var R;m(!!((R=r==null?void 0:r.userInfo)!=null&&R.registered))},[r]);const L=async()=>{var R;if(!(!e||!t||!(r!=null&&r.id)||y))try{h(""),c(!0);const{error:H}=await Ol({appId:e,projectId:r.id,customField:((R=n==null?void 0:n.current)==null?void 0:R.value)||""});if(H)return console.error("Register error",H),o==null||o.error("HypeDayReact: Error registering user","hype06",H),hy.includes(H.code)&&B(void 0),dy.includes(H.code)&&T(void 0),h(H.message);m(!0),o==null||o.info("HypeDayReact: User registered","hype07",{projectId:r==null?void 0:r.id,chain:r==null?void 0:r.chain})}catch(H){console.error(H),o==null||o.error("HypeDayReact: Error registering user","hype08",H)}finally{c(!1)}},P=i||x===fn.closed||x===fn.willOpen||!t||((z=r==null?void 0:r.discord)==null?void 0:z.enabled)&&!(E!=null&&E.username)||((N=r==null?void 0:r.discord2)==null?void 0:N.enabled)&&!(E!=null&&E.username)||((F=r==null?void 0:r.twitter)==null?void 0:F.enabled)&&!(C!=null&&C.username);return D.default.createElement(D.default.Fragment,null,D.default.createElement("button",{className:"hypeday-register-button",onClick:L,disabled:P},i&&D.default.createElement("div",{className:"hypeday-spinner hypeday-btn-spinner"}),D.default.createElement("span",{style:{visibility:i?"hidden":"initial"}},y?"Registered! \u{1F389}":py[x])),!!u&&D.default.createElement("span",{className:"hypeday-register-error"},u))}function yy({projectData:r}){return r!=null&&r.showLink?D.default.createElement("div",{style:{fontSize:"0.8em",width:"100%",display:"flex",justifyContent:"flex-end",paddingTop:12}},D.default.createElement("span",null,"Powered by"," ",D.default.createElement("a",{href:"https://hype.day",target:"_blank",rel:"noreferrer",className:"hypeday-a-text-decoration-none"},"Hype.Day"))):null}function wy({appId:r,projectId:e,userToken:t,logger:n}){const[o,i]=K.useState(),[c,u]=K.useState(!0),[h,y]=K.useState(""),m=K.useRef(null),{setData:x}=go(),{setDiscordData:C,setTwitterData:E}=ci(),B=K.useCallback(async()=>{if(!e||!r){console.error("HypeDayReact: projectId and appId props are required.");return}u(!0),y(""),Cl({appId:r,projectId:e}).then(T=>{var L,P;i(T),x(T),C((L=T.userInfo)==null?void 0:L.discord),E((P=T.userInfo)==null?void 0:P.twitter)}).catch(T=>{n==null||n.error("HypeDayReact: Error fetching project data","hype01",T),console.error("HypeDayReact: Error fetching project data",T),y(typeof T=="string"?T:T.message||"Something went wrong. Please try again later.")}).finally(()=>u(!1))},[r,x,C,E,e,n]);return K.useEffect(()=>{Tl(t)},[t]),K.useEffect(()=>{B()},[B]),c?D.default.createElement("div",{className:"hypeday-wrapper",style:{display:"flex",justifyContent:"center"}},D.default.createElement("div",{className:"hypeday-spinner"})):h||!o?D.default.createElement("div",{className:"hypeday-wrapper"},D.default.createElement("span",{className:"hypeday-error"},h),D.default.createElement("button",{className:"hypeday-button",onClick:B},"Retry")):D.default.createElement("div",{className:"hypeday-wrapper"},D.default.createElement(Pl,null),D.default.createElement(fy,{projectData:o,appId:r,hasUser:!!t,token:t,logger:n}),D.default.createElement(Jf,{projectData:o,appId:r,hasUser:!!t,logger:n}),D.default.createElement(Ll,{projectData:o,appId:r,hasUser:!!t,logger:n}),D.default.createElement(Ul,{projectData:o,ref:m}),D.default.createElement(gy,{projectData:o,appId:r,hasUser:!!t,logger:n,inputRef:m}),D.default.createElement(yy,{projectData:o}))}const my=K.memo(function(e){return D.default.createElement(Rl,null,D.default.createElement(Dl,null,D.default.createElement(wy,{...e})))});var by=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bl=function(r){by(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Li),uo=hr.exports.Buffer;function vy(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=n}var c=r.length,u=r.charAt(0),h=Math.log(c)/Math.log(256),y=Math.log(256)/Math.log(c);function m(E){if((Array.isArray(E)||E instanceof Uint8Array)&&(E=uo.from(E)),!uo.isBuffer(E))throw new TypeError("Expected Buffer");if(E.length===0)return"";for(var B=0,T=0,L=0,P=E.length;L!==P&&E[L]===0;)L++,B++;for(var z=(P-L)*y+1>>>0,N=new Uint8Array(z);L!==P;){for(var F=E[L],R=0,H=z-1;(F!==0||R<T)&&H!==-1;H--,R++)F+=256*N[H]>>>0,N[H]=F%c>>>0,F=F/c>>>0;if(F!==0)throw new Error("Non-zero carry");T=R,L++}for(var q=z-T;q!==z&&N[q]===0;)q++;for(var G=u.repeat(B);q<z;++q)G+=r.charAt(N[q]);return G}function x(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return uo.alloc(0);for(var B=0,T=0,L=0;E[B]===u;)T++,B++;for(var P=(E.length-B)*h+1>>>0,z=new Uint8Array(P);E[B];){var N=e[E.charCodeAt(B)];if(N===255)return;for(var F=0,R=P-1;(N!==0||F<L)&&R!==-1;R--,F++)N+=c*z[R]>>>0,z[R]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");L=F,B++}for(var H=P-L;H!==P&&z[H]===0;)H++;var q=uo.allocUnsafe(T+(P-H));q.fill(0,0,T);for(var G=T;H!==P;)q[G++]=z[H++];return q}function C(E){var B=x(E);if(B)return B;throw new Error("Non-base"+c+" character")}return{encode:m,decodeUnsafe:x,decode:C}}var Ay=vy,Ey=Ay,xy="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Wt=Ey(xy);class Sy extends Li{constructor(e,t){var n;if(super(),n=this,this._handleMessage=o=>{if(this._injectedProvider&&o.source===window||o.origin===this._providerUrl.origin&&o.source===this._popup){if(o.data.method==="connected"){const i=new le(o.data.params.publicKey);(!this._publicKey||!this._publicKey.equals(i))&&(this._publicKey&&!this._publicKey.equals(i)&&this._handleDisconnect(),this._publicKey=i,this._autoApprove=!!o.data.params.autoApprove,this.emit("connect",this._publicKey))}else if(o.data.method==="disconnected")this._handleDisconnect();else if((o.data.result||o.data.error)&&this._responsePromises.has(o.data.id)){const[i,c]=this._responsePromises.get(o.data.id);o.data.result?i(o.data.result):c(new Error(o.data.error))}}},this._handleConnect=()=>(this._handlerAdded||(this._handlerAdded=!0,window.addEventListener("message",this._handleMessage),window.addEventListener("beforeunload",this.disconnect)),this._injectedProvider?new Promise(o=>{this._sendRequest("connect",{}),o()}):(window.name="parent",this._popup=window.open(this._providerUrl.toString(),"_blank","location,resizable,width=460,height=675"),new Promise(o=>{this.once("connect",o)}))),this._handleDisconnect=()=>{this._handlerAdded&&(this._handlerAdded=!1,window.removeEventListener("message",this._handleMessage),window.removeEventListener("beforeunload",this.disconnect)),this._publicKey&&(this._publicKey=null,this.emit("disconnect")),this._responsePromises.forEach(([o,i],c)=>{this._responsePromises.delete(c),i("Wallet disconnected")})},this._sendRequest=async function(o,i){if(o!=="connect"&&!n.connected)throw new Error("Wallet not connected");const c=n._nextRequestId;return++n._nextRequestId,new Promise((u,h)=>{n._responsePromises.set(c,[u,h]),n._injectedProvider?n._injectedProvider.postMessage({jsonrpc:"2.0",id:c,method:o,params:{network:n._network,...i}}):(n._popup.postMessage({jsonrpc:"2.0",id:c,method:o,params:i},n._providerUrl.origin),n.autoApprove||n._popup.focus())})},this.connect=()=>(this._popup&&this._popup.close(),this._handleConnect()),this.disconnect=async function(){n._injectedProvider&&await n._sendRequest("disconnect",{}),n._popup&&n._popup.close(),n._handleDisconnect()},this.sign=async function(o,i){if(!(o instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");const c=await n._sendRequest("sign",{data:o,display:i}),u=Wt.decode(c.signature),h=new le(c.publicKey);return{signature:u,publicKey:h}},this.signTransaction=async function(o){const i=await n._sendRequest("signTransaction",{message:Wt.encode(o.serializeMessage())}),c=Wt.decode(i.signature),u=new le(i.publicKey);return o.addSignature(u,c),o},this.signAllTransactions=async function(o){const i=await n._sendRequest("signAllTransactions",{messages:o.map(h=>Wt.encode(h.serializeMessage()))}),c=i.signatures.map(h=>Wt.decode(h)),u=new le(i.publicKey);return o=o.map((h,y)=>(h.addSignature(u,c[y]),h)),o},_y(e))this._injectedProvider=e;else if(Iy(e))this._providerUrl=new URL(e),this._providerUrl.hash=new URLSearchParams({origin:window.location.origin,network:t}).toString();else throw new Error("provider parameter must be an injected provider or a URL string.");this._network=t,this._publicKey=null,this._autoApprove=!1,this._popup=null,this._handlerAdded=!1,this._nextRequestId=1,this._responsePromises=new Map}get publicKey(){return this._publicKey}get connected(){return this._publicKey!==null}get autoApprove(){return this._autoApprove}}function Iy(r){return typeof r=="string"}function _y(r){return My(r)&&By(r.postMessage)}function My(r){return typeof r=="object"&&r!==null}function By(r){return typeof r=="function"}var Ty=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Sr=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(c){c(i)})}return new(t||(t=Promise))(function(i,c){function u(m){try{y(n.next(m))}catch(x){c(x)}}function h(m){try{y(n.throw(m))}catch(x){c(x)}}function y(m){m.done?i(m.value):o(m.value).then(u,h)}y((n=n.apply(r,e||[])).next())})},Ir=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(y){return function(m){return h([y,m])}}function h(y){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(i=y[0]&2?o.return:y[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,y[1])).done)return i;switch(o=0,i&&(y=[y[0]&2,i.value]),y[0]){case 0:case 1:i=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,o=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!i||y[1]>i[0]&&y[1]<i[3])){t.label=y[1];break}if(y[0]===6&&t.label<i[1]){t.label=i[1],i=y;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(y);break}i[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(r,t)}catch(m){y=[6,m],o=0}finally{n=i=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Cy=function(r){Ty(e,r);function e(t,n,o){var i=r.call(this)||this;return i._instance=null,i.handleMessage=function(c){},i._sendRequest=function(c,u){return Sr(i,void 0,void 0,function(){return Ir(this,function(h){switch(h.label){case 0:return this._instance.sendRequest?[4,this._instance.sendRequest(c,u)]:[3,2];case 1:return[2,h.sent()];case 2:return this._instance._sendRequest?[4,this._instance._sendRequest(c,u)]:[3,4];case 3:return[2,h.sent()];case 4:throw new Error("Unsupported version of `@project-serum/sol-wallet-adapter`")}})})},i._handleConnect=function(){i.emit("connect")},i._handleDisconnect=function(){window.clearInterval(i._pollTimer),i.emit("disconnect")},i._network=n,i._provider=o,i}return Object.defineProperty(e.prototype,"publicKey",{get:function(){return this._instance.publicKey||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connected",{get:function(){return this._instance.connected||!1},enumerable:!1,configurable:!0}),e.prototype.connect=function(){return Sr(this,void 0,void 0,function(){var t=this;return Ir(this,function(n){switch(n.label){case 0:return this._instance=new Sy(this._provider,this._network),this._instance.on("connect",this._handleConnect),this._instance.on("disconnect",this._handleDisconnect),this._pollTimer=window.setInterval(function(){var o,i;((i=(o=t._instance)===null||o===void 0?void 0:o._popup)===null||i===void 0?void 0:i.closed)!==!1&&t._handleDisconnect()},200),[4,this._instance.connect()];case 1:return n.sent(),[2]}})})},e.prototype.disconnect=function(){return Sr(this,void 0,void 0,function(){return Ir(this,function(t){switch(t.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return this._instance.removeAllListeners("connect"),this._instance.removeAllListeners("disconnect"),[4,this._instance.disconnect()];case 1:return t.sent(),[2]}})})},e.prototype.signTransaction=function(t){return Sr(this,void 0,void 0,function(){var n;return Ir(this,function(o){switch(o.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._sendRequest("signTransaction",{message:Wt.encode(t)})];case 1:return n=o.sent(),[2,Wt.decode(n.signature)]}})})},e.prototype.signAllTransactions=function(t){return Sr(this,void 0,void 0,function(){var n;return Ir(this,function(o){switch(o.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._sendRequest("signAllTransactions",{messages:t.map(function(i){return Wt.encode(i)})})];case 1:return n=o.sent(),[2,n.signatures.map(function(i){return Wt.decode(i)})]}})})},e.prototype.signMessage=function(t,n){return n===void 0&&(n="hex"),Sr(this,void 0,void 0,function(){var o;return Ir(this,function(i){switch(i.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._instance.sign(t,n)];case 1:return o=i.sent().signature,[2,Uint8Array.from(o)]}})})},e}(bl),ky=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sa=globalThis&&globalThis.__assign||function(){return sa=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},sa.apply(this,arguments)},si=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(c){c(i)})}return new(t||(t=Promise))(function(i,c){function u(m){try{y(n.next(m))}catch(x){c(x)}}function h(m){try{y(n.throw(m))}catch(x){c(x)}}function y(m){m.done?i(m.value):o(m.value).then(u,h)}y((n=n.apply(r,e||[])).next())})},ai=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(y){return function(m){return h([y,m])}}function h(y){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(i=y[0]&2?o.return:y[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,y[1])).done)return i;switch(o=0,i&&(y=[y[0]&2,i.value]),y[0]){case 0:case 1:i=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,o=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!i||y[1]>i[0]&&y[1]<i[3])){t.label=y[1];break}if(y[0]===6&&t.label<i[1]){t.label=i[1],i=y;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(y);break}i[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(r,t)}catch(m){y=[6,m],o=0}finally{n=i=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Ny=function(r){ky(e,r);function e(t,n){var o=this,i;return o=r.call(this)||this,o._publicKey=null,o._messageHandlers={},o.handleMessage=function(c){if(o._messageHandlers[c.id]){var u=o._messageHandlers[c.id],h=u.resolve,y=u.reject;delete o._messageHandlers[c.id],c.error?y(c.error):h(c.result)}},o._sendMessage=function(c){if(!o.connected)throw new Error("Wallet not connected");return new Promise(function(u,h){var y,m,x=pu();o._messageHandlers[x]={resolve:u,reject:h},(m=(y=o._iframe)===null||y===void 0?void 0:y.contentWindow)===null||m===void 0||m.postMessage({channel:"solflareWalletAdapterToIframe",data:sa({id:x},c)},"*")})},o._iframe=t,o._publicKey=new le((i=n==null?void 0:n.toString)===null||i===void 0?void 0:i.call(n)),o}return Object.defineProperty(e.prototype,"publicKey",{get:function(){return this._publicKey||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connected",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.connect=function(){return si(this,void 0,void 0,function(){return ai(this,function(t){return[2]})})},e.prototype.disconnect=function(){return si(this,void 0,void 0,function(){return ai(this,function(t){switch(t.label){case 0:return[4,this._sendMessage({method:"disconnect"})];case 1:return t.sent(),[2]}})})},e.prototype.signTransaction=function(t){return si(this,void 0,void 0,function(){var n,o;return ai(this,function(i){switch(i.label){case 0:if(!this.connected)throw new Error("Wallet not connected");i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._sendMessage({method:"signTransaction",params:{message:Wt.encode(t)}})];case 2:return n=i.sent().signature,[2,Wt.decode(n)];case 3:throw o=i.sent(),console.log(o),new Error("Failed to sign transaction");case 4:return[2]}})})},e.prototype.signAllTransactions=function(t){return si(this,void 0,void 0,function(){var n,o;return ai(this,function(i){switch(i.label){case 0:if(!this.connected)throw new Error("Wallet not connected");i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._sendMessage({method:"signAllTransactions",params:{messages:t.map(function(c){return Wt.encode(c)})}})];case 2:return n=i.sent().signatures,[2,n.map(function(c){return Wt.decode(c)})];case 3:throw o=i.sent(),console.log(o),new Error("Failed to sign transactions");case 4:return[2]}})})},e.prototype.signMessage=function(t,n){return n===void 0&&(n="hex"),si(this,void 0,void 0,function(){var o,i;return ai(this,function(c){switch(c.label){case 0:if(!this.connected)throw new Error("Wallet not connected");c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this._sendMessage({method:"signMessage",params:{data:t,display:n}})];case 2:return o=c.sent(),[2,Uint8Array.from(Wt.decode(o))];case 3:throw i=c.sent(),console.log(i),new Error("Failed to sign message");case 4:return[2]}})})},e}(bl);function lo(r){return r.version===void 0}var Oy=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nr=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(c){c(i)})}return new(t||(t=Promise))(function(i,c){function u(m){try{y(n.next(m))}catch(x){c(x)}}function h(m){try{y(n.throw(m))}catch(x){c(x)}}function y(m){m.done?i(m.value):o(m.value).then(u,h)}y((n=n.apply(r,e||[])).next())})},rr=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(y){return function(m){return h([y,m])}}function h(y){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(i=y[0]&2?o.return:y[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,y[1])).done)return i;switch(o=0,i&&(y=[y[0]&2,i.value]),y[0]){case 0:case 1:i=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,o=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!i||y[1]>i[0]&&y[1]<i[3])){t.label=y[1];break}if(y[0]===6&&t.label<i[1]){t.label=i[1],i=y;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(y);break}i[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(r,t)}catch(m){y=[6,m],o=0}finally{n=i=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Ry=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ly=function(r){Oy(e,r);function e(t){var n=r.call(this)||this;return n._network="mainnet-beta",n._provider=null,n._adapterInstance=null,n._element=null,n._iframe=null,n._connectHandler=null,n._flutterHandlerInterval=null,n._handleEvent=function(o){var i,c,u;switch(o.type){case"connect_native_web":{n._collapseIframe(),n._adapterInstance=new Cy(n._iframe,n._network,((i=o.data)===null||i===void 0?void 0:i.provider)||n._provider||"https://solflare.com/provider"),n._adapterInstance.on("connect",n._webConnected),n._adapterInstance.on("disconnect",n._webDisconnected),n._adapterInstance.connect(),n._setPreferredAdapter("native_web");return}case"connect":{n._collapseIframe(),n._adapterInstance=new Ny(n._iframe,((c=o.data)===null||c===void 0?void 0:c.publicKey)||""),n._adapterInstance.connect(),n._setPreferredAdapter((u=o.data)===null||u===void 0?void 0:u.adapter),n._connectHandler&&(n._connectHandler.resolve(),n._connectHandler=null),n.emit("connect",n.publicKey);return}case"disconnect":{n._connectHandler&&(n._connectHandler.reject(),n._connectHandler=null),n._disconnected(),n.emit("disconnect");return}case"collapse":{n._collapseIframe();return}default:return}},n._handleResize=function(o){o.resizeMode==="full"?o.params.mode==="fullscreen"?n._expandIframe():o.params.mode==="hide"&&n._collapseIframe():o.resizeMode==="coordinates"&&n._iframe&&(n._iframe.style.top=isFinite(o.params.top)?"".concat(o.params.top,"px"):"",n._iframe.style.bottom=isFinite(o.params.bottom)?"".concat(o.params.bottom,"px"):"",n._iframe.style.left=isFinite(o.params.left)?"".concat(o.params.left,"px"):"",n._iframe.style.right=isFinite(o.params.right)?"".concat(o.params.right,"px"):"",n._iframe.style.width=isFinite(o.params.width)?"".concat(o.params.width,"px"):o.params.width,n._iframe.style.height=isFinite(o.params.height)?"".concat(o.params.height,"px"):o.params.height)},n._handleMessage=function(o){var i;if(((i=o.data)===null||i===void 0?void 0:i.channel)==="solflareIframeToWalletAdapter"){var c=o.data.data||{};c.type==="event"?n._handleEvent(c.event):c.type==="resize"?n._handleResize(c):c.type==="response"&&n._adapterInstance&&n._adapterInstance.handleMessage(c)}},n._removeElement=function(){n._flutterHandlerInterval!==null&&(clearInterval(n._flutterHandlerInterval),n._flutterHandlerInterval=null),n._element&&(n._element.remove(),n._element=null)},n._removeDanglingElements=function(){var o,i,c=document.getElementsByClassName("solflare-wallet-adapter-iframe");try{for(var u=Ry(c),h=u.next();!h.done;h=u.next()){var y=h.value;y.parentElement&&y.remove()}}catch(m){o={error:m}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}},n._injectElement=function(){n._removeElement(),n._removeDanglingElements();var o="".concat(e.IFRAME_URL,"?cluster=").concat(encodeURIComponent(n._network),"&origin=").concat(encodeURIComponent(window.location.origin),"&version=1"),i=n._getPreferredAdapter();i&&(o+="&adapter=".concat(encodeURIComponent(i))),n._element=document.createElement("div"),n._element.className="solflare-wallet-adapter-iframe",n._element.innerHTML=`
      <iframe src='`.concat(o,`' style='position: fixed; top: 0; bottom: 0; left: 0; right: 0; width: 100%; height: 100%; border: none; border-radius: 0; z-index: 99999; color-scheme: auto;' allowtransparency='true'></iframe>
    `),document.body.appendChild(n._element),n._iframe=n._element.querySelector("iframe"),window.fromFlutter=n._handleMobileMessage,n._flutterHandlerInterval=setInterval(function(){window.fromFlutter=n._handleMobileMessage},100),window.addEventListener("message",n._handleMessage,!1)},n._collapseIframe=function(){n._iframe&&(n._iframe.style.top="",n._iframe.style.right="",n._iframe.style.height="2px",n._iframe.style.width="2px")},n._expandIframe=function(){n._iframe&&(n._iframe.style.top="0px",n._iframe.style.bottom="0px",n._iframe.style.left="0px",n._iframe.style.right="0px",n._iframe.style.width="100%",n._iframe.style.height="100%")},n._getPreferredAdapter=function(){return localStorage&&localStorage.getItem("solflarePreferredWalletAdapter")||null},n._setPreferredAdapter=function(o){localStorage&&o&&localStorage.setItem("solflarePreferredWalletAdapter",o)},n._clearPreferredAdapter=function(){localStorage&&localStorage.removeItem("solflarePreferredWalletAdapter")},n._webConnected=function(){n._connectHandler&&(n._connectHandler.resolve(),n._connectHandler=null),n.emit("connect",n.publicKey)},n._webDisconnected=function(){n._connectHandler&&(n._connectHandler.reject(),n._connectHandler=null),n._disconnected(),n.emit("disconnect")},n._disconnected=function(){window.removeEventListener("message",n._handleMessage,!1),n._removeElement(),n._clearPreferredAdapter(),n._adapterInstance=null},n._handleMobileMessage=function(o){var i,c;(c=(i=n._iframe)===null||i===void 0?void 0:i.contentWindow)===null||c===void 0||c.postMessage({channel:"solflareMobileToIframe",data:o},"*")},t!=null&&t.network&&(n._network=t==null?void 0:t.network),t!=null&&t.provider&&(n._provider=t==null?void 0:t.provider),n}return Object.defineProperty(e.prototype,"publicKey",{get:function(){var t;return((t=this._adapterInstance)===null||t===void 0?void 0:t.publicKey)||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isConnected",{get:function(){var t;return!!(!((t=this._adapterInstance)===null||t===void 0)&&t.connected)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connected",{get:function(){return this.isConnected},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoApprove",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.connect=function(){return nr(this,void 0,void 0,function(){var t=this;return rr(this,function(n){switch(n.label){case 0:return this.connected?[2]:(this._injectElement(),[4,new Promise(function(o,i){t._connectHandler={resolve:o,reject:i}})]);case 1:return n.sent(),[2]}})})},e.prototype.disconnect=function(){return nr(this,void 0,void 0,function(){return rr(this,function(t){switch(t.label){case 0:return this._adapterInstance?[4,this._adapterInstance.disconnect()]:[2];case 1:return t.sent(),this._disconnected(),this.emit("disconnect"),[2]}})})},e.prototype.signTransaction=function(t){return nr(this,void 0,void 0,function(){var n,o,i,c,u=this;return rr(this,function(h){switch(h.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return n=lo(t)?t.serializeMessage():t.message.serialize(),[4,this._adapterInstance.signTransaction(n)];case 1:return o=h.sent(),lo(t)?t.addSignature(this.publicKey,Buffer.from(o)):(i=t.message.staticAccountKeys.slice(0,t.message.header.numRequiredSignatures),c=i.findIndex(function(y){return y.equals(u.publicKey)}),c>=0&&(t.signatures[c]=o)),[2,t]}})})},e.prototype.signAllTransactions=function(t){return nr(this,void 0,void 0,function(){var n,o,i,c,u,h,y=this;return rr(this,function(m){switch(m.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return n=t.map(function(x){return lo(x)?x.serializeMessage():x.message.serialize()}),[4,this._adapterInstance.signAllTransactions(n)];case 1:for(o=m.sent(),i=0;i<t.length;i++)c=t[i],lo(c)?c.addSignature(this.publicKey,Buffer.from(o[i])):(u=c.message.staticAccountKeys.slice(0,c.message.header.numRequiredSignatures),h=u.findIndex(function(x){return x.equals(y.publicKey)}),h>=0&&(c.signatures[h]=o[i]));return[2,t]}})})},e.prototype.signMessage=function(t,n){return n===void 0&&(n="utf8"),nr(this,void 0,void 0,function(){return rr(this,function(o){switch(o.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._adapterInstance.signMessage(t,n)];case 1:return[2,o.sent()]}})})},e.prototype.sign=function(t,n){return n===void 0&&(n="utf8"),nr(this,void 0,void 0,function(){return rr(this,function(o){switch(o.label){case 0:return[4,this.signMessage(t,n)];case 1:return[2,o.sent()]}})})},e.prototype.detectWallet=function(t){var n;return t===void 0&&(t=10),nr(this,void 0,void 0,function(){return rr(this,function(o){return window.SolflareApp||((n=window.solflare)===null||n===void 0?void 0:n.isSolflare)?[2,!0]:[2,new Promise(function(i){var c,u;c=setInterval(function(){var h;(window.SolflareApp||((h=window.solflare)===null||h===void 0?void 0:h.isSolflare))&&(clearInterval(c),clearTimeout(u),i(!0))},500),u=setTimeout(function(){clearInterval(c),i(!1)},t*1e3)})]})})},e.IFRAME_URL="https://connect.solflare.com/",e}(Li);const Uy=Object.freeze(Object.defineProperty({__proto__:null,default:Ly},Symbol.toStringTag,{value:"Module"}));return my});
