(function(Y,rr){typeof exports=="object"&&typeof module<"u"?module.exports=rr(require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["react","react-dom"],rr):(Y=typeof globalThis<"u"?globalThis:Y||self,Y.HypeDayReact=rr(Y.React,Y.ReactDOM))})(this,function(Y,rr){"use strict";const Aa=r=>r&&typeof r=="object"&&"default"in r?r:{default:r},P=Aa(Y),vl=Aa(rr),Al="https://api.hype.day",El="https://apitest.hype.day";let ir="https://api.hype.day";const Pn=new Headers({"Content-Type":"application/json"});function xl(r){ir=r?El:Al}function Sl(r){r?Pn.set("Authorization",`Bearer ${r}`):Pn.delete("Authorization")}function Br(r){return r.text().then(e=>{if(e==="OK")return e;const t=e&&JSON.parse(e);if(!r.ok){const n=t&&t.message||r.statusText;return Promise.reject(n)}return t})}function Il({appId:r,projectId:e}){const t={method:"GET",headers:Pn};return fetch(`${ir}/getProject?`+new URLSearchParams({appid:r,projectid:e}),t).then(Br)}function _l(r){const e="solana",t={method:"POST",headers:Pn,body:JSON.stringify({chain:e,...r})};return fetch(`${ir}/addWallet`,t).then(Br)}function Ml(r){const e="solana",t={method:"POST",headers:Pn,body:JSON.stringify({chain:e,...r})};return fetch(`${ir}/verifyWallet`,t).then(Br)}function Ea({provider:r,appId:e,projectId:t,returnUrl:n}){const o={method:"POST",headers:Pn,body:JSON.stringify({appId:e,projectId:t,returnUrl:n})};return fetch(`${ir}/${r==="twitter"?"t":"d"}GetUrlForApp`,o).then(Br)}function Bl({appId:r,projectId:e,customField:t}){const n={method:"POST",headers:Pn,body:JSON.stringify({appId:r,projectId:e,customField:t})};return fetch(`${ir}/validateForAppProject`,n).then(Br)}function co({title:r,rightText:e,buttonDisabled:t=!1,onClick:n,info:o,isLoading:i=!1,showButton:c=!0}){return P.default.createElement("section",{className:"hypeday-section"},P.default.createElement("header",{className:"hypeday-section-header"},P.default.createElement("h3",{className:"hypeday-h3"},r),c&&P.default.createElement("button",{className:"hypeday-button",onClick:n,disabled:i||t,title:t?"Please login first":void 0},i&&P.default.createElement("div",{className:"hypeday-spinner hypeday-btn-spinner"}),P.default.createElement("span",{style:{visibility:i?"hidden":"initial"}},e||"Connect"))),o.map((u,h)=>P.default.createElement("span",{key:h,className:"hypeday-info"},u)))}function Tl({projectData:r,appId:e,hasUser:t,logger:n}){var h,y,m,x;const[o,i]=Y.useState(!1),c=Y.useMemo(()=>{var R,D;if(!((R=r==null?void 0:r.discord)!=null&&R.enabled)&&!((D=r==null?void 0:r.discord2)!=null&&D.enabled))return[];const{discord:B,discord2:E}=r,C=[];B!=null&&B.enabled&&C.push(B),E!=null&&E.enabled&&C.push(E);const k=[];return C.forEach(F=>{var O;if(F.isServerRequired){const z=P.default.createElement(P.default.Fragment,null,P.default.createElement("div",{className:"hypeday-req-list-item"},P.default.createElement("div",null,"Join the"," ",P.default.createElement("a",{href:F==null?void 0:F.serverLink,target:"_blank",rel:"noreferrer"},P.default.createElement("strong",null,F==null?void 0:F.serverDisplayName))," ","server on Discord",F.isShouldJoinBeforeRequired?P.default.createElement(P.default.Fragment,null," ","before"," ",P.default.createElement("strong",null,new Date((F==null?void 0:F.shouldJoinBefore)||"").toLocaleDateString())):null),P.default.createElement("a",{className:"hypeday-button-gray hypeday-discord-req-action-button",href:(F==null?void 0:F.serverLink)||"/",target:"_blank",rel:"noreferrer"},P.default.createElement("span",null,"Join the ",P.default.createElement("b",null,(F==null?void 0:F.serverDisplayName)||"test")))));k.push(z)}if(F.isRoleRequired){const z=P.default.createElement(P.default.Fragment,null,'and have the "',(O=F==null?void 0:F.roleDisplayNames)==null?void 0:O.join(", "),'" role(s)');k.push(z)}}),k},[r]),u=async()=>{if(!(!e||!t||!(r!=null&&r.id)))try{i(!0);const{url:B}=await Ea({provider:"discord",appId:e,projectId:r.id,returnUrl:window.location.href});window.location.assign(B)}catch(B){console.error(B),n==null||n.error("HypeDayReact: Error getting Discord oauth url","hype05",B)}finally{i(!1)}};return!((h=r==null?void 0:r.discord)!=null&&h.enabled)&&!((y=r==null?void 0:r.discord2)!=null&&y.enabled)?null:P.default.createElement(co,{title:"Discord",onClick:u,info:c,rightText:(x=(m=r==null?void 0:r.userInfo)==null?void 0:m.discord)==null?void 0:x.username,buttonDisabled:!t,isLoading:o})}const Cl=P.default.forwardRef(function({projectData:e},t){var o;if(!((o=e==null?void 0:e.customfield)!=null&&o.enabled))return null;const{customfield:n}=e;return P.default.createElement("section",{className:"hypeday-section"},P.default.createElement("header",{className:"hypeday-section-header"},P.default.createElement("h3",{className:"hypeday-h3"},"Open Response")),P.default.createElement("span",{className:"hypeday-info"},n.labels[0]),P.default.createElement("input",{className:"hypeday-input",type:"text",placeholder:n.labels[0],ref:t}))});var ln=(r=>(r.willOpen="willOpen",r.alwaysOpen="alwaysOpen",r.willClose="willClose",r.closed="closed",r))(ln||{});const xa=Y.createContext({});function kl({children:r}){const[e,t]=Y.useState(),[n,o]=Y.useState("alwaysOpen"),[i,c]=Y.useState();Y.useEffect(()=>{var x,B,E,C,k,R,D,F;const h=Date.now(),y=(x=e==null?void 0:e.signupAccess)!=null&&x.isStartDateRequired?new Date((B=e==null?void 0:e.signupAccess)==null?void 0:B.startDate).getTime():null,m=(E=e==null?void 0:e.signupAccess)!=null&&E.isEndDateRequired?new Date((C=e==null?void 0:e.signupAccess)==null?void 0:C.endDate).getTime():null;if(!y&&!m){o("alwaysOpen");return}if(y&&y>h){o("willOpen"),c((k=e==null?void 0:e.signupAccess)==null?void 0:k.startDate);const O=setTimeout(()=>{var z;o(m?"willClose":"alwaysOpen"),c((z=e==null?void 0:e.signupAccess)==null?void 0:z.endDate)},y-h);return()=>clearTimeout(O)}if(y&&y<h){if(m){o("willClose"),c((R=e==null?void 0:e.signupAccess)==null?void 0:R.endDate);const O=setTimeout(()=>{o("closed")},m-h);return()=>clearTimeout(O)}o("alwaysOpen");return}if(m&&m>h){o("willClose"),c((D=e==null?void 0:e.signupAccess)==null?void 0:D.endDate);const O=setTimeout(()=>{var z;o("closed"),c((z=e==null?void 0:e.signupAccess)==null?void 0:z.endDate)},m-h);return()=>clearTimeout(O)}if(m&&m<h){o("closed"),c((F=e==null?void 0:e.signupAccess)==null?void 0:F.endDate);return}},[e]);const u=Y.useMemo(()=>({status:n,dateString:i,setData:t}),[n,i,t]);return P.default.createElement(xa.Provider,{value:u},r)}function uo(){return Y.useContext(xa)}function Sa({dateString:r,message:e}){const[t,n]=Y.useState(!1),[o,i]=Y.useState(0),[c,u]=Y.useState(0),[h,y]=Y.useState(0),[m,x]=Y.useState(0);return Y.useEffect(()=>{const B=new Date(r).getTime(),E=setInterval(()=>{const C=new Date().getTime(),k=B-C,R=Math.floor(k/(1e3*60*60*24)),D=Math.floor(k%(1e3*60*60*24)/(1e3*60*60)),F=Math.floor(k%(1e3*60*60)/(1e3*60)),O=Math.floor(k%(1e3*60)/1e3);if(k<=0){clearInterval(E),n(!0),i(0),u(0),y(0),x(0);return}i(R),u(D),y(F),x(O)},1e3);return()=>clearInterval(E)},[r]),!t&&!o&&!c&&!h&&!m?P.default.createElement("span",{style:{visibility:"hidden"}},"Calculating.."):t?P.default.createElement(P.default.Fragment,null,e):P.default.createElement(P.default.Fragment,null,o>0&&`${o} days, `,c>0&&`${c} hours, `,h>0&&`${h} minutes, `,m>0&&`${m} seconds`)}function lo({children:r,title:e}){return P.default.createElement("section",{className:"hypeday-section"},P.default.createElement("header",{className:"hypeday-section-header"},P.default.createElement("h3",{className:"hypeday-h3"},e)),P.default.createElement("span",{className:"hypeday-info"},r))}function Nl(){var t;const{status:r,dateString:e}=uo();return r===ln.closed?P.default.createElement(lo,{title:"Registration is closed"},"Registration is closed on"," ",(t=new Date(e))==null?void 0:t.toUTCString(),". Thank you for your interest."):r===ln.willOpen?P.default.createElement(lo,{title:"Registration starts in:"},P.default.createElement(Sa,{dateString:e,message:"Registration is open."})):r===ln.willClose?P.default.createElement(lo,{title:"Registration ends in:"},P.default.createElement(Sa,{dateString:e,message:"Registration is closed."})):null}function Ia(r){return`${r.slice(0,4)}...${r.slice(-4)}`}function fo(){return Math.min(window.screen.width,window.screen.height)<768||navigator.userAgent.indexOf("Mobi")>-1}var tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ol(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function ai(r){var e=r.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var o=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return r[n]}})}),t}var ho={exports:{}},Dn={},ci={exports:{}},po={exports:{}},Re={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _a;function Rl(){if(_a)return Re;_a=1;var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,n=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,i=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,y=r?Symbol.for("react.concurrent_mode"):60111,m=r?Symbol.for("react.forward_ref"):60112,x=r?Symbol.for("react.suspense"):60113,B=r?Symbol.for("react.suspense_list"):60120,E=r?Symbol.for("react.memo"):60115,C=r?Symbol.for("react.lazy"):60116,k=r?Symbol.for("react.block"):60121,R=r?Symbol.for("react.fundamental"):60117,D=r?Symbol.for("react.responder"):60118,F=r?Symbol.for("react.scope"):60119;function O(L){if(typeof L=="object"&&L!==null){var H=L.$$typeof;switch(H){case e:switch(L=L.type,L){case h:case y:case n:case i:case o:case x:return L;default:switch(L=L&&L.$$typeof,L){case u:case m:case C:case E:case c:return L;default:return H}}case t:return H}}}function z(L){return O(L)===y}return Re.AsyncMode=h,Re.ConcurrentMode=y,Re.ContextConsumer=u,Re.ContextProvider=c,Re.Element=e,Re.ForwardRef=m,Re.Fragment=n,Re.Lazy=C,Re.Memo=E,Re.Portal=t,Re.Profiler=i,Re.StrictMode=o,Re.Suspense=x,Re.isAsyncMode=function(L){return z(L)||O(L)===h},Re.isConcurrentMode=z,Re.isContextConsumer=function(L){return O(L)===u},Re.isContextProvider=function(L){return O(L)===c},Re.isElement=function(L){return typeof L=="object"&&L!==null&&L.$$typeof===e},Re.isForwardRef=function(L){return O(L)===m},Re.isFragment=function(L){return O(L)===n},Re.isLazy=function(L){return O(L)===C},Re.isMemo=function(L){return O(L)===E},Re.isPortal=function(L){return O(L)===t},Re.isProfiler=function(L){return O(L)===i},Re.isStrictMode=function(L){return O(L)===o},Re.isSuspense=function(L){return O(L)===x},Re.isValidElementType=function(L){return typeof L=="string"||typeof L=="function"||L===n||L===y||L===i||L===o||L===x||L===B||typeof L=="object"&&L!==null&&(L.$$typeof===C||L.$$typeof===E||L.$$typeof===c||L.$$typeof===u||L.$$typeof===m||L.$$typeof===R||L.$$typeof===D||L.$$typeof===F||L.$$typeof===k)},Re.typeOf=O,Re}var Le={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ma;function Ll(){return Ma||(Ma=1,process.env.NODE_ENV!=="production"&&function(){var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,n=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,i=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,y=r?Symbol.for("react.concurrent_mode"):60111,m=r?Symbol.for("react.forward_ref"):60112,x=r?Symbol.for("react.suspense"):60113,B=r?Symbol.for("react.suspense_list"):60120,E=r?Symbol.for("react.memo"):60115,C=r?Symbol.for("react.lazy"):60116,k=r?Symbol.for("react.block"):60121,R=r?Symbol.for("react.fundamental"):60117,D=r?Symbol.for("react.responder"):60118,F=r?Symbol.for("react.scope"):60119;function O(V){return typeof V=="string"||typeof V=="function"||V===n||V===y||V===i||V===o||V===x||V===B||typeof V=="object"&&V!==null&&(V.$$typeof===C||V.$$typeof===E||V.$$typeof===c||V.$$typeof===u||V.$$typeof===m||V.$$typeof===R||V.$$typeof===D||V.$$typeof===F||V.$$typeof===k)}function z(V){if(typeof V=="object"&&V!==null){var We=V.$$typeof;switch(We){case e:var Ie=V.type;switch(Ie){case h:case y:case n:case i:case o:case x:return Ie;default:var je=Ie&&Ie.$$typeof;switch(je){case u:case m:case C:case E:case c:return je;default:return We}}case t:return We}}}var L=h,H=y,j=u,q=c,he=e,Me=m,ye=n,Be=C,M=E,l=t,g=i,b=o,w=x,S=!1;function U(V){return S||(S=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),T(V)||z(V)===h}function T(V){return z(V)===y}function v(V){return z(V)===u}function d(V){return z(V)===c}function _(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function Q(V){return z(V)===m}function $(V){return z(V)===n}function Z(V){return z(V)===C}function se(V){return z(V)===E}function ee(V){return z(V)===t}function ce(V){return z(V)===i}function ve(V){return z(V)===o}function xe(V){return z(V)===x}Le.AsyncMode=L,Le.ConcurrentMode=H,Le.ContextConsumer=j,Le.ContextProvider=q,Le.Element=he,Le.ForwardRef=Me,Le.Fragment=ye,Le.Lazy=Be,Le.Memo=M,Le.Portal=l,Le.Profiler=g,Le.StrictMode=b,Le.Suspense=w,Le.isAsyncMode=U,Le.isConcurrentMode=T,Le.isContextConsumer=v,Le.isContextProvider=d,Le.isElement=_,Le.isForwardRef=Q,Le.isFragment=$,Le.isLazy=Z,Le.isMemo=se,Le.isPortal=ee,Le.isProfiler=ce,Le.isStrictMode=ve,Le.isSuspense=xe,Le.isValidElementType=O,Le.typeOf=z}()),Le}var Ba;function Ta(){return Ba||(Ba=1,function(r){process.env.NODE_ENV==="production"?r.exports=Rl():r.exports=Ll()}(po)),po.exports}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var go,Ca;function Ul(){if(Ca)return go;Ca=1;var r=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function n(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function o(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var c={},u=0;u<10;u++)c["_"+String.fromCharCode(u)]=u;var h=Object.getOwnPropertyNames(c).map(function(m){return c[m]});if(h.join("")!=="0123456789")return!1;var y={};return"abcdefghijklmnopqrst".split("").forEach(function(m){y[m]=m}),Object.keys(Object.assign({},y)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return go=o()?Object.assign:function(i,c){for(var u,h=n(i),y,m=1;m<arguments.length;m++){u=Object(arguments[m]);for(var x in u)e.call(u,x)&&(h[x]=u[x]);if(r){y=r(u);for(var B=0;B<y.length;B++)t.call(u,y[B])&&(h[y[B]]=u[y[B]])}}return h},go}var yo,ka;function wo(){if(ka)return yo;ka=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return yo=r,yo}var mo,Na;function Oa(){return Na||(Na=1,mo=Function.call.bind(Object.prototype.hasOwnProperty)),mo}var bo,Ra;function Pl(){if(Ra)return bo;Ra=1;var r=function(){};if(process.env.NODE_ENV!=="production"){var e=wo(),t={},n=Oa();r=function(i){var c="Warning: "+i;typeof console<"u"&&console.error(c);try{throw new Error(c)}catch{}}}function o(i,c,u,h,y){if(process.env.NODE_ENV!=="production"){for(var m in i)if(n(i,m)){var x;try{if(typeof i[m]!="function"){var B=Error((h||"React class")+": "+u+" type `"+m+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof i[m]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw B.name="Invariant Violation",B}x=i[m](c,m,h,u,null,e)}catch(C){x=C}if(x&&!(x instanceof Error)&&r((h||"React class")+": type specification of "+u+" `"+m+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof x+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),x instanceof Error&&!(x.message in t)){t[x.message]=!0;var E=y?y():"";r("Failed "+u+" type: "+x.message+(E!=null?E:""))}}}}return o.resetWarningCache=function(){process.env.NODE_ENV!=="production"&&(t={})},bo=o,bo}var vo,La;function Dl(){if(La)return vo;La=1;var r=Ta(),e=Ul(),t=wo(),n=Oa(),o=Pl(),i=function(){};process.env.NODE_ENV!=="production"&&(i=function(u){var h="Warning: "+u;typeof console<"u"&&console.error(h);try{throw new Error(h)}catch{}});function c(){return null}return vo=function(u,h){var y=typeof Symbol=="function"&&Symbol.iterator,m="@@iterator";function x(T){var v=T&&(y&&T[y]||T[m]);if(typeof v=="function")return v}var B="<<anonymous>>",E={array:D("array"),bigint:D("bigint"),bool:D("boolean"),func:D("function"),number:D("number"),object:D("object"),string:D("string"),symbol:D("symbol"),any:F(),arrayOf:O,element:z(),elementType:L(),instanceOf:H,node:Me(),objectOf:q,oneOf:j,oneOfType:he,shape:Be,exact:M};function C(T,v){return T===v?T!==0||1/T===1/v:T!==T&&v!==v}function k(T,v){this.message=T,this.data=v&&typeof v=="object"?v:{},this.stack=""}k.prototype=Error.prototype;function R(T){if(process.env.NODE_ENV!=="production")var v={},d=0;function _($,Z,se,ee,ce,ve,xe){if(ee=ee||B,ve=ve||se,xe!==t){if(h){var V=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw V.name="Invariant Violation",V}else if(process.env.NODE_ENV!=="production"&&typeof console<"u"){var We=ee+":"+se;!v[We]&&d<3&&(i("You are manually calling a React.PropTypes validation function for the `"+ve+"` prop on `"+ee+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),v[We]=!0,d++)}}return Z[se]==null?$?Z[se]===null?new k("The "+ce+" `"+ve+"` is marked as required "+("in `"+ee+"`, but its value is `null`.")):new k("The "+ce+" `"+ve+"` is marked as required in "+("`"+ee+"`, but its value is `undefined`.")):null:T(Z,se,ee,ce,ve)}var Q=_.bind(null,!1);return Q.isRequired=_.bind(null,!0),Q}function D(T){function v(d,_,Q,$,Z,se){var ee=d[_],ce=b(ee);if(ce!==T){var ve=w(ee);return new k("Invalid "+$+" `"+Z+"` of type "+("`"+ve+"` supplied to `"+Q+"`, expected ")+("`"+T+"`."),{expectedType:T})}return null}return R(v)}function F(){return R(c)}function O(T){function v(d,_,Q,$,Z){if(typeof T!="function")return new k("Property `"+Z+"` of component `"+Q+"` has invalid PropType notation inside arrayOf.");var se=d[_];if(!Array.isArray(se)){var ee=b(se);return new k("Invalid "+$+" `"+Z+"` of type "+("`"+ee+"` supplied to `"+Q+"`, expected an array."))}for(var ce=0;ce<se.length;ce++){var ve=T(se,ce,Q,$,Z+"["+ce+"]",t);if(ve instanceof Error)return ve}return null}return R(v)}function z(){function T(v,d,_,Q,$){var Z=v[d];if(!u(Z)){var se=b(Z);return new k("Invalid "+Q+" `"+$+"` of type "+("`"+se+"` supplied to `"+_+"`, expected a single ReactElement."))}return null}return R(T)}function L(){function T(v,d,_,Q,$){var Z=v[d];if(!r.isValidElementType(Z)){var se=b(Z);return new k("Invalid "+Q+" `"+$+"` of type "+("`"+se+"` supplied to `"+_+"`, expected a single ReactElement type."))}return null}return R(T)}function H(T){function v(d,_,Q,$,Z){if(!(d[_]instanceof T)){var se=T.name||B,ee=U(d[_]);return new k("Invalid "+$+" `"+Z+"` of type "+("`"+ee+"` supplied to `"+Q+"`, expected ")+("instance of `"+se+"`."))}return null}return R(v)}function j(T){if(!Array.isArray(T))return process.env.NODE_ENV!=="production"&&(arguments.length>1?i("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):i("Invalid argument supplied to oneOf, expected an array.")),c;function v(d,_,Q,$,Z){for(var se=d[_],ee=0;ee<T.length;ee++)if(C(se,T[ee]))return null;var ce=JSON.stringify(T,function(xe,V){var We=w(V);return We==="symbol"?String(V):V});return new k("Invalid "+$+" `"+Z+"` of value `"+String(se)+"` "+("supplied to `"+Q+"`, expected one of "+ce+"."))}return R(v)}function q(T){function v(d,_,Q,$,Z){if(typeof T!="function")return new k("Property `"+Z+"` of component `"+Q+"` has invalid PropType notation inside objectOf.");var se=d[_],ee=b(se);if(ee!=="object")return new k("Invalid "+$+" `"+Z+"` of type "+("`"+ee+"` supplied to `"+Q+"`, expected an object."));for(var ce in se)if(n(se,ce)){var ve=T(se,ce,Q,$,Z+"."+ce,t);if(ve instanceof Error)return ve}return null}return R(v)}function he(T){if(!Array.isArray(T))return process.env.NODE_ENV!=="production"&&i("Invalid argument supplied to oneOfType, expected an instance of array."),c;for(var v=0;v<T.length;v++){var d=T[v];if(typeof d!="function")return i("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+S(d)+" at index "+v+"."),c}function _(Q,$,Z,se,ee){for(var ce=[],ve=0;ve<T.length;ve++){var xe=T[ve],V=xe(Q,$,Z,se,ee,t);if(V==null)return null;V.data&&n(V.data,"expectedType")&&ce.push(V.data.expectedType)}var We=ce.length>0?", expected one of type ["+ce.join(", ")+"]":"";return new k("Invalid "+se+" `"+ee+"` supplied to "+("`"+Z+"`"+We+"."))}return R(_)}function Me(){function T(v,d,_,Q,$){return l(v[d])?null:new k("Invalid "+Q+" `"+$+"` supplied to "+("`"+_+"`, expected a ReactNode."))}return R(T)}function ye(T,v,d,_,Q){return new k((T||"React class")+": "+v+" type `"+d+"."+_+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+Q+"`.")}function Be(T){function v(d,_,Q,$,Z){var se=d[_],ee=b(se);if(ee!=="object")return new k("Invalid "+$+" `"+Z+"` of type `"+ee+"` "+("supplied to `"+Q+"`, expected `object`."));for(var ce in T){var ve=T[ce];if(typeof ve!="function")return ye(Q,$,Z,ce,w(ve));var xe=ve(se,ce,Q,$,Z+"."+ce,t);if(xe)return xe}return null}return R(v)}function M(T){function v(d,_,Q,$,Z){var se=d[_],ee=b(se);if(ee!=="object")return new k("Invalid "+$+" `"+Z+"` of type `"+ee+"` "+("supplied to `"+Q+"`, expected `object`."));var ce=e({},d[_],T);for(var ve in ce){var xe=T[ve];if(n(T,ve)&&typeof xe!="function")return ye(Q,$,Z,ve,w(xe));if(!xe)return new k("Invalid "+$+" `"+Z+"` key `"+ve+"` supplied to `"+Q+"`.\nBad object: "+JSON.stringify(d[_],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(T),null,"  "));var V=xe(se,ve,Q,$,Z+"."+ve,t);if(V)return V}return null}return R(v)}function l(T){switch(typeof T){case"number":case"string":case"undefined":return!0;case"boolean":return!T;case"object":if(Array.isArray(T))return T.every(l);if(T===null||u(T))return!0;var v=x(T);if(v){var d=v.call(T),_;if(v!==T.entries){for(;!(_=d.next()).done;)if(!l(_.value))return!1}else for(;!(_=d.next()).done;){var Q=_.value;if(Q&&!l(Q[1]))return!1}}else return!1;return!0;default:return!1}}function g(T,v){return T==="symbol"?!0:v?v["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&v instanceof Symbol:!1}function b(T){var v=typeof T;return Array.isArray(T)?"array":T instanceof RegExp?"object":g(v,T)?"symbol":v}function w(T){if(typeof T>"u"||T===null)return""+T;var v=b(T);if(v==="object"){if(T instanceof Date)return"date";if(T instanceof RegExp)return"regexp"}return v}function S(T){var v=w(T);switch(v){case"array":case"object":return"an "+v;case"boolean":case"date":case"regexp":return"a "+v;default:return v}}function U(T){return!T.constructor||!T.constructor.name?B:T.constructor.name}return E.checkPropTypes=o,E.resetWarningCache=o.resetWarningCache,E.PropTypes=E,E},vo}var Ao,Ua;function Fl(){if(Ua)return Ao;Ua=1;var r=wo();function e(){}function t(){}return t.resetWarningCache=e,Ao=function(){function n(c,u,h,y,m,x){if(x!==r){var B=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw B.name="Invariant Violation",B}}n.isRequired=n;function o(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return i.PropTypes=i,i},Ao}if(process.env.NODE_ENV!=="production"){var zl=Ta(),Hl=!0;ci.exports=Dl()(zl.isElement,Hl)}else ci.exports=Fl()();var Eo={exports:{}},nn={},ui={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=m;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var t="none",n="contents",o=/input|select|textarea|button|object|iframe/;function i(x,B){return B.getPropertyValue("overflow")!=="visible"||x.scrollWidth<=0&&x.scrollHeight<=0}function c(x){var B=x.offsetWidth<=0&&x.offsetHeight<=0;if(B&&!x.innerHTML)return!0;try{var E=window.getComputedStyle(x),C=E.getPropertyValue("display");return B?C!==n&&i(x,E):C===t}catch{return console.warn("Failed to inspect element style"),!1}}function u(x){for(var B=x,E=x.getRootNode&&x.getRootNode();B&&B!==document.body;){if(E&&B===E&&(B=E.host.parentNode),c(B))return!1;B=B.parentNode}return!0}function h(x,B){var E=x.nodeName.toLowerCase(),C=o.test(E)&&!x.disabled||E==="a"&&x.href||B;return C&&u(x)}function y(x){var B=x.getAttribute("tabindex");B===null&&(B=void 0);var E=isNaN(B);return(E||B>=0)&&h(x,!E)}function m(x){var B=[].slice.call(x.querySelectorAll("*"),0).reduce(function(E,C){return E.concat(C.shadowRoot?m(C.shadowRoot):[C])},[]);return B.filter(y)}r.exports=e.default})(ui,ui.exports),Object.defineProperty(nn,"__esModule",{value:!0}),nn.resetState=ql,nn.log=Ql,nn.handleBlur=Tr,nn.handleFocus=Cr,nn.markForFocusLater=Kl,nn.returnFocus=Yl,nn.popWithoutFocus=Vl,nn.setupScopedFocus=Zl,nn.teardownScopedFocus=$l;var Wl=ui.exports,jl=Gl(Wl);function Gl(r){return r&&r.__esModule?r:{default:r}}var Fn=[],or=null,xo=!1;function ql(){Fn=[]}function Ql(){process.env.NODE_ENV!=="production"&&(console.log("focusManager ----------"),Fn.forEach(function(r){var e=r||{};console.log(e.nodeName,e.className,e.id)}),console.log("end focusManager ----------"))}function Tr(){xo=!0}function Cr(){if(xo){if(xo=!1,!or)return;setTimeout(function(){if(!or.contains(document.activeElement)){var r=(0,jl.default)(or)[0]||or;r.focus()}},0)}}function Kl(){Fn.push(document.activeElement)}function Yl(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{Fn.length!==0&&(e=Fn.pop(),e.focus({preventScroll:r}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function Vl(){Fn.length>0&&Fn.pop()}function Zl(r){or=r,window.addEventListener?(window.addEventListener("blur",Tr,!1),document.addEventListener("focus",Cr,!0)):(window.attachEvent("onBlur",Tr),document.attachEvent("onFocus",Cr))}function $l(){or=null,window.addEventListener?(window.removeEventListener("blur",Tr),document.removeEventListener("focus",Cr)):(window.detachEvent("onBlur",Tr),document.detachEvent("onFocus",Cr))}var So={exports:{}};(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var t=ui.exports,n=o(t);function o(u){return u&&u.__esModule?u:{default:u}}function i(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return u.activeElement.shadowRoot?i(u.activeElement.shadowRoot):u.activeElement}function c(u,h){var y=(0,n.default)(u);if(!y.length){h.preventDefault();return}var m=void 0,x=h.shiftKey,B=y[0],E=y[y.length-1],C=i();if(u===C){if(!x)return;m=E}if(E===C&&!x&&(m=B),B===C&&x&&(m=E),m){h.preventDefault(),m.focus();return}var k=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),R=k!=null&&k[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(!!R){var D=y.indexOf(C);if(D>-1&&(D+=x?-1:1),m=y[D],typeof m>"u"){h.preventDefault(),m=x?E:B,m.focus();return}h.preventDefault(),m.focus()}}r.exports=e.default})(So,So.exports);var rn={},Xl=process.env.NODE_ENV!=="production",Pa=function(){};if(Xl){var Jl=function(e,t){var n=arguments.length;t=new Array(n>1?n-1:0);for(var o=1;o<n;o++)t[o-1]=arguments[o];var i=0,c="Warning: "+e.replace(/%s/g,function(){return t[i++]});typeof console<"u"&&console.error(c);try{throw new Error(c)}catch{}};Pa=function(r,e,t){var n=arguments.length;t=new Array(n>2?n-2:0);for(var o=2;o<n;o++)t[o-2]=arguments[o];if(e===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");r||Jl.apply(null,[e].concat(t))}}var ef=Pa,on={},Da={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(r){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};r.exports?r.exports=t:window.ExecutionEnvironment=t})()})(Da),Object.defineProperty(on,"__esModule",{value:!0}),on.canUseDOM=on.SafeNodeList=on.SafeHTMLCollection=void 0;var tf=Da.exports,nf=rf(tf);function rf(r){return r&&r.__esModule?r:{default:r}}var li=nf.default,of=li.canUseDOM?window.HTMLElement:{};on.SafeHTMLCollection=li.canUseDOM?window.HTMLCollection:{},on.SafeNodeList=li.canUseDOM?window.NodeList:{},on.canUseDOM=li.canUseDOM,on.default=of,Object.defineProperty(rn,"__esModule",{value:!0}),rn.resetState=lf,rn.log=ff,rn.assertNodeList=Fa,rn.setElement=hf,rn.validateElement=Io,rn.hide=df,rn.show=pf,rn.documentNotReadyOrSSRTesting=gf;var sf=ef,af=uf(sf),cf=on;function uf(r){return r&&r.__esModule?r:{default:r}}var jt=null;function lf(){jt&&(jt.removeAttribute?jt.removeAttribute("aria-hidden"):jt.length!=null?jt.forEach(function(r){return r.removeAttribute("aria-hidden")}):document.querySelectorAll(jt).forEach(function(r){return r.removeAttribute("aria-hidden")})),jt=null}function ff(){if(process.env.NODE_ENV!=="production"){var r=jt||{};console.log("ariaAppHider ----------"),console.log(r.nodeName,r.className,r.id),console.log("end ariaAppHider ----------")}}function Fa(r,e){if(!r||!r.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function hf(r){var e=r;if(typeof e=="string"&&cf.canUseDOM){var t=document.querySelectorAll(e);Fa(t,e),e=t}return jt=e||jt,jt}function Io(r){var e=r||jt;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,af.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function df(r){var e=!0,t=!1,n=void 0;try{for(var o=Io(r)[Symbol.iterator](),i;!(e=(i=o.next()).done);e=!0){var c=i.value;c.setAttribute("aria-hidden","true")}}catch(u){t=!0,n=u}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}}function pf(r){var e=!0,t=!1,n=void 0;try{for(var o=Io(r)[Symbol.iterator](),i;!(e=(i=o.next()).done);e=!0){var c=i.value;c.removeAttribute("aria-hidden")}}catch(u){t=!0,n=u}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}}function gf(){jt=null}var sr={};Object.defineProperty(sr,"__esModule",{value:!0}),sr.resetState=yf,sr.log=wf;var zn={},Hn={};function za(r,e){r.classList.remove(e)}function yf(){var r=document.getElementsByTagName("html")[0];for(var e in zn)za(r,zn[e]);var t=document.body;for(var n in Hn)za(t,Hn[n]);zn={},Hn={}}function wf(){if(process.env.NODE_ENV!=="production"){var r=document.getElementsByTagName("html")[0].className,e=`Show tracked classes:

`;e+="<html /> ("+r+`):
  `;for(var t in zn)e+="  "+t+" "+zn[t]+`
  `;r=document.body.className,e+=`

doc.body (`+r+`):
  `;for(var n in Hn)e+="  "+n+" "+Hn[n]+`
  `;e+=`
`,console.log(e)}}var mf=function(e,t){return e[t]||(e[t]=0),e[t]+=1,t},bf=function(e,t){return e[t]&&(e[t]-=1),t},vf=function(e,t,n){n.forEach(function(o){mf(t,o),e.add(o)})},Af=function(e,t,n){n.forEach(function(o){bf(t,o),t[o]===0&&e.remove(o)})};sr.add=function(e,t){return vf(e.classList,e.nodeName.toLowerCase()=="html"?zn:Hn,t.split(" "))},sr.remove=function(e,t){return Af(e.classList,e.nodeName.toLowerCase()=="html"?zn:Hn,t.split(" "))};var ar={};Object.defineProperty(ar,"__esModule",{value:!0}),ar.log=xf,ar.resetState=Sf;function Ef(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var Ha=function r(){var e=this;Ef(this,r),this.register=function(t){if(e.openInstances.indexOf(t)!==-1){process.env.NODE_ENV!=="production"&&console.warn("React-Modal: Cannot register modal instance that's already open");return}e.openInstances.push(t),e.emit("register")},this.deregister=function(t){var n=e.openInstances.indexOf(t);if(n===-1){process.env.NODE_ENV!=="production"&&console.warn("React-Modal: Unable to deregister "+t+" as it was never registered");return}e.openInstances.splice(n,1),e.emit("deregister")},this.subscribe=function(t){e.subscribers.push(t)},this.emit=function(t){e.subscribers.forEach(function(n){return n(t,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},fi=new Ha;function xf(){console.log("portalOpenInstances ----------"),console.log(fi.openInstances.length),fi.openInstances.forEach(function(r){return console.log(r)}),console.log("end portalOpenInstances ----------")}function Sf(){fi=new Ha}ar.default=fi;var _o={};Object.defineProperty(_o,"__esModule",{value:!0}),_o.resetState=Bf,_o.log=Tf;var If=ar,_f=Mf(If);function Mf(r){return r&&r.__esModule?r:{default:r}}var Nt=void 0,sn=void 0,Wn=[];function Bf(){for(var r=[Nt,sn],e=0;e<r.length;e++){var t=r[e];!t||t.parentNode&&t.parentNode.removeChild(t)}Nt=sn=null,Wn=[]}function Tf(){console.log("bodyTrap ----------"),console.log(Wn.length);for(var r=[Nt,sn],e=0;e<r.length;e++){var t=r[e],n=t||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")}function Wa(){if(Wn.length===0){process.env.NODE_ENV!=="production"&&console.warn("React-Modal: Open instances > 0 expected");return}Wn[Wn.length-1].focusContent()}function Cf(r,e){!Nt&&!sn&&(Nt=document.createElement("div"),Nt.setAttribute("data-react-modal-body-trap",""),Nt.style.position="absolute",Nt.style.opacity="0",Nt.setAttribute("tabindex","0"),Nt.addEventListener("focus",Wa),sn=Nt.cloneNode(),sn.addEventListener("focus",Wa)),Wn=e,Wn.length>0?(document.body.firstChild!==Nt&&document.body.insertBefore(Nt,document.body.firstChild),document.body.lastChild!==sn&&document.body.appendChild(sn)):(Nt.parentElement&&Nt.parentElement.removeChild(Nt),sn.parentElement&&sn.parentElement.removeChild(sn))}_f.default.subscribe(Cf),function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Object.assign||function(l){for(var g=1;g<arguments.length;g++){var b=arguments[g];for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(l[w]=b[w])}return l},n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},o=function(){function l(g,b){for(var w=0;w<b.length;w++){var S=b[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,b,w){return b&&l(g.prototype,b),w&&l(g,w),g}}(),i=P.default,c=ci.exports,u=L(c),h=nn,y=z(h),m=So.exports,x=L(m),B=rn,E=z(B),C=sr,k=z(C),R=on,D=L(R),F=ar,O=L(F);function z(l){if(l&&l.__esModule)return l;var g={};if(l!=null)for(var b in l)Object.prototype.hasOwnProperty.call(l,b)&&(g[b]=l[b]);return g.default=l,g}function L(l){return l&&l.__esModule?l:{default:l}}function H(l,g){if(!(l instanceof g))throw new TypeError("Cannot call a class as a function")}function j(l,g){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:l}function q(l,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);l.prototype=Object.create(g&&g.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(l,g):l.__proto__=g)}var he={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},Me=function(g){return g.code==="Tab"||g.keyCode===9},ye=function(g){return g.code==="Escape"||g.keyCode===27},Be=0,M=function(l){q(g,l);function g(b){H(this,g);var w=j(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,b));return w.setOverlayRef=function(S){w.overlay=S,w.props.overlayRef&&w.props.overlayRef(S)},w.setContentRef=function(S){w.content=S,w.props.contentRef&&w.props.contentRef(S)},w.afterClose=function(){var S=w.props,U=S.appElement,T=S.ariaHideApp,v=S.htmlOpenClassName,d=S.bodyOpenClassName,_=S.parentSelector,Q=_&&_().ownerDocument||document;d&&k.remove(Q.body,d),v&&k.remove(Q.getElementsByTagName("html")[0],v),T&&Be>0&&(Be-=1,Be===0&&E.show(U)),w.props.shouldFocusAfterRender&&(w.props.shouldReturnFocusAfterClose?(y.returnFocus(w.props.preventScroll),y.teardownScopedFocus()):y.popWithoutFocus()),w.props.onAfterClose&&w.props.onAfterClose(),O.default.deregister(w)},w.open=function(){w.beforeOpen(),w.state.afterOpen&&w.state.beforeClose?(clearTimeout(w.closeTimer),w.setState({beforeClose:!1})):(w.props.shouldFocusAfterRender&&(y.setupScopedFocus(w.node),y.markForFocusLater()),w.setState({isOpen:!0},function(){w.openAnimationFrame=requestAnimationFrame(function(){w.setState({afterOpen:!0}),w.props.isOpen&&w.props.onAfterOpen&&w.props.onAfterOpen({overlayEl:w.overlay,contentEl:w.content})})}))},w.close=function(){w.props.closeTimeoutMS>0?w.closeWithTimeout():w.closeWithoutTimeout()},w.focusContent=function(){return w.content&&!w.contentHasFocus()&&w.content.focus({preventScroll:!0})},w.closeWithTimeout=function(){var S=Date.now()+w.props.closeTimeoutMS;w.setState({beforeClose:!0,closesAt:S},function(){w.closeTimer=setTimeout(w.closeWithoutTimeout,w.state.closesAt-Date.now())})},w.closeWithoutTimeout=function(){w.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},w.afterClose)},w.handleKeyDown=function(S){Me(S)&&(0,x.default)(w.content,S),w.props.shouldCloseOnEsc&&ye(S)&&(S.stopPropagation(),w.requestClose(S))},w.handleOverlayOnClick=function(S){w.shouldClose===null&&(w.shouldClose=!0),w.shouldClose&&w.props.shouldCloseOnOverlayClick&&(w.ownerHandlesClose()?w.requestClose(S):w.focusContent()),w.shouldClose=null},w.handleContentOnMouseUp=function(){w.shouldClose=!1},w.handleOverlayOnMouseDown=function(S){!w.props.shouldCloseOnOverlayClick&&S.target==w.overlay&&S.preventDefault()},w.handleContentOnClick=function(){w.shouldClose=!1},w.handleContentOnMouseDown=function(){w.shouldClose=!1},w.requestClose=function(S){return w.ownerHandlesClose()&&w.props.onRequestClose(S)},w.ownerHandlesClose=function(){return w.props.onRequestClose},w.shouldBeClosed=function(){return!w.state.isOpen&&!w.state.beforeClose},w.contentHasFocus=function(){return document.activeElement===w.content||w.content.contains(document.activeElement)},w.buildClassName=function(S,U){var T=(typeof U>"u"?"undefined":n(U))==="object"?U:{base:he[S],afterOpen:he[S]+"--after-open",beforeClose:he[S]+"--before-close"},v=T.base;return w.state.afterOpen&&(v=v+" "+T.afterOpen),w.state.beforeClose&&(v=v+" "+T.beforeClose),typeof U=="string"&&U?v+" "+U:v},w.attributesFromObject=function(S,U){return Object.keys(U).reduce(function(T,v){return T[S+"-"+v]=U[v],T},{})},w.state={afterOpen:!1,beforeClose:!1},w.shouldClose=null,w.moveFromContentToOverlay=null,w}return o(g,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(w,S){process.env.NODE_ENV!=="production"&&(w.bodyOpenClassName!==this.props.bodyOpenClassName&&console.warn('React-Modal: "bodyOpenClassName" prop has been modified. This may cause unexpected behavior when multiple modals are open.'),w.htmlOpenClassName!==this.props.htmlOpenClassName&&console.warn('React-Modal: "htmlOpenClassName" prop has been modified. This may cause unexpected behavior when multiple modals are open.')),this.props.isOpen&&!w.isOpen?this.open():!this.props.isOpen&&w.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!S.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var w=this.props,S=w.appElement,U=w.ariaHideApp,T=w.htmlOpenClassName,v=w.bodyOpenClassName,d=w.parentSelector,_=d&&d().ownerDocument||document;v&&k.add(_.body,v),T&&k.add(_.getElementsByTagName("html")[0],T),U&&(Be+=1,E.hide(S)),O.default.register(this)}},{key:"render",value:function(){var w=this.props,S=w.id,U=w.className,T=w.overlayClassName,v=w.defaultStyles,d=w.children,_=U?{}:v.content,Q=T?{}:v.overlay;if(this.shouldBeClosed())return null;var $={ref:this.setOverlayRef,className:this.buildClassName("overlay",T),style:t({},Q,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Z=t({id:S,ref:this.setContentRef,style:t({},_,this.props.style.content),className:this.buildClassName("content",U),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",t({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),se=this.props.contentElement(Z,d);return this.props.overlayElement($,se)}}]),g}(i.Component);M.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},M.propTypes={isOpen:u.default.bool.isRequired,defaultStyles:u.default.shape({content:u.default.object,overlay:u.default.object}),style:u.default.shape({content:u.default.object,overlay:u.default.object}),className:u.default.oneOfType([u.default.string,u.default.object]),overlayClassName:u.default.oneOfType([u.default.string,u.default.object]),parentSelector:u.default.func,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,ariaHideApp:u.default.bool,appElement:u.default.oneOfType([u.default.instanceOf(D.default),u.default.instanceOf(R.SafeHTMLCollection),u.default.instanceOf(R.SafeNodeList),u.default.arrayOf(u.default.instanceOf(D.default))]),onAfterOpen:u.default.func,onAfterClose:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,preventScroll:u.default.bool,role:u.default.string,contentLabel:u.default.string,aria:u.default.object,data:u.default.object,children:u.default.node,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,overlayElement:u.default.func,contentElement:u.default.func,testId:u.default.string},e.default=M,r.exports=e.default}(Eo,Eo.exports);function ja(){var r=this.constructor.getDerivedStateFromProps(this.props,this.state);r!=null&&this.setState(r)}function Ga(r){function e(t){var n=this.constructor.getDerivedStateFromProps(r,t);return n!=null?n:null}this.setState(e.bind(this))}function qa(r,e){try{var t=this.props,n=this.state;this.props=r,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,n)}finally{this.props=t,this.state=n}}ja.__suppressDeprecationWarning=!0,Ga.__suppressDeprecationWarning=!0,qa.__suppressDeprecationWarning=!0;function kf(r){var e=r.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof r.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return r;var t=null,n=null,o=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?o="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),t!==null||n!==null||o!==null){var i=r.displayName||r.name,c=typeof r.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+c+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(n!==null?`
  `+n:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof r.getDerivedStateFromProps=="function"&&(e.componentWillMount=ja,e.componentWillReceiveProps=Ga),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=qa;var u=e.componentDidUpdate;e.componentDidUpdate=function(y,m,x){var B=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:x;u.call(this,y,m,B)}}return r}const Nf=ai(Object.freeze(Object.defineProperty({__proto__:null,polyfill:kf},Symbol.toStringTag,{value:"Module"})));Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.bodyOpenClassName=Dn.portalClassName=void 0;var Qa=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Of=function(){function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),Ka=P.default,hi=kr(Ka),Rf=vl.default,di=kr(Rf),Lf=ci.exports,be=kr(Lf),Uf=Eo.exports,Ya=kr(Uf),Pf=rn,Df=zf(Pf),An=on,Va=kr(An),Ff=Nf;function zf(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function kr(r){return r&&r.__esModule?r:{default:r}}function Hf(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Za(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:r}function Wf(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}var jf=Dn.portalClassName="ReactModalPortal",Gf=Dn.bodyOpenClassName="ReactModal__Body--open",jn=An.canUseDOM&&di.default.createPortal!==void 0,Mo=function(e){return document.createElement(e)},$a=function(){return jn?di.default.createPortal:di.default.unstable_renderSubtreeIntoContainer};function pi(r){return r()}var cr=function(r){Wf(e,r);function e(){var t,n,o,i;Hf(this,e);for(var c=arguments.length,u=Array(c),h=0;h<c;h++)u[h]=arguments[h];return i=(n=(o=Za(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),o),o.removePortal=function(){!jn&&di.default.unmountComponentAtNode(o.node);var y=pi(o.props.parentSelector);y&&y.contains(o.node)?y.removeChild(o.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},o.portalRef=function(y){o.portal=y},o.renderPortal=function(y){var m=$a(),x=m(o,hi.default.createElement(Ya.default,Qa({defaultStyles:e.defaultStyles},y)),o.node);o.portalRef(x)},n),Za(o,i)}return Of(e,[{key:"componentDidMount",value:function(){if(!!An.canUseDOM){jn||(this.node=Mo("div")),this.node.className=this.props.portalClassName;var n=pi(this.props.parentSelector);n.appendChild(this.node),!jn&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(n){var o=pi(n.parentSelector),i=pi(this.props.parentSelector);return{prevParent:o,nextParent:i}}},{key:"componentDidUpdate",value:function(n,o,i){if(!!An.canUseDOM){var c=this.props,u=c.isOpen,h=c.portalClassName;n.portalClassName!==h&&(this.node.className=h);var y=i.prevParent,m=i.nextParent;m!==y&&(y.removeChild(this.node),m.appendChild(this.node)),!(!n.isOpen&&!u)&&!jn&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!An.canUseDOM||!this.node||!this.portal)){var n=this.portal.state,o=Date.now(),i=n.isOpen&&this.props.closeTimeoutMS&&(n.closesAt||o+this.props.closeTimeoutMS);i?(n.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,i-o)):this.removePortal()}}},{key:"render",value:function(){if(!An.canUseDOM||!jn)return null;!this.node&&jn&&(this.node=Mo("div"));var n=$a();return n(hi.default.createElement(Ya.default,Qa({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(n){Df.setElement(n)}}]),e}(Ka.Component);cr.propTypes={isOpen:be.default.bool.isRequired,style:be.default.shape({content:be.default.object,overlay:be.default.object}),portalClassName:be.default.string,bodyOpenClassName:be.default.string,htmlOpenClassName:be.default.string,className:be.default.oneOfType([be.default.string,be.default.shape({base:be.default.string.isRequired,afterOpen:be.default.string.isRequired,beforeClose:be.default.string.isRequired})]),overlayClassName:be.default.oneOfType([be.default.string,be.default.shape({base:be.default.string.isRequired,afterOpen:be.default.string.isRequired,beforeClose:be.default.string.isRequired})]),appElement:be.default.oneOfType([be.default.instanceOf(Va.default),be.default.instanceOf(An.SafeHTMLCollection),be.default.instanceOf(An.SafeNodeList),be.default.arrayOf(be.default.instanceOf(Va.default))]),onAfterOpen:be.default.func,onRequestClose:be.default.func,closeTimeoutMS:be.default.number,ariaHideApp:be.default.bool,shouldFocusAfterRender:be.default.bool,shouldCloseOnOverlayClick:be.default.bool,shouldReturnFocusAfterClose:be.default.bool,preventScroll:be.default.bool,parentSelector:be.default.func,aria:be.default.object,data:be.default.object,role:be.default.string,contentLabel:be.default.string,shouldCloseOnEsc:be.default.bool,overlayRef:be.default.func,contentRef:be.default.func,id:be.default.string,overlayElement:be.default.func,contentElement:be.default.func},cr.defaultProps={isOpen:!1,portalClassName:jf,bodyOpenClassName:Gf,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return hi.default.createElement("div",e,t)},contentElement:function(e,t){return hi.default.createElement("div",e,t)}},cr.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,Ff.polyfill)(cr),process.env.NODE_ENV!=="production"&&(cr.setCreateHTMLElement=function(r){return Mo=r}),Dn.default=cr,function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Dn,n=o(t);function o(i){return i&&i.__esModule?i:{default:i}}e.default=n.default,r.exports=e.default}(ho,ho.exports);const qf=Ol(ho.exports);function Xa({isOpen:r,onRequestClose:e,title:t,children:n}){return P.default.createElement(qf,{appElement:document.body,isOpen:r,onRequestClose:e,contentLabel:"Open in Phantom Mobile App Modal",overlayClassName:"hypeday-modal-overlay",className:"hypeday-modal-content"},t&&P.default.createElement("h3",{className:"hypeday-h3"},t),P.default.createElement("div",{className:"hypeday-modal-close",onClick:e},"\xD7"),n)}function Qf({projectData:r,appId:e,hasUser:t,logger:n}){var m,x,B;const[o,i]=Y.useState(!1),[c,u]=Y.useState(!1),h=Y.useMemo(()=>{var k,R;if(!((k=r==null?void 0:r.twitter)!=null&&k.enabled))return[];const{twitter:E}=r,C=[];if(E!=null&&E.isFollowRequired){const D=(R=E==null?void 0:E.follow)==null?void 0:R.split(","),F=P.default.createElement(P.default.Fragment,null,P.default.createElement("ul",{className:"hypeday-req-list"},D==null?void 0:D.map(O=>P.default.createElement("li",{key:O,className:"hypeday-req-list-item"},P.default.createElement("span",null,"Follow ",P.default.createElement("strong",null,"@",O)," on Twitter"),P.default.createElement("a",{href:`https://twitter.com/${O.trim()}`,target:"_blank",rel:"noreferrer",className:"hypeday-button-gray"},"Follow")))));C.push(F)}if(E!=null&&E.isRetweetRequired){const D=P.default.createElement(P.default.Fragment,null,P.default.createElement("div",{className:"hypeday-req-list-item"},P.default.createElement("div",null,"Retweet"," ",P.default.createElement("a",{href:E.retweetUrl,className:"hypeday-a-text-decoration-none",target:"_blank",rel:"noreferrer"},P.default.createElement("strong",null,"this"))," ","on Twitter"),P.default.createElement("a",{href:E.retweetUrl,target:"_blank",rel:"noreferrer",className:"hypeday-button-gray"},"Retweet")));C.push(D)}if(E!=null&&E.isAccountCreatedRequired){const D=P.default.createElement(P.default.Fragment,null,"Have an account created before"," ",P.default.createElement("strong",null,new Date((E==null?void 0:E.accountCreated)||"").toLocaleDateString()));C.push(D)}if(E!=null&&E.isMinFollowersRequired){const D=P.default.createElement(P.default.Fragment,null,"Have at least ",P.default.createElement("b",null,E.minFollowers," follower(s)"));C.push(D)}return C},[r]),y=async()=>{if(!(!e||!t||!(r!=null&&r.id)))try{i(!0);const{url:E}=await Ea({provider:"twitter",appId:e,projectId:r.id,returnUrl:window.location.href});fo()&&(window.open(E,"_blank"),window.open(E,"_blank")),window.location.assign(E)}catch(E){console.error(E),n==null||n.error("HypeDayReact: Error getting Twitter oauth url","hype04",E)}finally{i(!1)}};return(m=r==null?void 0:r.twitter)!=null&&m.enabled?P.default.createElement(P.default.Fragment,null,P.default.createElement(Xa,{isOpen:c,onRequestClose:()=>u(!1)},P.default.createElement("p",{className:"hypeday-modal-p"},"Next, you will be redirected to Twitter to complete the connection request. Please ignore the 'Open in the app' prompts and stay in the browser. Twitter app does not support establishing/authorizing connections in the app."),P.default.createElement("button",{className:"hypeday-button hypeday-modal-button",onClick:()=>{u(!1),y()}},"Ok")),P.default.createElement(co,{title:"Twitter",onClick:()=>{if(fo())return u(!0);y()},info:h,rightText:(B=(x=r==null?void 0:r.userInfo)==null?void 0:x.twitter)==null?void 0:B.username,buttonDisabled:!t,isLoading:o})):null}var Ae={},Nr={};Nr.byteLength=Vf,Nr.toByteArray=$f,Nr.fromByteArray=eh;for(var fn=[],Yt=[],Kf=typeof Uint8Array<"u"?Uint8Array:Array,Bo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ur=0,Yf=Bo.length;ur<Yf;++ur)fn[ur]=Bo[ur],Yt[Bo.charCodeAt(ur)]=ur;Yt["-".charCodeAt(0)]=62,Yt["_".charCodeAt(0)]=63;function Ja(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function Vf(r){var e=Ja(r),t=e[0],n=e[1];return(t+n)*3/4-n}function Zf(r,e,t){return(e+t)*3/4-t}function $f(r){var e,t=Ja(r),n=t[0],o=t[1],i=new Kf(Zf(r,n,o)),c=0,u=o>0?n-4:n,h;for(h=0;h<u;h+=4)e=Yt[r.charCodeAt(h)]<<18|Yt[r.charCodeAt(h+1)]<<12|Yt[r.charCodeAt(h+2)]<<6|Yt[r.charCodeAt(h+3)],i[c++]=e>>16&255,i[c++]=e>>8&255,i[c++]=e&255;return o===2&&(e=Yt[r.charCodeAt(h)]<<2|Yt[r.charCodeAt(h+1)]>>4,i[c++]=e&255),o===1&&(e=Yt[r.charCodeAt(h)]<<10|Yt[r.charCodeAt(h+1)]<<4|Yt[r.charCodeAt(h+2)]>>2,i[c++]=e>>8&255,i[c++]=e&255),i}function Xf(r){return fn[r>>18&63]+fn[r>>12&63]+fn[r>>6&63]+fn[r&63]}function Jf(r,e,t){for(var n,o=[],i=e;i<t;i+=3)n=(r[i]<<16&16711680)+(r[i+1]<<8&65280)+(r[i+2]&255),o.push(Xf(n));return o.join("")}function eh(r){for(var e,t=r.length,n=t%3,o=[],i=16383,c=0,u=t-n;c<u;c+=i)o.push(Jf(r,c,c+i>u?u:c+i));return n===1?(e=r[t-1],o.push(fn[e>>2]+fn[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],o.push(fn[e>>10]+fn[e>>4&63]+fn[e<<2&63]+"=")),o.join("")}var gi={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */gi.read=function(r,e,t,n,o){var i,c,u=o*8-n-1,h=(1<<u)-1,y=h>>1,m=-7,x=t?o-1:0,B=t?-1:1,E=r[e+x];for(x+=B,i=E&(1<<-m)-1,E>>=-m,m+=u;m>0;i=i*256+r[e+x],x+=B,m-=8);for(c=i&(1<<-m)-1,i>>=-m,m+=n;m>0;c=c*256+r[e+x],x+=B,m-=8);if(i===0)i=1-y;else{if(i===h)return c?NaN:(E?-1:1)*(1/0);c=c+Math.pow(2,n),i=i-y}return(E?-1:1)*c*Math.pow(2,i-n)},gi.write=function(r,e,t,n,o,i){var c,u,h,y=i*8-o-1,m=(1<<y)-1,x=m>>1,B=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=n?0:i-1,C=n?1:-1,k=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,c=m):(c=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-c))<1&&(c--,h*=2),c+x>=1?e+=B/h:e+=B*Math.pow(2,1-x),e*h>=2&&(c++,h/=2),c+x>=m?(u=0,c=m):c+x>=1?(u=(e*h-1)*Math.pow(2,o),c=c+x):(u=e*Math.pow(2,x-1)*Math.pow(2,o),c=0));o>=8;r[t+E]=u&255,E+=C,u/=256,o-=8);for(c=c<<o|u,y+=o;y>0;r[t+E]=c&255,E+=C,c/=256,y-=8);r[t+E-C]|=k*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=Nr,t=gi,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=u,r.SlowBuffer=F,r.INSPECT_MAX_BYTES=50;const o=2147483647;r.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=i(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const f=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(f,s),f.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function c(f){if(f>o)throw new RangeError('The value "'+f+'" is invalid for option "size"');const s=new Uint8Array(f);return Object.setPrototypeOf(s,u.prototype),s}function u(f,s,a){if(typeof f=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(f)}return h(f,s,a)}u.poolSize=8192;function h(f,s,a){if(typeof f=="string")return B(f,s);if(ArrayBuffer.isView(f))return C(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(Ke(f,ArrayBuffer)||f&&Ke(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ke(f,SharedArrayBuffer)||f&&Ke(f.buffer,SharedArrayBuffer)))return k(f,s,a);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const p=f.valueOf&&f.valueOf();if(p!=null&&p!==f)return u.from(p,s,a);const A=R(f);if(A)return A;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return u.from(f[Symbol.toPrimitive]("string"),s,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}u.from=function(f,s,a){return h(f,s,a)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function y(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function m(f,s,a){return y(f),f<=0?c(f):s!==void 0?typeof a=="string"?c(f).fill(s,a):c(f).fill(s):c(f)}u.alloc=function(f,s,a){return m(f,s,a)};function x(f){return y(f),c(f<0?0:D(f)|0)}u.allocUnsafe=function(f){return x(f)},u.allocUnsafeSlow=function(f){return x(f)};function B(f,s){if((typeof s!="string"||s==="")&&(s="utf8"),!u.isEncoding(s))throw new TypeError("Unknown encoding: "+s);const a=O(f,s)|0;let p=c(a);const A=p.write(f,s);return A!==a&&(p=p.slice(0,A)),p}function E(f){const s=f.length<0?0:D(f.length)|0,a=c(s);for(let p=0;p<s;p+=1)a[p]=f[p]&255;return a}function C(f){if(Ke(f,Uint8Array)){const s=new Uint8Array(f);return k(s.buffer,s.byteOffset,s.byteLength)}return E(f)}function k(f,s,a){if(s<0||f.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<s+(a||0))throw new RangeError('"length" is outside of buffer bounds');let p;return s===void 0&&a===void 0?p=new Uint8Array(f):a===void 0?p=new Uint8Array(f,s):p=new Uint8Array(f,s,a),Object.setPrototypeOf(p,u.prototype),p}function R(f){if(u.isBuffer(f)){const s=D(f.length)|0,a=c(s);return a.length===0||f.copy(a,0,0,s),a}if(f.length!==void 0)return typeof f.length!="number"||He(f.length)?c(0):E(f);if(f.type==="Buffer"&&Array.isArray(f.data))return E(f.data)}function D(f){if(f>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return f|0}function F(f){return+f!=f&&(f=0),u.alloc(+f)}u.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==u.prototype},u.compare=function(s,a){if(Ke(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),Ke(a,Uint8Array)&&(a=u.from(a,a.offset,a.byteLength)),!u.isBuffer(s)||!u.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===a)return 0;let p=s.length,A=a.length;for(let I=0,N=Math.min(p,A);I<N;++I)if(s[I]!==a[I]){p=s[I],A=a[I];break}return p<A?-1:A<p?1:0},u.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(s,a){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return u.alloc(0);let p;if(a===void 0)for(a=0,p=0;p<s.length;++p)a+=s[p].length;const A=u.allocUnsafe(a);let I=0;for(p=0;p<s.length;++p){let N=s[p];if(Ke(N,Uint8Array))I+N.length>A.length?(u.isBuffer(N)||(N=u.from(N)),N.copy(A,I)):Uint8Array.prototype.set.call(A,N,I);else if(u.isBuffer(N))N.copy(A,I);else throw new TypeError('"list" argument must be an Array of Buffers');I+=N.length}return A};function O(f,s){if(u.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||Ke(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);const a=f.length,p=arguments.length>2&&arguments[2]===!0;if(!p&&a===0)return 0;let A=!1;for(;;)switch(s){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return ze(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return Ge(f).length;default:if(A)return p?-1:ze(f).length;s=(""+s).toLowerCase(),A=!0}}u.byteLength=O;function z(f,s,a){let p=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,s>>>=0,a<=s))return"";for(f||(f="utf8");;)switch(f){case"hex":return U(this,s,a);case"utf8":case"utf-8":return l(this,s,a);case"ascii":return w(this,s,a);case"latin1":case"binary":return S(this,s,a);case"base64":return M(this,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,s,a);default:if(p)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),p=!0}}u.prototype._isBuffer=!0;function L(f,s,a){const p=f[s];f[s]=f[a],f[a]=p}u.prototype.swap16=function(){const s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let a=0;a<s;a+=2)L(this,a,a+1);return this},u.prototype.swap32=function(){const s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let a=0;a<s;a+=4)L(this,a,a+3),L(this,a+1,a+2);return this},u.prototype.swap64=function(){const s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let a=0;a<s;a+=8)L(this,a,a+7),L(this,a+1,a+6),L(this,a+2,a+5),L(this,a+3,a+4);return this},u.prototype.toString=function(){const s=this.length;return s===0?"":arguments.length===0?l(this,0,s):z.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(s){if(!u.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:u.compare(this,s)===0},u.prototype.inspect=function(){let s="";const a=r.INSPECT_MAX_BYTES;return s=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(s+=" ... "),"<Buffer "+s+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(s,a,p,A,I){if(Ke(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),!u.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(a===void 0&&(a=0),p===void 0&&(p=s?s.length:0),A===void 0&&(A=0),I===void 0&&(I=this.length),a<0||p>s.length||A<0||I>this.length)throw new RangeError("out of range index");if(A>=I&&a>=p)return 0;if(A>=I)return-1;if(a>=p)return 1;if(a>>>=0,p>>>=0,A>>>=0,I>>>=0,this===s)return 0;let N=I-A,J=p-a;const oe=Math.min(N,J),ie=this.slice(A,I),we=s.slice(a,p);for(let te=0;te<oe;++te)if(ie[te]!==we[te]){N=ie[te],J=we[te];break}return N<J?-1:J<N?1:0};function H(f,s,a,p,A){if(f.length===0)return-1;if(typeof a=="string"?(p=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,He(a)&&(a=A?0:f.length-1),a<0&&(a=f.length+a),a>=f.length){if(A)return-1;a=f.length-1}else if(a<0)if(A)a=0;else return-1;if(typeof s=="string"&&(s=u.from(s,p)),u.isBuffer(s))return s.length===0?-1:j(f,s,a,p,A);if(typeof s=="number")return s=s&255,typeof Uint8Array.prototype.indexOf=="function"?A?Uint8Array.prototype.indexOf.call(f,s,a):Uint8Array.prototype.lastIndexOf.call(f,s,a):j(f,[s],a,p,A);throw new TypeError("val must be string, number or Buffer")}function j(f,s,a,p,A){let I=1,N=f.length,J=s.length;if(p!==void 0&&(p=String(p).toLowerCase(),p==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(f.length<2||s.length<2)return-1;I=2,N/=2,J/=2,a/=2}function oe(we,te){return I===1?we[te]:we.readUInt16BE(te*I)}let ie;if(A){let we=-1;for(ie=a;ie<N;ie++)if(oe(f,ie)===oe(s,we===-1?0:ie-we)){if(we===-1&&(we=ie),ie-we+1===J)return we*I}else we!==-1&&(ie-=ie-we),we=-1}else for(a+J>N&&(a=N-J),ie=a;ie>=0;ie--){let we=!0;for(let te=0;te<J;te++)if(oe(f,ie+te)!==oe(s,te)){we=!1;break}if(we)return ie}return-1}u.prototype.includes=function(s,a,p){return this.indexOf(s,a,p)!==-1},u.prototype.indexOf=function(s,a,p){return H(this,s,a,p,!0)},u.prototype.lastIndexOf=function(s,a,p){return H(this,s,a,p,!1)};function q(f,s,a,p){a=Number(a)||0;const A=f.length-a;p?(p=Number(p),p>A&&(p=A)):p=A;const I=s.length;p>I/2&&(p=I/2);let N;for(N=0;N<p;++N){const J=parseInt(s.substr(N*2,2),16);if(He(J))return N;f[a+N]=J}return N}function he(f,s,a,p){return Pe(ze(s,f.length-a),f,a,p)}function Me(f,s,a,p){return Pe(Qe(s),f,a,p)}function ye(f,s,a,p){return Pe(Ge(s),f,a,p)}function Be(f,s,a,p){return Pe(Mr(s,f.length-a),f,a,p)}u.prototype.write=function(s,a,p,A){if(a===void 0)A="utf8",p=this.length,a=0;else if(p===void 0&&typeof a=="string")A=a,p=this.length,a=0;else if(isFinite(a))a=a>>>0,isFinite(p)?(p=p>>>0,A===void 0&&(A="utf8")):(A=p,p=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const I=this.length-a;if((p===void 0||p>I)&&(p=I),s.length>0&&(p<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");let N=!1;for(;;)switch(A){case"hex":return q(this,s,a,p);case"utf8":case"utf-8":return he(this,s,a,p);case"ascii":case"latin1":case"binary":return Me(this,s,a,p);case"base64":return ye(this,s,a,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Be(this,s,a,p);default:if(N)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),N=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(f,s,a){return s===0&&a===f.length?e.fromByteArray(f):e.fromByteArray(f.slice(s,a))}function l(f,s,a){a=Math.min(f.length,a);const p=[];let A=s;for(;A<a;){const I=f[A];let N=null,J=I>239?4:I>223?3:I>191?2:1;if(A+J<=a){let oe,ie,we,te;switch(J){case 1:I<128&&(N=I);break;case 2:oe=f[A+1],(oe&192)===128&&(te=(I&31)<<6|oe&63,te>127&&(N=te));break;case 3:oe=f[A+1],ie=f[A+2],(oe&192)===128&&(ie&192)===128&&(te=(I&15)<<12|(oe&63)<<6|ie&63,te>2047&&(te<55296||te>57343)&&(N=te));break;case 4:oe=f[A+1],ie=f[A+2],we=f[A+3],(oe&192)===128&&(ie&192)===128&&(we&192)===128&&(te=(I&15)<<18|(oe&63)<<12|(ie&63)<<6|we&63,te>65535&&te<1114112&&(N=te))}}N===null?(N=65533,J=1):N>65535&&(N-=65536,p.push(N>>>10&1023|55296),N=56320|N&1023),p.push(N),A+=J}return b(p)}const g=4096;function b(f){const s=f.length;if(s<=g)return String.fromCharCode.apply(String,f);let a="",p=0;for(;p<s;)a+=String.fromCharCode.apply(String,f.slice(p,p+=g));return a}function w(f,s,a){let p="";a=Math.min(f.length,a);for(let A=s;A<a;++A)p+=String.fromCharCode(f[A]&127);return p}function S(f,s,a){let p="";a=Math.min(f.length,a);for(let A=s;A<a;++A)p+=String.fromCharCode(f[A]);return p}function U(f,s,a){const p=f.length;(!s||s<0)&&(s=0),(!a||a<0||a>p)&&(a=p);let A="";for(let I=s;I<a;++I)A+=Ye[f[I]];return A}function T(f,s,a){const p=f.slice(s,a);let A="";for(let I=0;I<p.length-1;I+=2)A+=String.fromCharCode(p[I]+p[I+1]*256);return A}u.prototype.slice=function(s,a){const p=this.length;s=~~s,a=a===void 0?p:~~a,s<0?(s+=p,s<0&&(s=0)):s>p&&(s=p),a<0?(a+=p,a<0&&(a=0)):a>p&&(a=p),a<s&&(a=s);const A=this.subarray(s,a);return Object.setPrototypeOf(A,u.prototype),A};function v(f,s,a){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+s>a)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(s,a,p){s=s>>>0,a=a>>>0,p||v(s,a,this.length);let A=this[s],I=1,N=0;for(;++N<a&&(I*=256);)A+=this[s+N]*I;return A},u.prototype.readUintBE=u.prototype.readUIntBE=function(s,a,p){s=s>>>0,a=a>>>0,p||v(s,a,this.length);let A=this[s+--a],I=1;for(;a>0&&(I*=256);)A+=this[s+--a]*I;return A},u.prototype.readUint8=u.prototype.readUInt8=function(s,a){return s=s>>>0,a||v(s,1,this.length),this[s]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(s,a){return s=s>>>0,a||v(s,2,this.length),this[s]|this[s+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(s,a){return s=s>>>0,a||v(s,2,this.length),this[s]<<8|this[s+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(s,a){return s=s>>>0,a||v(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(s,a){return s=s>>>0,a||v(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},u.prototype.readBigUInt64LE=st(function(s){s=s>>>0,We(s,"offset");const a=this[s],p=this[s+7];(a===void 0||p===void 0)&&Ie(s,this.length-8);const A=a+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24,I=this[++s]+this[++s]*2**8+this[++s]*2**16+p*2**24;return BigInt(A)+(BigInt(I)<<BigInt(32))}),u.prototype.readBigUInt64BE=st(function(s){s=s>>>0,We(s,"offset");const a=this[s],p=this[s+7];(a===void 0||p===void 0)&&Ie(s,this.length-8);const A=a*2**24+this[++s]*2**16+this[++s]*2**8+this[++s],I=this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+p;return(BigInt(A)<<BigInt(32))+BigInt(I)}),u.prototype.readIntLE=function(s,a,p){s=s>>>0,a=a>>>0,p||v(s,a,this.length);let A=this[s],I=1,N=0;for(;++N<a&&(I*=256);)A+=this[s+N]*I;return I*=128,A>=I&&(A-=Math.pow(2,8*a)),A},u.prototype.readIntBE=function(s,a,p){s=s>>>0,a=a>>>0,p||v(s,a,this.length);let A=a,I=1,N=this[s+--A];for(;A>0&&(I*=256);)N+=this[s+--A]*I;return I*=128,N>=I&&(N-=Math.pow(2,8*a)),N},u.prototype.readInt8=function(s,a){return s=s>>>0,a||v(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},u.prototype.readInt16LE=function(s,a){s=s>>>0,a||v(s,2,this.length);const p=this[s]|this[s+1]<<8;return p&32768?p|4294901760:p},u.prototype.readInt16BE=function(s,a){s=s>>>0,a||v(s,2,this.length);const p=this[s+1]|this[s]<<8;return p&32768?p|4294901760:p},u.prototype.readInt32LE=function(s,a){return s=s>>>0,a||v(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},u.prototype.readInt32BE=function(s,a){return s=s>>>0,a||v(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},u.prototype.readBigInt64LE=st(function(s){s=s>>>0,We(s,"offset");const a=this[s],p=this[s+7];(a===void 0||p===void 0)&&Ie(s,this.length-8);const A=this[s+4]+this[s+5]*2**8+this[s+6]*2**16+(p<<24);return(BigInt(A)<<BigInt(32))+BigInt(a+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24)}),u.prototype.readBigInt64BE=st(function(s){s=s>>>0,We(s,"offset");const a=this[s],p=this[s+7];(a===void 0||p===void 0)&&Ie(s,this.length-8);const A=(a<<24)+this[++s]*2**16+this[++s]*2**8+this[++s];return(BigInt(A)<<BigInt(32))+BigInt(this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+p)}),u.prototype.readFloatLE=function(s,a){return s=s>>>0,a||v(s,4,this.length),t.read(this,s,!0,23,4)},u.prototype.readFloatBE=function(s,a){return s=s>>>0,a||v(s,4,this.length),t.read(this,s,!1,23,4)},u.prototype.readDoubleLE=function(s,a){return s=s>>>0,a||v(s,8,this.length),t.read(this,s,!0,52,8)},u.prototype.readDoubleBE=function(s,a){return s=s>>>0,a||v(s,8,this.length),t.read(this,s,!1,52,8)};function d(f,s,a,p,A,I){if(!u.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>A||s<I)throw new RangeError('"value" argument is out of bounds');if(a+p>f.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(s,a,p,A){if(s=+s,a=a>>>0,p=p>>>0,!A){const J=Math.pow(2,8*p)-1;d(this,s,a,p,J,0)}let I=1,N=0;for(this[a]=s&255;++N<p&&(I*=256);)this[a+N]=s/I&255;return a+p},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(s,a,p,A){if(s=+s,a=a>>>0,p=p>>>0,!A){const J=Math.pow(2,8*p)-1;d(this,s,a,p,J,0)}let I=p-1,N=1;for(this[a+I]=s&255;--I>=0&&(N*=256);)this[a+I]=s/N&255;return a+p},u.prototype.writeUint8=u.prototype.writeUInt8=function(s,a,p){return s=+s,a=a>>>0,p||d(this,s,a,1,255,0),this[a]=s&255,a+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(s,a,p){return s=+s,a=a>>>0,p||d(this,s,a,2,65535,0),this[a]=s&255,this[a+1]=s>>>8,a+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(s,a,p){return s=+s,a=a>>>0,p||d(this,s,a,2,65535,0),this[a]=s>>>8,this[a+1]=s&255,a+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(s,a,p){return s=+s,a=a>>>0,p||d(this,s,a,4,4294967295,0),this[a+3]=s>>>24,this[a+2]=s>>>16,this[a+1]=s>>>8,this[a]=s&255,a+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(s,a,p){return s=+s,a=a>>>0,p||d(this,s,a,4,4294967295,0),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4};function _(f,s,a,p,A){V(s,p,A,f,a,7);let I=Number(s&BigInt(4294967295));f[a++]=I,I=I>>8,f[a++]=I,I=I>>8,f[a++]=I,I=I>>8,f[a++]=I;let N=Number(s>>BigInt(32)&BigInt(4294967295));return f[a++]=N,N=N>>8,f[a++]=N,N=N>>8,f[a++]=N,N=N>>8,f[a++]=N,a}function Q(f,s,a,p,A){V(s,p,A,f,a,7);let I=Number(s&BigInt(4294967295));f[a+7]=I,I=I>>8,f[a+6]=I,I=I>>8,f[a+5]=I,I=I>>8,f[a+4]=I;let N=Number(s>>BigInt(32)&BigInt(4294967295));return f[a+3]=N,N=N>>8,f[a+2]=N,N=N>>8,f[a+1]=N,N=N>>8,f[a]=N,a+8}u.prototype.writeBigUInt64LE=st(function(s,a=0){return _(this,s,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=st(function(s,a=0){return Q(this,s,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(s,a,p,A){if(s=+s,a=a>>>0,!A){const oe=Math.pow(2,8*p-1);d(this,s,a,p,oe-1,-oe)}let I=0,N=1,J=0;for(this[a]=s&255;++I<p&&(N*=256);)s<0&&J===0&&this[a+I-1]!==0&&(J=1),this[a+I]=(s/N>>0)-J&255;return a+p},u.prototype.writeIntBE=function(s,a,p,A){if(s=+s,a=a>>>0,!A){const oe=Math.pow(2,8*p-1);d(this,s,a,p,oe-1,-oe)}let I=p-1,N=1,J=0;for(this[a+I]=s&255;--I>=0&&(N*=256);)s<0&&J===0&&this[a+I+1]!==0&&(J=1),this[a+I]=(s/N>>0)-J&255;return a+p},u.prototype.writeInt8=function(s,a,p){return s=+s,a=a>>>0,p||d(this,s,a,1,127,-128),s<0&&(s=255+s+1),this[a]=s&255,a+1},u.prototype.writeInt16LE=function(s,a,p){return s=+s,a=a>>>0,p||d(this,s,a,2,32767,-32768),this[a]=s&255,this[a+1]=s>>>8,a+2},u.prototype.writeInt16BE=function(s,a,p){return s=+s,a=a>>>0,p||d(this,s,a,2,32767,-32768),this[a]=s>>>8,this[a+1]=s&255,a+2},u.prototype.writeInt32LE=function(s,a,p){return s=+s,a=a>>>0,p||d(this,s,a,4,2147483647,-2147483648),this[a]=s&255,this[a+1]=s>>>8,this[a+2]=s>>>16,this[a+3]=s>>>24,a+4},u.prototype.writeInt32BE=function(s,a,p){return s=+s,a=a>>>0,p||d(this,s,a,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4},u.prototype.writeBigInt64LE=st(function(s,a=0){return _(this,s,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=st(function(s,a=0){return Q(this,s,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $(f,s,a,p,A,I){if(a+p>f.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function Z(f,s,a,p,A){return s=+s,a=a>>>0,A||$(f,s,a,4),t.write(f,s,a,p,23,4),a+4}u.prototype.writeFloatLE=function(s,a,p){return Z(this,s,a,!0,p)},u.prototype.writeFloatBE=function(s,a,p){return Z(this,s,a,!1,p)};function se(f,s,a,p,A){return s=+s,a=a>>>0,A||$(f,s,a,8),t.write(f,s,a,p,52,8),a+8}u.prototype.writeDoubleLE=function(s,a,p){return se(this,s,a,!0,p)},u.prototype.writeDoubleBE=function(s,a,p){return se(this,s,a,!1,p)},u.prototype.copy=function(s,a,p,A){if(!u.isBuffer(s))throw new TypeError("argument should be a Buffer");if(p||(p=0),!A&&A!==0&&(A=this.length),a>=s.length&&(a=s.length),a||(a=0),A>0&&A<p&&(A=p),A===p||s.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),s.length-a<A-p&&(A=s.length-a+p);const I=A-p;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a,p,A):Uint8Array.prototype.set.call(s,this.subarray(p,A),a),I},u.prototype.fill=function(s,a,p,A){if(typeof s=="string"){if(typeof a=="string"?(A=a,a=0,p=this.length):typeof p=="string"&&(A=p,p=this.length),A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!u.isEncoding(A))throw new TypeError("Unknown encoding: "+A);if(s.length===1){const N=s.charCodeAt(0);(A==="utf8"&&N<128||A==="latin1")&&(s=N)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(a<0||this.length<a||this.length<p)throw new RangeError("Out of range index");if(p<=a)return this;a=a>>>0,p=p===void 0?this.length:p>>>0,s||(s=0);let I;if(typeof s=="number")for(I=a;I<p;++I)this[I]=s;else{const N=u.isBuffer(s)?s:u.from(s,A),J=N.length;if(J===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(I=0;I<p-a;++I)this[I+a]=N[I%J]}return this};const ee={};function ce(f,s,a){ee[f]=class extends a{constructor(){super(),Object.defineProperty(this,"message",{value:s.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(A){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:A,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}}}ce("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ce("ERR_INVALID_ARG_TYPE",function(f,s){return`The "${f}" argument must be of type number. Received type ${typeof s}`},TypeError),ce("ERR_OUT_OF_RANGE",function(f,s,a){let p=`The value of "${f}" is out of range.`,A=a;return Number.isInteger(a)&&Math.abs(a)>2**32?A=ve(String(a)):typeof a=="bigint"&&(A=String(a),(a>BigInt(2)**BigInt(32)||a<-(BigInt(2)**BigInt(32)))&&(A=ve(A)),A+="n"),p+=` It must be ${s}. Received ${A}`,p},RangeError);function ve(f){let s="",a=f.length;const p=f[0]==="-"?1:0;for(;a>=p+4;a-=3)s=`_${f.slice(a-3,a)}${s}`;return`${f.slice(0,a)}${s}`}function xe(f,s,a){We(s,"offset"),(f[s]===void 0||f[s+a]===void 0)&&Ie(s,f.length-(a+1))}function V(f,s,a,p,A,I){if(f>a||f<s){const N=typeof s=="bigint"?"n":"";let J;throw I>3?s===0||s===BigInt(0)?J=`>= 0${N} and < 2${N} ** ${(I+1)*8}${N}`:J=`>= -(2${N} ** ${(I+1)*8-1}${N}) and < 2 ** ${(I+1)*8-1}${N}`:J=`>= ${s}${N} and <= ${a}${N}`,new ee.ERR_OUT_OF_RANGE("value",J,f)}xe(p,A,I)}function We(f,s){if(typeof f!="number")throw new ee.ERR_INVALID_ARG_TYPE(s,"number",f)}function Ie(f,s,a){throw Math.floor(f)!==f?(We(f,a),new ee.ERR_OUT_OF_RANGE(a||"offset","an integer",f)):s<0?new ee.ERR_BUFFER_OUT_OF_BOUNDS:new ee.ERR_OUT_OF_RANGE(a||"offset",`>= ${a?1:0} and <= ${s}`,f)}const je=/[^+/0-9A-Za-z-_]/g;function _r(f){if(f=f.split("=")[0],f=f.trim().replace(je,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function ze(f,s){s=s||1/0;let a;const p=f.length;let A=null;const I=[];for(let N=0;N<p;++N){if(a=f.charCodeAt(N),a>55295&&a<57344){if(!A){if(a>56319){(s-=3)>-1&&I.push(239,191,189);continue}else if(N+1===p){(s-=3)>-1&&I.push(239,191,189);continue}A=a;continue}if(a<56320){(s-=3)>-1&&I.push(239,191,189),A=a;continue}a=(A-55296<<10|a-56320)+65536}else A&&(s-=3)>-1&&I.push(239,191,189);if(A=null,a<128){if((s-=1)<0)break;I.push(a)}else if(a<2048){if((s-=2)<0)break;I.push(a>>6|192,a&63|128)}else if(a<65536){if((s-=3)<0)break;I.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((s-=4)<0)break;I.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return I}function Qe(f){const s=[];for(let a=0;a<f.length;++a)s.push(f.charCodeAt(a)&255);return s}function Mr(f,s){let a,p,A;const I=[];for(let N=0;N<f.length&&!((s-=2)<0);++N)a=f.charCodeAt(N),p=a>>8,A=a%256,I.push(A),I.push(p);return I}function Ge(f){return e.toByteArray(_r(f))}function Pe(f,s,a,p){let A;for(A=0;A<p&&!(A+a>=s.length||A>=f.length);++A)s[A+a]=f[A];return A}function Ke(f,s){return f instanceof s||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===s.name}function He(f){return f!==f}const Ye=function(){const f="0123456789abcdef",s=new Array(256);for(let a=0;a<16;++a){const p=a*16;for(let A=0;A<16;++A)s[p+A]=f[a]+f[A]}return s}();function st(f){return typeof BigInt>"u"?Ve:f}function Ve(){throw new Error("BigInt not supported")}})(Ae);function To(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function th(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}function ec(r,...e){if(!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function nh(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");To(r.outputLen),To(r.blockLen)}function rh(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function ih(r,e){ec(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const Gt={number:To,bool:th,bytes:ec,hash:nh,exists:rh,output:ih};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oh=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),Co=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),hn=(r,e)=>r<<32-e|r>>>e;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function sh(r){if(typeof r!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof r}`);return new TextEncoder().encode(r)}function Or(r){if(typeof r=="string"&&(r=sh(r)),!(r instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof r})`);return r}class ko{clone(){return this._cloneInto()}}function Rr(r){const e=n=>r().update(Or(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function ah(r){const e=(n,o)=>r(o).update(Or(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}function ch(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const o=BigInt(32),i=BigInt(4294967295),c=Number(t>>o&i),u=Number(t&i),h=n?4:0,y=n?0:4;r.setUint32(e+h,c,n),r.setUint32(e+y,u,n)}class tc extends ko{constructor(e,t,n,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Co(this.buffer)}update(e){Gt.exists(this);const{view:t,buffer:n,blockLen:o}=this;e=Or(e);const i=e.length;for(let c=0;c<i;){const u=Math.min(o-this.pos,i-c);if(u===o){const h=Co(e);for(;o<=i-c;c+=o)this.process(h,c);continue}n.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Gt.exists(this),Gt.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:o,isLE:i}=this;let{pos:c}=this;t[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>o-c&&(this.process(n,0),c=0);for(let h=c;h<o;h++)t[h]=0;ch(n,o-8,BigInt(this.length*8),i),this.process(n,0);const u=Co(e);this.get().forEach((h,y)=>u.setUint32(4*y,h,i))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:o,finished:i,destroyed:c,pos:u}=this;return e.length=o,e.pos=u,e.finished=i,e.destroyed=c,o%t&&e.buffer.set(n),e}}const yi=BigInt(2**32-1),No=BigInt(32);function nc(r,e=!1){return e?{h:Number(r&yi),l:Number(r>>No&yi)}:{h:Number(r>>No&yi)|0,l:Number(r&yi)|0}}function uh(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let o=0;o<r.length;o++){const{h:i,l:c}=nc(r[o],e);[t[o],n[o]]=[i,c]}return[t,n]}const lh=(r,e)=>BigInt(r>>>0)<<No|BigInt(e>>>0),fh=(r,e,t)=>r>>>t,hh=(r,e,t)=>r<<32-t|e>>>t,dh=(r,e,t)=>r>>>t|e<<32-t,ph=(r,e,t)=>r<<32-t|e>>>t,gh=(r,e,t)=>r<<64-t|e>>>t-32,yh=(r,e,t)=>r>>>t-32|e<<64-t,wh=(r,e)=>e,mh=(r,e)=>r,bh=(r,e,t)=>r<<t|e>>>32-t,vh=(r,e,t)=>e<<t|r>>>32-t,Ah=(r,e,t)=>e<<t-32|r>>>64-t,Eh=(r,e,t)=>r<<t-32|e>>>64-t;function xh(r,e,t,n){const o=(e>>>0)+(n>>>0);return{h:r+t+(o/2**32|0)|0,l:o|0}}const me={fromBig:nc,split:uh,toBig:lh,shrSH:fh,shrSL:hh,rotrSH:dh,rotrSL:ph,rotrBH:gh,rotrBL:yh,rotr32H:wh,rotr32L:mh,rotlSH:bh,rotlSL:vh,rotlBH:Ah,rotlBL:Eh,add:xh,add3L:(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),add3H:(r,e,t,n)=>e+t+n+(r/2**32|0)|0,add4L:(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),add4H:(r,e,t,n,o)=>e+t+n+o+(r/2**32|0)|0,add5H:(r,e,t,n,o,i)=>e+t+n+o+i+(r/2**32|0)|0,add5L:(r,e,t,n,o)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(o>>>0)},[Sh,Ih]=me.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),En=new Uint32Array(80),xn=new Uint32Array(80);class Oo extends tc{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:o,Ch:i,Cl:c,Dh:u,Dl:h,Eh:y,El:m,Fh:x,Fl:B,Gh:E,Gl:C,Hh:k,Hl:R}=this;return[e,t,n,o,i,c,u,h,y,m,x,B,E,C,k,R]}set(e,t,n,o,i,c,u,h,y,m,x,B,E,C,k,R){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=c|0,this.Dh=u|0,this.Dl=h|0,this.Eh=y|0,this.El=m|0,this.Fh=x|0,this.Fl=B|0,this.Gh=E|0,this.Gl=C|0,this.Hh=k|0,this.Hl=R|0}process(e,t){for(let O=0;O<16;O++,t+=4)En[O]=e.getUint32(t),xn[O]=e.getUint32(t+=4);for(let O=16;O<80;O++){const z=En[O-15]|0,L=xn[O-15]|0,H=me.rotrSH(z,L,1)^me.rotrSH(z,L,8)^me.shrSH(z,L,7),j=me.rotrSL(z,L,1)^me.rotrSL(z,L,8)^me.shrSL(z,L,7),q=En[O-2]|0,he=xn[O-2]|0,Me=me.rotrSH(q,he,19)^me.rotrBH(q,he,61)^me.shrSH(q,he,6),ye=me.rotrSL(q,he,19)^me.rotrBL(q,he,61)^me.shrSL(q,he,6),Be=me.add4L(j,ye,xn[O-7],xn[O-16]),M=me.add4H(Be,H,Me,En[O-7],En[O-16]);En[O]=M|0,xn[O]=Be|0}let{Ah:n,Al:o,Bh:i,Bl:c,Ch:u,Cl:h,Dh:y,Dl:m,Eh:x,El:B,Fh:E,Fl:C,Gh:k,Gl:R,Hh:D,Hl:F}=this;for(let O=0;O<80;O++){const z=me.rotrSH(x,B,14)^me.rotrSH(x,B,18)^me.rotrBH(x,B,41),L=me.rotrSL(x,B,14)^me.rotrSL(x,B,18)^me.rotrBL(x,B,41),H=x&E^~x&k,j=B&C^~B&R,q=me.add5L(F,L,j,Ih[O],xn[O]),he=me.add5H(q,D,z,H,Sh[O],En[O]),Me=q|0,ye=me.rotrSH(n,o,28)^me.rotrBH(n,o,34)^me.rotrBH(n,o,39),Be=me.rotrSL(n,o,28)^me.rotrBL(n,o,34)^me.rotrBL(n,o,39),M=n&i^n&u^i&u,l=o&c^o&h^c&h;D=k|0,F=R|0,k=E|0,R=C|0,E=x|0,C=B|0,{h:x,l:B}=me.add(y|0,m|0,he|0,Me|0),y=u|0,m=h|0,u=i|0,h=c|0,i=n|0,c=o|0;const g=me.add3L(Me,Be,l);n=me.add3H(g,he,ye,M),o=g|0}({h:n,l:o}=me.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:c}=me.add(this.Bh|0,this.Bl|0,i|0,c|0),{h:u,l:h}=me.add(this.Ch|0,this.Cl|0,u|0,h|0),{h:y,l:m}=me.add(this.Dh|0,this.Dl|0,y|0,m|0),{h:x,l:B}=me.add(this.Eh|0,this.El|0,x|0,B|0),{h:E,l:C}=me.add(this.Fh|0,this.Fl|0,E|0,C|0),{h:k,l:R}=me.add(this.Gh|0,this.Gl|0,k|0,R|0),{h:D,l:F}=me.add(this.Hh|0,this.Hl|0,D|0,F|0),this.set(n,o,i,c,u,h,y,m,x,B,E,C,k,R,D,F)}roundClean(){En.fill(0),xn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class _h extends Oo{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Mh extends Oo{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Bh=Rr(()=>new Oo);Rr(()=>new _h),Rr(()=>new Mh);const Ro=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}));/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const _t=BigInt(0),Te=BigInt(1),lr=BigInt(2),rc=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),qe=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:rc,n:rc,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),ic=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Lr=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");const Th=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Ch=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),kh=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Nh=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class ke{constructor(e,t,n,o){this.x=e,this.y=t,this.z=n,this.t=o}static fromAffine(e){if(!(e instanceof Je))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Je.ZERO)?ke.ZERO:new ke(e.x,e.y,Te,K(e.x*e.y))}static toAffineBatch(e){const t=Lh(e.map(n=>n.z));return e.map((n,o)=>n.toAffine(t[o]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){oc(e);const{x:t,y:n,z:o}=this,{x:i,y:c,z:u}=e,h=K(t*u),y=K(i*o),m=K(n*u),x=K(c*o);return h===y&&m===x}negate(){return new ke(K(-this.x),this.y,this.z,K(-this.t))}double(){const{x:e,y:t,z:n}=this,{a:o}=qe,i=K(e*e),c=K(t*t),u=K(lr*K(n*n)),h=K(o*i),y=e+t,m=K(K(y*y)-i-c),x=h+c,B=x-u,E=h-c,C=K(m*B),k=K(x*E),R=K(m*E),D=K(B*x);return new ke(C,k,D,R)}add(e){oc(e);const{x:t,y:n,z:o,t:i}=this,{x:c,y:u,z:h,t:y}=e,m=K((n-t)*(u+c)),x=K((n+t)*(u-c)),B=K(x-m);if(B===_t)return this.double();const E=K(o*lr*y),C=K(i*lr*h),k=C+E,R=x+m,D=C-E,F=K(k*B),O=K(R*D),z=K(k*D),L=K(B*R);return new ke(F,O,L,z)}subtract(e){return this.add(e.negate())}precomputeWindow(e){const t=1+256/e,n=[];let o=this,i=o;for(let c=0;c<t;c++){i=o,n.push(i);for(let u=1;u<2**(e-1);u++)i=i.add(o),n.push(i);o=i.double()}return n}wNAF(e,t){!t&&this.equals(ke.BASE)&&(t=Je.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=t&&Po.get(t);o||(o=this.precomputeWindow(n),t&&n!==1&&(o=ke.normalizeZ(o),Po.set(t,o)));let i=ke.ZERO,c=ke.ZERO;const u=1+256/n,h=2**(n-1),y=BigInt(2**n-1),m=2**n,x=BigInt(n);for(let B=0;B<u;B++){const E=B*h;let C=Number(e&y);if(e>>=x,C>h&&(C-=m,e+=Te),C===0){let k=o[E];B%2&&(k=k.negate()),c=c.add(k)}else{let k=o[E+Math.abs(C)-1];C<0&&(k=k.negate()),i=i.add(k)}}return ke.normalizeZ([i,c])[0]}multiply(e,t){return this.wNAF(bi(e,qe.l),t)}multiplyUnsafe(e){let t=bi(e,qe.l,!1);const n=ke.BASE,o=ke.ZERO;if(t===_t)return o;if(this.equals(o)||t===Te)return this;if(this.equals(n))return this.wNAF(t);let i=o,c=this;for(;t>_t;)t&Te&&(i=i.add(c)),c=c.double(),t>>=Te;return i}isSmallOrder(){return this.multiplyUnsafe(qe.h).equals(ke.ZERO)}isTorsionFree(){return this.multiplyUnsafe(qe.l).equals(ke.ZERO)}toAffine(e=wi(this.z)){const{x:t,y:n,z:o}=this,i=K(t*e),c=K(n*e);if(K(o*e)!==Te)throw new Error("invZ was invalid");return new Je(i,c)}fromRistrettoBytes(){Uo()}toRistrettoBytes(){Uo()}fromRistrettoHash(){Uo()}}ke.BASE=new ke(qe.Gx,qe.Gy,Te,K(qe.Gx*qe.Gy)),ke.ZERO=new ke(_t,Te,Te,_t);function oc(r){if(!(r instanceof ke))throw new TypeError("ExtendedPoint expected")}function Lo(r){if(!(r instanceof Vt))throw new TypeError("RistrettoPoint expected")}function Uo(){throw new Error("Legacy method: switch to RistrettoPoint")}class Vt{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){const{d:t}=qe,n=K(Lr*e*e),o=K((n+Te)*kh);let i=BigInt(-1);const c=K((i-t*n)*K(n+t));let{isValid:u,value:h}=zo(o,c),y=K(h*e);Sn(y)||(y=K(-y)),u||(h=y),u||(i=n);const m=K(i*(n-Te)*Nh-c),x=h*h,B=K((h+h)*c),E=K(m*Th),C=K(Te-x),k=K(Te+x);return new ke(K(B*k),K(C*E),K(E*k),K(B*C))}static hashToCurve(e){e=In(e,64);const t=Fo(e.slice(0,32)),n=this.calcElligatorRistrettoMap(t),o=Fo(e.slice(32,64)),i=this.calcElligatorRistrettoMap(o);return new Vt(n.add(i))}static fromHex(e){e=In(e,32);const{a:t,d:n}=qe,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=Fo(e);if(!Ph(Dr(i),e)||Sn(i))throw new Error(o);const c=K(i*i),u=K(Te+t*c),h=K(Te-t*c),y=K(u*u),m=K(h*h),x=K(t*n*y-m),{isValid:B,value:E}=cc(K(x*m)),C=K(E*h),k=K(E*C*x);let R=K((i+i)*C);Sn(R)&&(R=K(-R));const D=K(u*k),F=K(R*D);if(!B||Sn(F)||D===_t)throw new Error(o);return new Vt(new ke(R,D,Te,F))}toRawBytes(){let{x:e,y:t,z:n,t:o}=this.ep;const i=K(K(n+t)*K(n-t)),c=K(e*t),u=K(c*c),{value:h}=cc(K(i*u)),y=K(h*i),m=K(h*c),x=K(y*m*o);let B;if(Sn(o*x)){let C=K(t*Lr),k=K(e*Lr);e=C,t=k,B=K(y*Ch)}else B=m;Sn(e*x)&&(t=K(-t));let E=K((n-t)*B);return Sn(E)&&(E=K(-E)),Dr(E)}toHex(){return Pr(this.toRawBytes())}toString(){return this.toHex()}equals(e){Lo(e);const t=this.ep,n=e.ep,o=K(t.x*n.y)===K(t.y*n.x),i=K(t.y*n.y)===K(t.x*n.x);return o||i}add(e){return Lo(e),new Vt(this.ep.add(e.ep))}subtract(e){return Lo(e),new Vt(this.ep.subtract(e.ep))}multiply(e){return new Vt(this.ep.multiply(e))}multiplyUnsafe(e){return new Vt(this.ep.multiplyUnsafe(e))}}Vt.BASE=new Vt(ke.BASE),Vt.ZERO=new Vt(ke.ZERO);const Po=new WeakMap;class Je{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,Po.delete(this)}static fromHex(e,t=!0){const{d:n,P:o}=qe;e=In(e,32);const i=e.slice();i[31]=e[31]&-129;const c=Fr(i);if(t&&c>=o)throw new Error("Expected 0 < hex < P");if(!t&&c>=ic)throw new Error("Expected 0 < hex < 2**256");const u=K(c*c),h=K(u-Te),y=K(n*u+Te);let{isValid:m,value:x}=zo(h,y);if(!m)throw new Error("Point.fromHex: invalid y coordinate");const B=(x&Te)===Te;return(e[31]&128)!==0!==B&&(x=K(-x)),new Je(x,c)}static async fromPrivateKey(e){return(await fc(e)).point}toRawBytes(){const e=Dr(this.y);return e[31]|=this.x&Te?128:0,e}toHex(){return Pr(this.toRawBytes())}toX25519(){const{y:e}=this,t=K((Te+e)*wi(Te-e));return Dr(t)}isTorsionFree(){return ke.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Je(K(-this.x),this.y)}add(e){return ke.fromAffine(this).add(ke.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return ke.fromAffine(this).multiply(e,this).toAffine()}}Je.BASE=new Je(qe.Gx,qe.Gy),Je.ZERO=new Je(_t,Te);class Ur{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=In(e,64),n=Je.fromHex(t.slice(0,32),!1),o=Fr(t.slice(32,64));return new Ur(n,o)}assertValidity(){const{r:e,s:t}=this;if(!(e instanceof Je))throw new Error("Expected Point instance");return bi(t,qe.l,!1),this}toRawBytes(){const e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Dr(this.s),32),e}toHex(){return Pr(this.toRawBytes())}}function sc(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(r.length===1)return r[0];const e=r.reduce((n,o)=>n+o.length,0),t=new Uint8Array(e);for(let n=0,o=0;n<r.length;n++){const i=r[n];t.set(i,o),o+=i.length}return t}const Oh=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Pr(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=Oh[r[t]];return e}function Do(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){const n=t*2,o=r.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[t]=i}return e}function ac(r){const t=r.toString(16).padStart(64,"0");return Do(t)}function Dr(r){return ac(r).reverse()}function Sn(r){return(K(r)&Te)===Te}function Fr(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Pr(Uint8Array.from(r).reverse()))}const Rh=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Fo(r){return K(Fr(r)&Rh)}function K(r,e=qe.P){const t=r%e;return t>=_t?t:e+t}function wi(r,e=qe.P){if(r===_t||e<=_t)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=K(r,e),n=e,o=_t,i=Te;for(;t!==_t;){const u=n/t,h=n%t,y=o-i*u;n=t,t=h,o=i,i=y}if(n!==Te)throw new Error("invert: does not exist");return K(o,e)}function Lh(r,e=qe.P){const t=new Array(r.length),n=r.reduce((i,c,u)=>c===_t?i:(t[u]=i,K(i*c,e)),Te),o=wi(n,e);return r.reduceRight((i,c,u)=>c===_t?i:(t[u]=K(i*t[u],e),K(i*c,e)),o),t}function dn(r,e){const{P:t}=qe;let n=r;for(;e-- >_t;)n*=n,n%=t;return n}function Uh(r){const{P:e}=qe,t=BigInt(5),n=BigInt(10),o=BigInt(20),i=BigInt(40),c=BigInt(80),h=r*r%e*r%e,y=dn(h,lr)*h%e,m=dn(y,Te)*r%e,x=dn(m,t)*m%e,B=dn(x,n)*x%e,E=dn(B,o)*B%e,C=dn(E,i)*E%e,k=dn(C,c)*C%e,R=dn(k,c)*C%e,D=dn(R,n)*x%e;return{pow_p_5_8:dn(D,lr)*r%e,b2:h}}function zo(r,e){const t=K(e*e*e),n=K(t*t*e),o=Uh(r*n).pow_p_5_8;let i=K(r*t*o);const c=K(e*i*i),u=i,h=K(i*Lr),y=c===r,m=c===K(-r),x=c===K(-r*Lr);return y&&(i=u),(m||x)&&(i=h),Sn(i)&&(i=K(-i)),{isValid:y||m,value:i}}function cc(r){return zo(Te,r)}function mi(r){return K(Fr(r),qe.l)}function Ph(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function In(r,e){const t=r instanceof Uint8Array?Uint8Array.from(r):Do(r);if(typeof e=="number"&&t.length!==e)throw new Error(`Expected ${e} bytes`);return t}function bi(r,e,t=!0){if(!e)throw new TypeError("Specify max value");if(typeof r=="number"&&Number.isSafeInteger(r)&&(r=BigInt(r)),typeof r=="bigint"&&r<e){if(t){if(_t<r)return r}else if(_t<=r)return r}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function Dh(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function uc(r){if(r=typeof r=="bigint"||typeof r=="number"?ac(bi(r,ic)):In(r),r.length!==32)throw new Error("Expected 32 bytes");return r}function lc(r){const e=Dh(r.slice(0,32)),t=r.slice(32,64),n=mi(e),o=Je.BASE.multiply(n),i=o.toRawBytes();return{head:e,prefix:t,scalar:n,point:o,pointBytes:i}}let zr;function vi(...r){if(typeof zr!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return zr(...r)}async function fc(r){return lc(await fr.sha512(uc(r)))}function Ho(r){return lc(vi(uc(r)))}function Fh(r){return Ho(r).pointBytes}function zh(r,e){r=In(r);const{prefix:t,scalar:n,pointBytes:o}=Ho(e),i=mi(vi(t,r)),c=Je.BASE.multiply(i),u=mi(vi(c.toRawBytes(),o,r)),h=K(i+u*n,qe.l);return new Ur(c,h).toRawBytes()}function Hh(r,e,t){e=In(e),t instanceof Je||(t=Je.fromHex(t,!1));const{r:n,s:o}=r instanceof Ur?r.assertValidity():Ur.fromHex(r),i=ke.BASE.multiplyUnsafe(o);return{r:n,s:o,SB:i,pub:t,msg:e}}function Wh(r,e,t,n){const o=mi(n),i=ke.fromAffine(r).multiplyUnsafe(o);return ke.fromAffine(e).add(i).subtract(t).multiplyUnsafe(qe.h).equals(ke.ZERO)}function jh(r,e,t){const{r:n,SB:o,msg:i,pub:c}=Hh(r,e,t),u=vi(n.toRawBytes(),c.toRawBytes(),i);return Wh(c,n,o,u)}const hc={getExtendedPublicKey:Ho,getPublicKey:Fh,sign:zh,verify:jh};Je.BASE._setWindowSize(8);const _n={node:Ro,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},fr={bytesToHex:Pr,hexToBytes:Do,concatBytes:sc,getExtendedPublicKey:fc,mod:K,invert:wi,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:r=>{if(r=In(r),r.length<40||r.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return K(Fr(r),qe.l-Te)+Te},randomBytes:(r=32)=>{if(_n.web)return _n.web.getRandomValues(new Uint8Array(r));if(_n.node){const{randomBytes:e}=_n.node;return new Uint8Array(e(r).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>fr.randomBytes(32),sha512:async(...r)=>{const e=sc(...r);if(_n.web){const t=await _n.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}else{if(_n.node)return Uint8Array.from(_n.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(r=8,e=Je.BASE){const t=e.equals(Je.BASE)?e:new Je(e.x,e.y);return t._setWindowSize(r),t.multiply(lr),t},sha512Sync:void 0};Object.defineProperties(fr,{sha512Sync:{configurable:!1,get(){return zr},set(r){zr||(zr=r)}}});var Wo={exports:{}};const Gh=ai(Ro);(function(r){(function(e,t){function n(M,l){if(!M)throw new Error(l||"Assertion failed")}function o(M,l){M.super_=l;var g=function(){};g.prototype=l.prototype,M.prototype=new g,M.prototype.constructor=M}function i(M,l,g){if(i.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((l==="le"||l==="be")&&(g=l,l=10),this._init(M||0,l||10,g||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=Gh.Buffer}catch{}i.isBN=function(l){return l instanceof i?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===i.wordSize&&Array.isArray(l.words)},i.max=function(l,g){return l.cmp(g)>0?l:g},i.min=function(l,g){return l.cmp(g)<0?l:g},i.prototype._init=function(l,g,b){if(typeof l=="number")return this._initNumber(l,g,b);if(typeof l=="object")return this._initArray(l,g,b);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),l=l.toString().replace(/\s+/g,"");var w=0;l[0]==="-"&&(w++,this.negative=1),w<l.length&&(g===16?this._parseHex(l,w,b):(this._parseBase(l,g,w),b==="le"&&this._initArray(this.toArray(),g,b)))},i.prototype._initNumber=function(l,g,b){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(n(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),g,b)},i.prototype._initArray=function(l,g,b){if(n(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,U,T=0;if(b==="be")for(w=l.length-1,S=0;w>=0;w-=3)U=l[w]|l[w-1]<<8|l[w-2]<<16,this.words[S]|=U<<T&67108863,this.words[S+1]=U>>>26-T&67108863,T+=24,T>=26&&(T-=26,S++);else if(b==="le")for(w=0,S=0;w<l.length;w+=3)U=l[w]|l[w+1]<<8|l[w+2]<<16,this.words[S]|=U<<T&67108863,this.words[S+1]=U>>>26-T&67108863,T+=24,T>=26&&(T-=26,S++);return this._strip()};function u(M,l){var g=M.charCodeAt(l);if(g>=48&&g<=57)return g-48;if(g>=65&&g<=70)return g-55;if(g>=97&&g<=102)return g-87;n(!1,"Invalid character in "+M)}function h(M,l,g){var b=u(M,g);return g-1>=l&&(b|=u(M,g-1)<<4),b}i.prototype._parseHex=function(l,g,b){this.length=Math.ceil((l.length-g)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S=0,U=0,T;if(b==="be")for(w=l.length-1;w>=g;w-=2)T=h(l,g,w)<<S,this.words[U]|=T&67108863,S>=18?(S-=18,U+=1,this.words[U]|=T>>>26):S+=8;else{var v=l.length-g;for(w=v%2===0?g+1:g;w<l.length;w+=2)T=h(l,g,w)<<S,this.words[U]|=T&67108863,S>=18?(S-=18,U+=1,this.words[U]|=T>>>26):S+=8}this._strip()};function y(M,l,g,b){for(var w=0,S=0,U=Math.min(M.length,g),T=l;T<U;T++){var v=M.charCodeAt(T)-48;w*=b,v>=49?S=v-49+10:v>=17?S=v-17+10:S=v,n(v>=0&&S<b,"Invalid character"),w+=S}return w}i.prototype._parseBase=function(l,g,b){this.words=[0],this.length=1;for(var w=0,S=1;S<=67108863;S*=g)w++;w--,S=S/g|0;for(var U=l.length-b,T=U%w,v=Math.min(U,U-T)+b,d=0,_=b;_<v;_+=w)d=y(l,_,_+w,g),this.imuln(S),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(T!==0){var Q=1;for(d=y(l,_,l.length,g),_=0;_<T;_++)Q*=g;this.imuln(Q),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},i.prototype.copy=function(l){l.words=new Array(this.length);for(var g=0;g<this.length;g++)l.words[g]=this.words[g];l.length=this.length,l.negative=this.negative,l.red=this.red};function m(M,l){M.words=l.words,M.length=l.length,M.negative=l.negative,M.red=l.red}if(i.prototype._move=function(l){m(l,this)},i.prototype.clone=function(){var l=new i(null);return this.copy(l),l},i.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=x}catch{i.prototype.inspect=x}else i.prototype.inspect=x;function x(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(l,g){l=l||10,g=g|0||1;var b;if(l===16||l==="hex"){b="";for(var w=0,S=0,U=0;U<this.length;U++){var T=this.words[U],v=((T<<w|S)&16777215).toString(16);S=T>>>24-w&16777215,w+=2,w>=26&&(w-=26,U--),S!==0||U!==this.length-1?b=B[6-v.length]+v+b:b=v+b}for(S!==0&&(b=S.toString(16)+b);b.length%g!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(l===(l|0)&&l>=2&&l<=36){var d=E[l],_=C[l];b="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var $=Q.modrn(_).toString(l);Q=Q.idivn(_),Q.isZero()?b=$+b:b=B[d-$.length]+$+b}for(this.isZero()&&(b="0"+b);b.length%g!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},i.prototype.toJSON=function(){return this.toString(16,2)},c&&(i.prototype.toBuffer=function(l,g){return this.toArrayLike(c,l,g)}),i.prototype.toArray=function(l,g){return this.toArrayLike(Array,l,g)};var k=function(l,g){return l.allocUnsafe?l.allocUnsafe(g):new l(g)};i.prototype.toArrayLike=function(l,g,b){this._strip();var w=this.byteLength(),S=b||Math.max(1,w);n(w<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0");var U=k(l,S),T=g==="le"?"LE":"BE";return this["_toArrayLike"+T](U,w),U},i.prototype._toArrayLikeLE=function(l,g){for(var b=0,w=0,S=0,U=0;S<this.length;S++){var T=this.words[S]<<U|w;l[b++]=T&255,b<l.length&&(l[b++]=T>>8&255),b<l.length&&(l[b++]=T>>16&255),U===6?(b<l.length&&(l[b++]=T>>24&255),w=0,U=0):(w=T>>>24,U+=2)}if(b<l.length)for(l[b++]=w;b<l.length;)l[b++]=0},i.prototype._toArrayLikeBE=function(l,g){for(var b=l.length-1,w=0,S=0,U=0;S<this.length;S++){var T=this.words[S]<<U|w;l[b--]=T&255,b>=0&&(l[b--]=T>>8&255),b>=0&&(l[b--]=T>>16&255),U===6?(b>=0&&(l[b--]=T>>24&255),w=0,U=0):(w=T>>>24,U+=2)}if(b>=0)for(l[b--]=w;b>=0;)l[b--]=0},Math.clz32?i.prototype._countBits=function(l){return 32-Math.clz32(l)}:i.prototype._countBits=function(l){var g=l,b=0;return g>=4096&&(b+=13,g>>>=13),g>=64&&(b+=7,g>>>=7),g>=8&&(b+=4,g>>>=4),g>=2&&(b+=2,g>>>=2),b+g},i.prototype._zeroBits=function(l){if(l===0)return 26;var g=l,b=0;return(g&8191)===0&&(b+=13,g>>>=13),(g&127)===0&&(b+=7,g>>>=7),(g&15)===0&&(b+=4,g>>>=4),(g&3)===0&&(b+=2,g>>>=2),(g&1)===0&&b++,b},i.prototype.bitLength=function(){var l=this.words[this.length-1],g=this._countBits(l);return(this.length-1)*26+g};function R(M){for(var l=new Array(M.bitLength()),g=0;g<l.length;g++){var b=g/26|0,w=g%26;l[g]=M.words[b]>>>w&1}return l}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,g=0;g<this.length;g++){var b=this._zeroBits(this.words[g]);if(l+=b,b!==26)break}return l},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},i.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var g=0;g<l.length;g++)this.words[g]=this.words[g]|l.words[g];return this._strip()},i.prototype.ior=function(l){return n((this.negative|l.negative)===0),this.iuor(l)},i.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},i.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},i.prototype.iuand=function(l){var g;this.length>l.length?g=l:g=this;for(var b=0;b<g.length;b++)this.words[b]=this.words[b]&l.words[b];return this.length=g.length,this._strip()},i.prototype.iand=function(l){return n((this.negative|l.negative)===0),this.iuand(l)},i.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},i.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},i.prototype.iuxor=function(l){var g,b;this.length>l.length?(g=this,b=l):(g=l,b=this);for(var w=0;w<b.length;w++)this.words[w]=g.words[w]^b.words[w];if(this!==g)for(;w<g.length;w++)this.words[w]=g.words[w];return this.length=g.length,this._strip()},i.prototype.ixor=function(l){return n((this.negative|l.negative)===0),this.iuxor(l)},i.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},i.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},i.prototype.inotn=function(l){n(typeof l=="number"&&l>=0);var g=Math.ceil(l/26)|0,b=l%26;this._expand(g),b>0&&g--;for(var w=0;w<g;w++)this.words[w]=~this.words[w]&67108863;return b>0&&(this.words[w]=~this.words[w]&67108863>>26-b),this._strip()},i.prototype.notn=function(l){return this.clone().inotn(l)},i.prototype.setn=function(l,g){n(typeof l=="number"&&l>=0);var b=l/26|0,w=l%26;return this._expand(b+1),g?this.words[b]=this.words[b]|1<<w:this.words[b]=this.words[b]&~(1<<w),this._strip()},i.prototype.iadd=function(l){var g;if(this.negative!==0&&l.negative===0)return this.negative=0,g=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,g=this.isub(l),l.negative=1,g._normSign();var b,w;this.length>l.length?(b=this,w=l):(b=l,w=this);for(var S=0,U=0;U<w.length;U++)g=(b.words[U]|0)+(w.words[U]|0)+S,this.words[U]=g&67108863,S=g>>>26;for(;S!==0&&U<b.length;U++)g=(b.words[U]|0)+S,this.words[U]=g&67108863,S=g>>>26;if(this.length=b.length,S!==0)this.words[this.length]=S,this.length++;else if(b!==this)for(;U<b.length;U++)this.words[U]=b.words[U];return this},i.prototype.add=function(l){var g;return l.negative!==0&&this.negative===0?(l.negative=0,g=this.sub(l),l.negative^=1,g):l.negative===0&&this.negative!==0?(this.negative=0,g=l.sub(this),this.negative=1,g):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},i.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var g=this.iadd(l);return l.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var b=this.cmp(l);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var w,S;b>0?(w=this,S=l):(w=l,S=this);for(var U=0,T=0;T<S.length;T++)g=(w.words[T]|0)-(S.words[T]|0)+U,U=g>>26,this.words[T]=g&67108863;for(;U!==0&&T<w.length;T++)g=(w.words[T]|0)+U,U=g>>26,this.words[T]=g&67108863;if(U===0&&T<w.length&&w!==this)for(;T<w.length;T++)this.words[T]=w.words[T];return this.length=Math.max(this.length,T),w!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(l){return this.clone().isub(l)};function D(M,l,g){g.negative=l.negative^M.negative;var b=M.length+l.length|0;g.length=b,b=b-1|0;var w=M.words[0]|0,S=l.words[0]|0,U=w*S,T=U&67108863,v=U/67108864|0;g.words[0]=T;for(var d=1;d<b;d++){for(var _=v>>>26,Q=v&67108863,$=Math.min(d,l.length-1),Z=Math.max(0,d-M.length+1);Z<=$;Z++){var se=d-Z|0;w=M.words[se]|0,S=l.words[Z]|0,U=w*S+Q,_+=U/67108864|0,Q=U&67108863}g.words[d]=Q|0,v=_|0}return v!==0?g.words[d]=v|0:g.length--,g._strip()}var F=function(l,g,b){var w=l.words,S=g.words,U=b.words,T=0,v,d,_,Q=w[0]|0,$=Q&8191,Z=Q>>>13,se=w[1]|0,ee=se&8191,ce=se>>>13,ve=w[2]|0,xe=ve&8191,V=ve>>>13,We=w[3]|0,Ie=We&8191,je=We>>>13,_r=w[4]|0,ze=_r&8191,Qe=_r>>>13,Mr=w[5]|0,Ge=Mr&8191,Pe=Mr>>>13,Ke=w[6]|0,He=Ke&8191,Ye=Ke>>>13,st=w[7]|0,Ve=st&8191,f=st>>>13,s=w[8]|0,a=s&8191,p=s>>>13,A=w[9]|0,I=A&8191,N=A>>>13,J=S[0]|0,oe=J&8191,ie=J>>>13,we=S[1]|0,te=we&8191,at=we>>>13,hl=S[2]|0,ct=hl&8191,ut=hl>>>13,dl=S[3]|0,lt=dl&8191,ft=dl>>>13,pl=S[4]|0,ht=pl&8191,dt=pl>>>13,gl=S[5]|0,pt=gl&8191,gt=gl>>>13,yl=S[6]|0,yt=yl&8191,wt=yl>>>13,wl=S[7]|0,mt=wl&8191,bt=wl>>>13,ml=S[8]|0,vt=ml&8191,At=ml>>>13,bl=S[9]|0,Et=bl&8191,xt=bl>>>13;b.negative=l.negative^g.negative,b.length=19,v=Math.imul($,oe),d=Math.imul($,ie),d=d+Math.imul(Z,oe)|0,_=Math.imul(Z,ie);var na=(T+v|0)+((d&8191)<<13)|0;T=(_+(d>>>13)|0)+(na>>>26)|0,na&=67108863,v=Math.imul(ee,oe),d=Math.imul(ee,ie),d=d+Math.imul(ce,oe)|0,_=Math.imul(ce,ie),v=v+Math.imul($,te)|0,d=d+Math.imul($,at)|0,d=d+Math.imul(Z,te)|0,_=_+Math.imul(Z,at)|0;var ra=(T+v|0)+((d&8191)<<13)|0;T=(_+(d>>>13)|0)+(ra>>>26)|0,ra&=67108863,v=Math.imul(xe,oe),d=Math.imul(xe,ie),d=d+Math.imul(V,oe)|0,_=Math.imul(V,ie),v=v+Math.imul(ee,te)|0,d=d+Math.imul(ee,at)|0,d=d+Math.imul(ce,te)|0,_=_+Math.imul(ce,at)|0,v=v+Math.imul($,ct)|0,d=d+Math.imul($,ut)|0,d=d+Math.imul(Z,ct)|0,_=_+Math.imul(Z,ut)|0;var ia=(T+v|0)+((d&8191)<<13)|0;T=(_+(d>>>13)|0)+(ia>>>26)|0,ia&=67108863,v=Math.imul(Ie,oe),d=Math.imul(Ie,ie),d=d+Math.imul(je,oe)|0,_=Math.imul(je,ie),v=v+Math.imul(xe,te)|0,d=d+Math.imul(xe,at)|0,d=d+Math.imul(V,te)|0,_=_+Math.imul(V,at)|0,v=v+Math.imul(ee,ct)|0,d=d+Math.imul(ee,ut)|0,d=d+Math.imul(ce,ct)|0,_=_+Math.imul(ce,ut)|0,v=v+Math.imul($,lt)|0,d=d+Math.imul($,ft)|0,d=d+Math.imul(Z,lt)|0,_=_+Math.imul(Z,ft)|0;var oa=(T+v|0)+((d&8191)<<13)|0;T=(_+(d>>>13)|0)+(oa>>>26)|0,oa&=67108863,v=Math.imul(ze,oe),d=Math.imul(ze,ie),d=d+Math.imul(Qe,oe)|0,_=Math.imul(Qe,ie),v=v+Math.imul(Ie,te)|0,d=d+Math.imul(Ie,at)|0,d=d+Math.imul(je,te)|0,_=_+Math.imul(je,at)|0,v=v+Math.imul(xe,ct)|0,d=d+Math.imul(xe,ut)|0,d=d+Math.imul(V,ct)|0,_=_+Math.imul(V,ut)|0,v=v+Math.imul(ee,lt)|0,d=d+Math.imul(ee,ft)|0,d=d+Math.imul(ce,lt)|0,_=_+Math.imul(ce,ft)|0,v=v+Math.imul($,ht)|0,d=d+Math.imul($,dt)|0,d=d+Math.imul(Z,ht)|0,_=_+Math.imul(Z,dt)|0;var sa=(T+v|0)+((d&8191)<<13)|0;T=(_+(d>>>13)|0)+(sa>>>26)|0,sa&=67108863,v=Math.imul(Ge,oe),d=Math.imul(Ge,ie),d=d+Math.imul(Pe,oe)|0,_=Math.imul(Pe,ie),v=v+Math.imul(ze,te)|0,d=d+Math.imul(ze,at)|0,d=d+Math.imul(Qe,te)|0,_=_+Math.imul(Qe,at)|0,v=v+Math.imul(Ie,ct)|0,d=d+Math.imul(Ie,ut)|0,d=d+Math.imul(je,ct)|0,_=_+Math.imul(je,ut)|0,v=v+Math.imul(xe,lt)|0,d=d+Math.imul(xe,ft)|0,d=d+Math.imul(V,lt)|0,_=_+Math.imul(V,ft)|0,v=v+Math.imul(ee,ht)|0,d=d+Math.imul(ee,dt)|0,d=d+Math.imul(ce,ht)|0,_=_+Math.imul(ce,dt)|0,v=v+Math.imul($,pt)|0,d=d+Math.imul($,gt)|0,d=d+Math.imul(Z,pt)|0,_=_+Math.imul(Z,gt)|0;var aa=(T+v|0)+((d&8191)<<13)|0;T=(_+(d>>>13)|0)+(aa>>>26)|0,aa&=67108863,v=Math.imul(He,oe),d=Math.imul(He,ie),d=d+Math.imul(Ye,oe)|0,_=Math.imul(Ye,ie),v=v+Math.imul(Ge,te)|0,d=d+Math.imul(Ge,at)|0,d=d+Math.imul(Pe,te)|0,_=_+Math.imul(Pe,at)|0,v=v+Math.imul(ze,ct)|0,d=d+Math.imul(ze,ut)|0,d=d+Math.imul(Qe,ct)|0,_=_+Math.imul(Qe,ut)|0,v=v+Math.imul(Ie,lt)|0,d=d+Math.imul(Ie,ft)|0,d=d+Math.imul(je,lt)|0,_=_+Math.imul(je,ft)|0,v=v+Math.imul(xe,ht)|0,d=d+Math.imul(xe,dt)|0,d=d+Math.imul(V,ht)|0,_=_+Math.imul(V,dt)|0,v=v+Math.imul(ee,pt)|0,d=d+Math.imul(ee,gt)|0,d=d+Math.imul(ce,pt)|0,_=_+Math.imul(ce,gt)|0,v=v+Math.imul($,yt)|0,d=d+Math.imul($,wt)|0,d=d+Math.imul(Z,yt)|0,_=_+Math.imul(Z,wt)|0;var ca=(T+v|0)+((d&8191)<<13)|0;T=(_+(d>>>13)|0)+(ca>>>26)|0,ca&=67108863,v=Math.imul(Ve,oe),d=Math.imul(Ve,ie),d=d+Math.imul(f,oe)|0,_=Math.imul(f,ie),v=v+Math.imul(He,te)|0,d=d+Math.imul(He,at)|0,d=d+Math.imul(Ye,te)|0,_=_+Math.imul(Ye,at)|0,v=v+Math.imul(Ge,ct)|0,d=d+Math.imul(Ge,ut)|0,d=d+Math.imul(Pe,ct)|0,_=_+Math.imul(Pe,ut)|0,v=v+Math.imul(ze,lt)|0,d=d+Math.imul(ze,ft)|0,d=d+Math.imul(Qe,lt)|0,_=_+Math.imul(Qe,ft)|0,v=v+Math.imul(Ie,ht)|0,d=d+Math.imul(Ie,dt)|0,d=d+Math.imul(je,ht)|0,_=_+Math.imul(je,dt)|0,v=v+Math.imul(xe,pt)|0,d=d+Math.imul(xe,gt)|0,d=d+Math.imul(V,pt)|0,_=_+Math.imul(V,gt)|0,v=v+Math.imul(ee,yt)|0,d=d+Math.imul(ee,wt)|0,d=d+Math.imul(ce,yt)|0,_=_+Math.imul(ce,wt)|0,v=v+Math.imul($,mt)|0,d=d+Math.imul($,bt)|0,d=d+Math.imul(Z,mt)|0,_=_+Math.imul(Z,bt)|0;var ua=(T+v|0)+((d&8191)<<13)|0;T=(_+(d>>>13)|0)+(ua>>>26)|0,ua&=67108863,v=Math.imul(a,oe),d=Math.imul(a,ie),d=d+Math.imul(p,oe)|0,_=Math.imul(p,ie),v=v+Math.imul(Ve,te)|0,d=d+Math.imul(Ve,at)|0,d=d+Math.imul(f,te)|0,_=_+Math.imul(f,at)|0,v=v+Math.imul(He,ct)|0,d=d+Math.imul(He,ut)|0,d=d+Math.imul(Ye,ct)|0,_=_+Math.imul(Ye,ut)|0,v=v+Math.imul(Ge,lt)|0,d=d+Math.imul(Ge,ft)|0,d=d+Math.imul(Pe,lt)|0,_=_+Math.imul(Pe,ft)|0,v=v+Math.imul(ze,ht)|0,d=d+Math.imul(ze,dt)|0,d=d+Math.imul(Qe,ht)|0,_=_+Math.imul(Qe,dt)|0,v=v+Math.imul(Ie,pt)|0,d=d+Math.imul(Ie,gt)|0,d=d+Math.imul(je,pt)|0,_=_+Math.imul(je,gt)|0,v=v+Math.imul(xe,yt)|0,d=d+Math.imul(xe,wt)|0,d=d+Math.imul(V,yt)|0,_=_+Math.imul(V,wt)|0,v=v+Math.imul(ee,mt)|0,d=d+Math.imul(ee,bt)|0,d=d+Math.imul(ce,mt)|0,_=_+Math.imul(ce,bt)|0,v=v+Math.imul($,vt)|0,d=d+Math.imul($,At)|0,d=d+Math.imul(Z,vt)|0,_=_+Math.imul(Z,At)|0;var la=(T+v|0)+((d&8191)<<13)|0;T=(_+(d>>>13)|0)+(la>>>26)|0,la&=67108863,v=Math.imul(I,oe),d=Math.imul(I,ie),d=d+Math.imul(N,oe)|0,_=Math.imul(N,ie),v=v+Math.imul(a,te)|0,d=d+Math.imul(a,at)|0,d=d+Math.imul(p,te)|0,_=_+Math.imul(p,at)|0,v=v+Math.imul(Ve,ct)|0,d=d+Math.imul(Ve,ut)|0,d=d+Math.imul(f,ct)|0,_=_+Math.imul(f,ut)|0,v=v+Math.imul(He,lt)|0,d=d+Math.imul(He,ft)|0,d=d+Math.imul(Ye,lt)|0,_=_+Math.imul(Ye,ft)|0,v=v+Math.imul(Ge,ht)|0,d=d+Math.imul(Ge,dt)|0,d=d+Math.imul(Pe,ht)|0,_=_+Math.imul(Pe,dt)|0,v=v+Math.imul(ze,pt)|0,d=d+Math.imul(ze,gt)|0,d=d+Math.imul(Qe,pt)|0,_=_+Math.imul(Qe,gt)|0,v=v+Math.imul(Ie,yt)|0,d=d+Math.imul(Ie,wt)|0,d=d+Math.imul(je,yt)|0,_=_+Math.imul(je,wt)|0,v=v+Math.imul(xe,mt)|0,d=d+Math.imul(xe,bt)|0,d=d+Math.imul(V,mt)|0,_=_+Math.imul(V,bt)|0,v=v+Math.imul(ee,vt)|0,d=d+Math.imul(ee,At)|0,d=d+Math.imul(ce,vt)|0,_=_+Math.imul(ce,At)|0,v=v+Math.imul($,Et)|0,d=d+Math.imul($,xt)|0,d=d+Math.imul(Z,Et)|0,_=_+Math.imul(Z,xt)|0;var fa=(T+v|0)+((d&8191)<<13)|0;T=(_+(d>>>13)|0)+(fa>>>26)|0,fa&=67108863,v=Math.imul(I,te),d=Math.imul(I,at),d=d+Math.imul(N,te)|0,_=Math.imul(N,at),v=v+Math.imul(a,ct)|0,d=d+Math.imul(a,ut)|0,d=d+Math.imul(p,ct)|0,_=_+Math.imul(p,ut)|0,v=v+Math.imul(Ve,lt)|0,d=d+Math.imul(Ve,ft)|0,d=d+Math.imul(f,lt)|0,_=_+Math.imul(f,ft)|0,v=v+Math.imul(He,ht)|0,d=d+Math.imul(He,dt)|0,d=d+Math.imul(Ye,ht)|0,_=_+Math.imul(Ye,dt)|0,v=v+Math.imul(Ge,pt)|0,d=d+Math.imul(Ge,gt)|0,d=d+Math.imul(Pe,pt)|0,_=_+Math.imul(Pe,gt)|0,v=v+Math.imul(ze,yt)|0,d=d+Math.imul(ze,wt)|0,d=d+Math.imul(Qe,yt)|0,_=_+Math.imul(Qe,wt)|0,v=v+Math.imul(Ie,mt)|0,d=d+Math.imul(Ie,bt)|0,d=d+Math.imul(je,mt)|0,_=_+Math.imul(je,bt)|0,v=v+Math.imul(xe,vt)|0,d=d+Math.imul(xe,At)|0,d=d+Math.imul(V,vt)|0,_=_+Math.imul(V,At)|0,v=v+Math.imul(ee,Et)|0,d=d+Math.imul(ee,xt)|0,d=d+Math.imul(ce,Et)|0,_=_+Math.imul(ce,xt)|0;var ha=(T+v|0)+((d&8191)<<13)|0;T=(_+(d>>>13)|0)+(ha>>>26)|0,ha&=67108863,v=Math.imul(I,ct),d=Math.imul(I,ut),d=d+Math.imul(N,ct)|0,_=Math.imul(N,ut),v=v+Math.imul(a,lt)|0,d=d+Math.imul(a,ft)|0,d=d+Math.imul(p,lt)|0,_=_+Math.imul(p,ft)|0,v=v+Math.imul(Ve,ht)|0,d=d+Math.imul(Ve,dt)|0,d=d+Math.imul(f,ht)|0,_=_+Math.imul(f,dt)|0,v=v+Math.imul(He,pt)|0,d=d+Math.imul(He,gt)|0,d=d+Math.imul(Ye,pt)|0,_=_+Math.imul(Ye,gt)|0,v=v+Math.imul(Ge,yt)|0,d=d+Math.imul(Ge,wt)|0,d=d+Math.imul(Pe,yt)|0,_=_+Math.imul(Pe,wt)|0,v=v+Math.imul(ze,mt)|0,d=d+Math.imul(ze,bt)|0,d=d+Math.imul(Qe,mt)|0,_=_+Math.imul(Qe,bt)|0,v=v+Math.imul(Ie,vt)|0,d=d+Math.imul(Ie,At)|0,d=d+Math.imul(je,vt)|0,_=_+Math.imul(je,At)|0,v=v+Math.imul(xe,Et)|0,d=d+Math.imul(xe,xt)|0,d=d+Math.imul(V,Et)|0,_=_+Math.imul(V,xt)|0;var da=(T+v|0)+((d&8191)<<13)|0;T=(_+(d>>>13)|0)+(da>>>26)|0,da&=67108863,v=Math.imul(I,lt),d=Math.imul(I,ft),d=d+Math.imul(N,lt)|0,_=Math.imul(N,ft),v=v+Math.imul(a,ht)|0,d=d+Math.imul(a,dt)|0,d=d+Math.imul(p,ht)|0,_=_+Math.imul(p,dt)|0,v=v+Math.imul(Ve,pt)|0,d=d+Math.imul(Ve,gt)|0,d=d+Math.imul(f,pt)|0,_=_+Math.imul(f,gt)|0,v=v+Math.imul(He,yt)|0,d=d+Math.imul(He,wt)|0,d=d+Math.imul(Ye,yt)|0,_=_+Math.imul(Ye,wt)|0,v=v+Math.imul(Ge,mt)|0,d=d+Math.imul(Ge,bt)|0,d=d+Math.imul(Pe,mt)|0,_=_+Math.imul(Pe,bt)|0,v=v+Math.imul(ze,vt)|0,d=d+Math.imul(ze,At)|0,d=d+Math.imul(Qe,vt)|0,_=_+Math.imul(Qe,At)|0,v=v+Math.imul(Ie,Et)|0,d=d+Math.imul(Ie,xt)|0,d=d+Math.imul(je,Et)|0,_=_+Math.imul(je,xt)|0;var pa=(T+v|0)+((d&8191)<<13)|0;T=(_+(d>>>13)|0)+(pa>>>26)|0,pa&=67108863,v=Math.imul(I,ht),d=Math.imul(I,dt),d=d+Math.imul(N,ht)|0,_=Math.imul(N,dt),v=v+Math.imul(a,pt)|0,d=d+Math.imul(a,gt)|0,d=d+Math.imul(p,pt)|0,_=_+Math.imul(p,gt)|0,v=v+Math.imul(Ve,yt)|0,d=d+Math.imul(Ve,wt)|0,d=d+Math.imul(f,yt)|0,_=_+Math.imul(f,wt)|0,v=v+Math.imul(He,mt)|0,d=d+Math.imul(He,bt)|0,d=d+Math.imul(Ye,mt)|0,_=_+Math.imul(Ye,bt)|0,v=v+Math.imul(Ge,vt)|0,d=d+Math.imul(Ge,At)|0,d=d+Math.imul(Pe,vt)|0,_=_+Math.imul(Pe,At)|0,v=v+Math.imul(ze,Et)|0,d=d+Math.imul(ze,xt)|0,d=d+Math.imul(Qe,Et)|0,_=_+Math.imul(Qe,xt)|0;var ga=(T+v|0)+((d&8191)<<13)|0;T=(_+(d>>>13)|0)+(ga>>>26)|0,ga&=67108863,v=Math.imul(I,pt),d=Math.imul(I,gt),d=d+Math.imul(N,pt)|0,_=Math.imul(N,gt),v=v+Math.imul(a,yt)|0,d=d+Math.imul(a,wt)|0,d=d+Math.imul(p,yt)|0,_=_+Math.imul(p,wt)|0,v=v+Math.imul(Ve,mt)|0,d=d+Math.imul(Ve,bt)|0,d=d+Math.imul(f,mt)|0,_=_+Math.imul(f,bt)|0,v=v+Math.imul(He,vt)|0,d=d+Math.imul(He,At)|0,d=d+Math.imul(Ye,vt)|0,_=_+Math.imul(Ye,At)|0,v=v+Math.imul(Ge,Et)|0,d=d+Math.imul(Ge,xt)|0,d=d+Math.imul(Pe,Et)|0,_=_+Math.imul(Pe,xt)|0;var ya=(T+v|0)+((d&8191)<<13)|0;T=(_+(d>>>13)|0)+(ya>>>26)|0,ya&=67108863,v=Math.imul(I,yt),d=Math.imul(I,wt),d=d+Math.imul(N,yt)|0,_=Math.imul(N,wt),v=v+Math.imul(a,mt)|0,d=d+Math.imul(a,bt)|0,d=d+Math.imul(p,mt)|0,_=_+Math.imul(p,bt)|0,v=v+Math.imul(Ve,vt)|0,d=d+Math.imul(Ve,At)|0,d=d+Math.imul(f,vt)|0,_=_+Math.imul(f,At)|0,v=v+Math.imul(He,Et)|0,d=d+Math.imul(He,xt)|0,d=d+Math.imul(Ye,Et)|0,_=_+Math.imul(Ye,xt)|0;var wa=(T+v|0)+((d&8191)<<13)|0;T=(_+(d>>>13)|0)+(wa>>>26)|0,wa&=67108863,v=Math.imul(I,mt),d=Math.imul(I,bt),d=d+Math.imul(N,mt)|0,_=Math.imul(N,bt),v=v+Math.imul(a,vt)|0,d=d+Math.imul(a,At)|0,d=d+Math.imul(p,vt)|0,_=_+Math.imul(p,At)|0,v=v+Math.imul(Ve,Et)|0,d=d+Math.imul(Ve,xt)|0,d=d+Math.imul(f,Et)|0,_=_+Math.imul(f,xt)|0;var ma=(T+v|0)+((d&8191)<<13)|0;T=(_+(d>>>13)|0)+(ma>>>26)|0,ma&=67108863,v=Math.imul(I,vt),d=Math.imul(I,At),d=d+Math.imul(N,vt)|0,_=Math.imul(N,At),v=v+Math.imul(a,Et)|0,d=d+Math.imul(a,xt)|0,d=d+Math.imul(p,Et)|0,_=_+Math.imul(p,xt)|0;var ba=(T+v|0)+((d&8191)<<13)|0;T=(_+(d>>>13)|0)+(ba>>>26)|0,ba&=67108863,v=Math.imul(I,Et),d=Math.imul(I,xt),d=d+Math.imul(N,Et)|0,_=Math.imul(N,xt);var va=(T+v|0)+((d&8191)<<13)|0;return T=(_+(d>>>13)|0)+(va>>>26)|0,va&=67108863,U[0]=na,U[1]=ra,U[2]=ia,U[3]=oa,U[4]=sa,U[5]=aa,U[6]=ca,U[7]=ua,U[8]=la,U[9]=fa,U[10]=ha,U[11]=da,U[12]=pa,U[13]=ga,U[14]=ya,U[15]=wa,U[16]=ma,U[17]=ba,U[18]=va,T!==0&&(U[19]=T,b.length++),b};Math.imul||(F=D);function O(M,l,g){g.negative=l.negative^M.negative,g.length=M.length+l.length;for(var b=0,w=0,S=0;S<g.length-1;S++){var U=w;w=0;for(var T=b&67108863,v=Math.min(S,l.length-1),d=Math.max(0,S-M.length+1);d<=v;d++){var _=S-d,Q=M.words[_]|0,$=l.words[d]|0,Z=Q*$,se=Z&67108863;U=U+(Z/67108864|0)|0,se=se+T|0,T=se&67108863,U=U+(se>>>26)|0,w+=U>>>26,U&=67108863}g.words[S]=T,b=U,U=w}return b!==0?g.words[S]=b:g.length--,g._strip()}function z(M,l,g){return O(M,l,g)}i.prototype.mulTo=function(l,g){var b,w=this.length+l.length;return this.length===10&&l.length===10?b=F(this,l,g):w<63?b=D(this,l,g):w<1024?b=O(this,l,g):b=z(this,l,g),b},i.prototype.mul=function(l){var g=new i(null);return g.words=new Array(this.length+l.length),this.mulTo(l,g)},i.prototype.mulf=function(l){var g=new i(null);return g.words=new Array(this.length+l.length),z(this,l,g)},i.prototype.imul=function(l){return this.clone().mulTo(l,this)},i.prototype.imuln=function(l){var g=l<0;g&&(l=-l),n(typeof l=="number"),n(l<67108864);for(var b=0,w=0;w<this.length;w++){var S=(this.words[w]|0)*l,U=(S&67108863)+(b&67108863);b>>=26,b+=S/67108864|0,b+=U>>>26,this.words[w]=U&67108863}return b!==0&&(this.words[w]=b,this.length++),g?this.ineg():this},i.prototype.muln=function(l){return this.clone().imuln(l)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(l){var g=R(l);if(g.length===0)return new i(1);for(var b=this,w=0;w<g.length&&g[w]===0;w++,b=b.sqr());if(++w<g.length)for(var S=b.sqr();w<g.length;w++,S=S.sqr())g[w]!==0&&(b=b.mul(S));return b},i.prototype.iushln=function(l){n(typeof l=="number"&&l>=0);var g=l%26,b=(l-g)/26,w=67108863>>>26-g<<26-g,S;if(g!==0){var U=0;for(S=0;S<this.length;S++){var T=this.words[S]&w,v=(this.words[S]|0)-T<<g;this.words[S]=v|U,U=T>>>26-g}U&&(this.words[S]=U,this.length++)}if(b!==0){for(S=this.length-1;S>=0;S--)this.words[S+b]=this.words[S];for(S=0;S<b;S++)this.words[S]=0;this.length+=b}return this._strip()},i.prototype.ishln=function(l){return n(this.negative===0),this.iushln(l)},i.prototype.iushrn=function(l,g,b){n(typeof l=="number"&&l>=0);var w;g?w=(g-g%26)/26:w=0;var S=l%26,U=Math.min((l-S)/26,this.length),T=67108863^67108863>>>S<<S,v=b;if(w-=U,w=Math.max(0,w),v){for(var d=0;d<U;d++)v.words[d]=this.words[d];v.length=U}if(U!==0)if(this.length>U)for(this.length-=U,d=0;d<this.length;d++)this.words[d]=this.words[d+U];else this.words[0]=0,this.length=1;var _=0;for(d=this.length-1;d>=0&&(_!==0||d>=w);d--){var Q=this.words[d]|0;this.words[d]=_<<26-S|Q>>>S,_=Q&T}return v&&_!==0&&(v.words[v.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(l,g,b){return n(this.negative===0),this.iushrn(l,g,b)},i.prototype.shln=function(l){return this.clone().ishln(l)},i.prototype.ushln=function(l){return this.clone().iushln(l)},i.prototype.shrn=function(l){return this.clone().ishrn(l)},i.prototype.ushrn=function(l){return this.clone().iushrn(l)},i.prototype.testn=function(l){n(typeof l=="number"&&l>=0);var g=l%26,b=(l-g)/26,w=1<<g;if(this.length<=b)return!1;var S=this.words[b];return!!(S&w)},i.prototype.imaskn=function(l){n(typeof l=="number"&&l>=0);var g=l%26,b=(l-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(g!==0&&b++,this.length=Math.min(b,this.length),g!==0){var w=67108863^67108863>>>g<<g;this.words[this.length-1]&=w}return this._strip()},i.prototype.maskn=function(l){return this.clone().imaskn(l)},i.prototype.iaddn=function(l){return n(typeof l=="number"),n(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},i.prototype._iaddn=function(l){this.words[0]+=l;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},i.prototype.isubn=function(l){if(n(typeof l=="number"),n(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},i.prototype.addn=function(l){return this.clone().iaddn(l)},i.prototype.subn=function(l){return this.clone().isubn(l)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(l,g,b){var w=l.length+b,S;this._expand(w);var U,T=0;for(S=0;S<l.length;S++){U=(this.words[S+b]|0)+T;var v=(l.words[S]|0)*g;U-=v&67108863,T=(U>>26)-(v/67108864|0),this.words[S+b]=U&67108863}for(;S<this.length-b;S++)U=(this.words[S+b]|0)+T,T=U>>26,this.words[S+b]=U&67108863;if(T===0)return this._strip();for(n(T===-1),T=0,S=0;S<this.length;S++)U=-(this.words[S]|0)+T,T=U>>26,this.words[S]=U&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(l,g){var b=this.length-l.length,w=this.clone(),S=l,U=S.words[S.length-1]|0,T=this._countBits(U);b=26-T,b!==0&&(S=S.ushln(b),w.iushln(b),U=S.words[S.length-1]|0);var v=w.length-S.length,d;if(g!=="mod"){d=new i(null),d.length=v+1,d.words=new Array(d.length);for(var _=0;_<d.length;_++)d.words[_]=0}var Q=w.clone()._ishlnsubmul(S,1,v);Q.negative===0&&(w=Q,d&&(d.words[v]=1));for(var $=v-1;$>=0;$--){var Z=(w.words[S.length+$]|0)*67108864+(w.words[S.length+$-1]|0);for(Z=Math.min(Z/U|0,67108863),w._ishlnsubmul(S,Z,$);w.negative!==0;)Z--,w.negative=0,w._ishlnsubmul(S,1,$),w.isZero()||(w.negative^=1);d&&(d.words[$]=Z)}return d&&d._strip(),w._strip(),g!=="div"&&b!==0&&w.iushrn(b),{div:d||null,mod:w}},i.prototype.divmod=function(l,g,b){if(n(!l.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var w,S,U;return this.negative!==0&&l.negative===0?(U=this.neg().divmod(l,g),g!=="mod"&&(w=U.div.neg()),g!=="div"&&(S=U.mod.neg(),b&&S.negative!==0&&S.iadd(l)),{div:w,mod:S}):this.negative===0&&l.negative!==0?(U=this.divmod(l.neg(),g),g!=="mod"&&(w=U.div.neg()),{div:w,mod:U.mod}):(this.negative&l.negative)!==0?(U=this.neg().divmod(l.neg(),g),g!=="div"&&(S=U.mod.neg(),b&&S.negative!==0&&S.isub(l)),{div:U.div,mod:S}):l.length>this.length||this.cmp(l)<0?{div:new i(0),mod:this}:l.length===1?g==="div"?{div:this.divn(l.words[0]),mod:null}:g==="mod"?{div:null,mod:new i(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new i(this.modrn(l.words[0]))}:this._wordDiv(l,g)},i.prototype.div=function(l){return this.divmod(l,"div",!1).div},i.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},i.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},i.prototype.divRound=function(l){var g=this.divmod(l);if(g.mod.isZero())return g.div;var b=g.div.negative!==0?g.mod.isub(l):g.mod,w=l.ushrn(1),S=l.andln(1),U=b.cmp(w);return U<0||S===1&&U===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},i.prototype.modrn=function(l){var g=l<0;g&&(l=-l),n(l<=67108863);for(var b=(1<<26)%l,w=0,S=this.length-1;S>=0;S--)w=(b*w+(this.words[S]|0))%l;return g?-w:w},i.prototype.modn=function(l){return this.modrn(l)},i.prototype.idivn=function(l){var g=l<0;g&&(l=-l),n(l<=67108863);for(var b=0,w=this.length-1;w>=0;w--){var S=(this.words[w]|0)+b*67108864;this.words[w]=S/l|0,b=S%l}return this._strip(),g?this.ineg():this},i.prototype.divn=function(l){return this.clone().idivn(l)},i.prototype.egcd=function(l){n(l.negative===0),n(!l.isZero());var g=this,b=l.clone();g.negative!==0?g=g.umod(l):g=g.clone();for(var w=new i(1),S=new i(0),U=new i(0),T=new i(1),v=0;g.isEven()&&b.isEven();)g.iushrn(1),b.iushrn(1),++v;for(var d=b.clone(),_=g.clone();!g.isZero();){for(var Q=0,$=1;(g.words[0]&$)===0&&Q<26;++Q,$<<=1);if(Q>0)for(g.iushrn(Q);Q-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(d),S.isub(_)),w.iushrn(1),S.iushrn(1);for(var Z=0,se=1;(b.words[0]&se)===0&&Z<26;++Z,se<<=1);if(Z>0)for(b.iushrn(Z);Z-- >0;)(U.isOdd()||T.isOdd())&&(U.iadd(d),T.isub(_)),U.iushrn(1),T.iushrn(1);g.cmp(b)>=0?(g.isub(b),w.isub(U),S.isub(T)):(b.isub(g),U.isub(w),T.isub(S))}return{a:U,b:T,gcd:b.iushln(v)}},i.prototype._invmp=function(l){n(l.negative===0),n(!l.isZero());var g=this,b=l.clone();g.negative!==0?g=g.umod(l):g=g.clone();for(var w=new i(1),S=new i(0),U=b.clone();g.cmpn(1)>0&&b.cmpn(1)>0;){for(var T=0,v=1;(g.words[0]&v)===0&&T<26;++T,v<<=1);if(T>0)for(g.iushrn(T);T-- >0;)w.isOdd()&&w.iadd(U),w.iushrn(1);for(var d=0,_=1;(b.words[0]&_)===0&&d<26;++d,_<<=1);if(d>0)for(b.iushrn(d);d-- >0;)S.isOdd()&&S.iadd(U),S.iushrn(1);g.cmp(b)>=0?(g.isub(b),w.isub(S)):(b.isub(g),S.isub(w))}var Q;return g.cmpn(1)===0?Q=w:Q=S,Q.cmpn(0)<0&&Q.iadd(l),Q},i.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var g=this.clone(),b=l.clone();g.negative=0,b.negative=0;for(var w=0;g.isEven()&&b.isEven();w++)g.iushrn(1),b.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;b.isEven();)b.iushrn(1);var S=g.cmp(b);if(S<0){var U=g;g=b,b=U}else if(S===0||b.cmpn(1)===0)break;g.isub(b)}while(!0);return b.iushln(w)},i.prototype.invm=function(l){return this.egcd(l).a.umod(l)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(l){return this.words[0]&l},i.prototype.bincn=function(l){n(typeof l=="number");var g=l%26,b=(l-g)/26,w=1<<g;if(this.length<=b)return this._expand(b+1),this.words[b]|=w,this;for(var S=w,U=b;S!==0&&U<this.length;U++){var T=this.words[U]|0;T+=S,S=T>>>26,T&=67108863,this.words[U]=T}return S!==0&&(this.words[U]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(l){var g=l<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var b;if(this.length>1)b=1;else{g&&(l=-l),n(l<=67108863,"Number is too big");var w=this.words[0]|0;b=w===l?0:w<l?-1:1}return this.negative!==0?-b|0:b},i.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var g=this.ucmp(l);return this.negative!==0?-g|0:g},i.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var g=0,b=this.length-1;b>=0;b--){var w=this.words[b]|0,S=l.words[b]|0;if(w!==S){w<S?g=-1:w>S&&(g=1);break}}return g},i.prototype.gtn=function(l){return this.cmpn(l)===1},i.prototype.gt=function(l){return this.cmp(l)===1},i.prototype.gten=function(l){return this.cmpn(l)>=0},i.prototype.gte=function(l){return this.cmp(l)>=0},i.prototype.ltn=function(l){return this.cmpn(l)===-1},i.prototype.lt=function(l){return this.cmp(l)===-1},i.prototype.lten=function(l){return this.cmpn(l)<=0},i.prototype.lte=function(l){return this.cmp(l)<=0},i.prototype.eqn=function(l){return this.cmpn(l)===0},i.prototype.eq=function(l){return this.cmp(l)===0},i.red=function(l){return new ye(l)},i.prototype.toRed=function(l){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(l){return this.red=l,this},i.prototype.forceRed=function(l){return n(!this.red,"Already a number in reduction context"),this._forceRed(l)},i.prototype.redAdd=function(l){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},i.prototype.redIAdd=function(l){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},i.prototype.redSub=function(l){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},i.prototype.redISub=function(l){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},i.prototype.redShl=function(l){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},i.prototype.redMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},i.prototype.redIMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(l){return n(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var L={k256:null,p224:null,p192:null,p25519:null};function H(M,l){this.name=M,this.p=new i(l,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}H.prototype._tmp=function(){var l=new i(null);return l.words=new Array(Math.ceil(this.n/13)),l},H.prototype.ireduce=function(l){var g=l,b;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),b=g.bitLength();while(b>this.n);var w=b<this.n?-1:g.ucmp(this.p);return w===0?(g.words[0]=0,g.length=1):w>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},H.prototype.split=function(l,g){l.iushrn(this.n,0,g)},H.prototype.imulK=function(l){return l.imul(this.k)};function j(){H.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(j,H),j.prototype.split=function(l,g){for(var b=4194303,w=Math.min(l.length,9),S=0;S<w;S++)g.words[S]=l.words[S];if(g.length=w,l.length<=9){l.words[0]=0,l.length=1;return}var U=l.words[9];for(g.words[g.length++]=U&b,S=10;S<l.length;S++){var T=l.words[S]|0;l.words[S-10]=(T&b)<<4|U>>>22,U=T}U>>>=22,l.words[S-10]=U,U===0&&l.length>10?l.length-=10:l.length-=9},j.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var g=0,b=0;b<l.length;b++){var w=l.words[b]|0;g+=w*977,l.words[b]=g&67108863,g=w*64+(g/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function q(){H.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(q,H);function he(){H.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(he,H);function Me(){H.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Me,H),Me.prototype.imulK=function(l){for(var g=0,b=0;b<l.length;b++){var w=(l.words[b]|0)*19+g,S=w&67108863;w>>>=26,l.words[b]=S,g=w}return g!==0&&(l.words[l.length++]=g),l},i._prime=function(l){if(L[l])return L[l];var g;if(l==="k256")g=new j;else if(l==="p224")g=new q;else if(l==="p192")g=new he;else if(l==="p25519")g=new Me;else throw new Error("Unknown prime "+l);return L[l]=g,g};function ye(M){if(typeof M=="string"){var l=i._prime(M);this.m=l.p,this.prime=l}else n(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}ye.prototype._verify1=function(l){n(l.negative===0,"red works only with positives"),n(l.red,"red works only with red numbers")},ye.prototype._verify2=function(l,g){n((l.negative|g.negative)===0,"red works only with positives"),n(l.red&&l.red===g.red,"red works only with red numbers")},ye.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(m(l,l.umod(this.m)._forceRed(this)),l)},ye.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},ye.prototype.add=function(l,g){this._verify2(l,g);var b=l.add(g);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},ye.prototype.iadd=function(l,g){this._verify2(l,g);var b=l.iadd(g);return b.cmp(this.m)>=0&&b.isub(this.m),b},ye.prototype.sub=function(l,g){this._verify2(l,g);var b=l.sub(g);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},ye.prototype.isub=function(l,g){this._verify2(l,g);var b=l.isub(g);return b.cmpn(0)<0&&b.iadd(this.m),b},ye.prototype.shl=function(l,g){return this._verify1(l),this.imod(l.ushln(g))},ye.prototype.imul=function(l,g){return this._verify2(l,g),this.imod(l.imul(g))},ye.prototype.mul=function(l,g){return this._verify2(l,g),this.imod(l.mul(g))},ye.prototype.isqr=function(l){return this.imul(l,l.clone())},ye.prototype.sqr=function(l){return this.mul(l,l)},ye.prototype.sqrt=function(l){if(l.isZero())return l.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(l,b)}for(var w=this.m.subn(1),S=0;!w.isZero()&&w.andln(1)===0;)S++,w.iushrn(1);n(!w.isZero());var U=new i(1).toRed(this),T=U.redNeg(),v=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);this.pow(d,v).cmp(T)!==0;)d.redIAdd(T);for(var _=this.pow(d,w),Q=this.pow(l,w.addn(1).iushrn(1)),$=this.pow(l,w),Z=S;$.cmp(U)!==0;){for(var se=$,ee=0;se.cmp(U)!==0;ee++)se=se.redSqr();n(ee<Z);var ce=this.pow(_,new i(1).iushln(Z-ee-1));Q=Q.redMul(ce),_=ce.redSqr(),$=$.redMul(_),Z=ee}return Q},ye.prototype.invm=function(l){var g=l._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},ye.prototype.pow=function(l,g){if(g.isZero())return new i(1).toRed(this);if(g.cmpn(1)===0)return l.clone();var b=4,w=new Array(1<<b);w[0]=new i(1).toRed(this),w[1]=l;for(var S=2;S<w.length;S++)w[S]=this.mul(w[S-1],l);var U=w[0],T=0,v=0,d=g.bitLength()%26;for(d===0&&(d=26),S=g.length-1;S>=0;S--){for(var _=g.words[S],Q=d-1;Q>=0;Q--){var $=_>>Q&1;if(U!==w[0]&&(U=this.sqr(U)),$===0&&T===0){v=0;continue}T<<=1,T|=$,v++,!(v!==b&&(S!==0||Q!==0))&&(U=this.mul(U,w[T]),v=0,T=0)}d=26}return U},ye.prototype.convertTo=function(l){var g=l.umod(this.m);return g===l?g.clone():g},ye.prototype.convertFrom=function(l){var g=l.clone();return g.red=null,g},i.mont=function(l){return new Be(l)};function Be(M){ye.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(Be,ye),Be.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},Be.prototype.convertFrom=function(l){var g=this.imod(l.mul(this.rinv));return g.red=null,g},Be.prototype.imul=function(l,g){if(l.isZero()||g.isZero())return l.words[0]=0,l.length=1,l;var b=l.imul(g),w=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=b.isub(w).iushrn(this.shift),U=S;return S.cmp(this.m)>=0?U=S.isub(this.m):S.cmpn(0)<0&&(U=S.iadd(this.m)),U._forceRed(this)},Be.prototype.mul=function(l,g){if(l.isZero()||g.isZero())return new i(0)._forceRed(this);var b=l.mul(g),w=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=b.isub(w).iushrn(this.shift),U=S;return S.cmp(this.m)>=0?U=S.isub(this.m):S.cmpn(0)<0&&(U=S.iadd(this.m)),U._forceRed(this)},Be.prototype.invm=function(l){var g=this.imod(l._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(r,tn)})(Wo);const dc=Wo.exports;var hr={exports:{}},jo={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=Nr,t=gi,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=u,r.SlowBuffer=F,r.INSPECT_MAX_BYTES=50;const o=2147483647;r.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=i(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const f=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(f,s),f.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function c(f){if(f>o)throw new RangeError('The value "'+f+'" is invalid for option "size"');const s=new Uint8Array(f);return Object.setPrototypeOf(s,u.prototype),s}function u(f,s,a){if(typeof f=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(f)}return h(f,s,a)}u.poolSize=8192;function h(f,s,a){if(typeof f=="string")return B(f,s);if(ArrayBuffer.isView(f))return C(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(Ke(f,ArrayBuffer)||f&&Ke(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ke(f,SharedArrayBuffer)||f&&Ke(f.buffer,SharedArrayBuffer)))return k(f,s,a);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const p=f.valueOf&&f.valueOf();if(p!=null&&p!==f)return u.from(p,s,a);const A=R(f);if(A)return A;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return u.from(f[Symbol.toPrimitive]("string"),s,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}u.from=function(f,s,a){return h(f,s,a)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function y(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function m(f,s,a){return y(f),f<=0?c(f):s!==void 0?typeof a=="string"?c(f).fill(s,a):c(f).fill(s):c(f)}u.alloc=function(f,s,a){return m(f,s,a)};function x(f){return y(f),c(f<0?0:D(f)|0)}u.allocUnsafe=function(f){return x(f)},u.allocUnsafeSlow=function(f){return x(f)};function B(f,s){if((typeof s!="string"||s==="")&&(s="utf8"),!u.isEncoding(s))throw new TypeError("Unknown encoding: "+s);const a=O(f,s)|0;let p=c(a);const A=p.write(f,s);return A!==a&&(p=p.slice(0,A)),p}function E(f){const s=f.length<0?0:D(f.length)|0,a=c(s);for(let p=0;p<s;p+=1)a[p]=f[p]&255;return a}function C(f){if(Ke(f,Uint8Array)){const s=new Uint8Array(f);return k(s.buffer,s.byteOffset,s.byteLength)}return E(f)}function k(f,s,a){if(s<0||f.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<s+(a||0))throw new RangeError('"length" is outside of buffer bounds');let p;return s===void 0&&a===void 0?p=new Uint8Array(f):a===void 0?p=new Uint8Array(f,s):p=new Uint8Array(f,s,a),Object.setPrototypeOf(p,u.prototype),p}function R(f){if(u.isBuffer(f)){const s=D(f.length)|0,a=c(s);return a.length===0||f.copy(a,0,0,s),a}if(f.length!==void 0)return typeof f.length!="number"||He(f.length)?c(0):E(f);if(f.type==="Buffer"&&Array.isArray(f.data))return E(f.data)}function D(f){if(f>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return f|0}function F(f){return+f!=f&&(f=0),u.alloc(+f)}u.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==u.prototype},u.compare=function(s,a){if(Ke(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),Ke(a,Uint8Array)&&(a=u.from(a,a.offset,a.byteLength)),!u.isBuffer(s)||!u.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===a)return 0;let p=s.length,A=a.length;for(let I=0,N=Math.min(p,A);I<N;++I)if(s[I]!==a[I]){p=s[I],A=a[I];break}return p<A?-1:A<p?1:0},u.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(s,a){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return u.alloc(0);let p;if(a===void 0)for(a=0,p=0;p<s.length;++p)a+=s[p].length;const A=u.allocUnsafe(a);let I=0;for(p=0;p<s.length;++p){let N=s[p];if(Ke(N,Uint8Array))I+N.length>A.length?(u.isBuffer(N)||(N=u.from(N)),N.copy(A,I)):Uint8Array.prototype.set.call(A,N,I);else if(u.isBuffer(N))N.copy(A,I);else throw new TypeError('"list" argument must be an Array of Buffers');I+=N.length}return A};function O(f,s){if(u.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||Ke(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);const a=f.length,p=arguments.length>2&&arguments[2]===!0;if(!p&&a===0)return 0;let A=!1;for(;;)switch(s){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return ze(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return Ge(f).length;default:if(A)return p?-1:ze(f).length;s=(""+s).toLowerCase(),A=!0}}u.byteLength=O;function z(f,s,a){let p=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,s>>>=0,a<=s))return"";for(f||(f="utf8");;)switch(f){case"hex":return U(this,s,a);case"utf8":case"utf-8":return l(this,s,a);case"ascii":return w(this,s,a);case"latin1":case"binary":return S(this,s,a);case"base64":return M(this,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,s,a);default:if(p)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),p=!0}}u.prototype._isBuffer=!0;function L(f,s,a){const p=f[s];f[s]=f[a],f[a]=p}u.prototype.swap16=function(){const s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let a=0;a<s;a+=2)L(this,a,a+1);return this},u.prototype.swap32=function(){const s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let a=0;a<s;a+=4)L(this,a,a+3),L(this,a+1,a+2);return this},u.prototype.swap64=function(){const s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let a=0;a<s;a+=8)L(this,a,a+7),L(this,a+1,a+6),L(this,a+2,a+5),L(this,a+3,a+4);return this},u.prototype.toString=function(){const s=this.length;return s===0?"":arguments.length===0?l(this,0,s):z.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(s){if(!u.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:u.compare(this,s)===0},u.prototype.inspect=function(){let s="";const a=r.INSPECT_MAX_BYTES;return s=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(s+=" ... "),"<Buffer "+s+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(s,a,p,A,I){if(Ke(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),!u.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(a===void 0&&(a=0),p===void 0&&(p=s?s.length:0),A===void 0&&(A=0),I===void 0&&(I=this.length),a<0||p>s.length||A<0||I>this.length)throw new RangeError("out of range index");if(A>=I&&a>=p)return 0;if(A>=I)return-1;if(a>=p)return 1;if(a>>>=0,p>>>=0,A>>>=0,I>>>=0,this===s)return 0;let N=I-A,J=p-a;const oe=Math.min(N,J),ie=this.slice(A,I),we=s.slice(a,p);for(let te=0;te<oe;++te)if(ie[te]!==we[te]){N=ie[te],J=we[te];break}return N<J?-1:J<N?1:0};function H(f,s,a,p,A){if(f.length===0)return-1;if(typeof a=="string"?(p=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,He(a)&&(a=A?0:f.length-1),a<0&&(a=f.length+a),a>=f.length){if(A)return-1;a=f.length-1}else if(a<0)if(A)a=0;else return-1;if(typeof s=="string"&&(s=u.from(s,p)),u.isBuffer(s))return s.length===0?-1:j(f,s,a,p,A);if(typeof s=="number")return s=s&255,typeof Uint8Array.prototype.indexOf=="function"?A?Uint8Array.prototype.indexOf.call(f,s,a):Uint8Array.prototype.lastIndexOf.call(f,s,a):j(f,[s],a,p,A);throw new TypeError("val must be string, number or Buffer")}function j(f,s,a,p,A){let I=1,N=f.length,J=s.length;if(p!==void 0&&(p=String(p).toLowerCase(),p==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(f.length<2||s.length<2)return-1;I=2,N/=2,J/=2,a/=2}function oe(we,te){return I===1?we[te]:we.readUInt16BE(te*I)}let ie;if(A){let we=-1;for(ie=a;ie<N;ie++)if(oe(f,ie)===oe(s,we===-1?0:ie-we)){if(we===-1&&(we=ie),ie-we+1===J)return we*I}else we!==-1&&(ie-=ie-we),we=-1}else for(a+J>N&&(a=N-J),ie=a;ie>=0;ie--){let we=!0;for(let te=0;te<J;te++)if(oe(f,ie+te)!==oe(s,te)){we=!1;break}if(we)return ie}return-1}u.prototype.includes=function(s,a,p){return this.indexOf(s,a,p)!==-1},u.prototype.indexOf=function(s,a,p){return H(this,s,a,p,!0)},u.prototype.lastIndexOf=function(s,a,p){return H(this,s,a,p,!1)};function q(f,s,a,p){a=Number(a)||0;const A=f.length-a;p?(p=Number(p),p>A&&(p=A)):p=A;const I=s.length;p>I/2&&(p=I/2);let N;for(N=0;N<p;++N){const J=parseInt(s.substr(N*2,2),16);if(He(J))return N;f[a+N]=J}return N}function he(f,s,a,p){return Pe(ze(s,f.length-a),f,a,p)}function Me(f,s,a,p){return Pe(Qe(s),f,a,p)}function ye(f,s,a,p){return Pe(Ge(s),f,a,p)}function Be(f,s,a,p){return Pe(Mr(s,f.length-a),f,a,p)}u.prototype.write=function(s,a,p,A){if(a===void 0)A="utf8",p=this.length,a=0;else if(p===void 0&&typeof a=="string")A=a,p=this.length,a=0;else if(isFinite(a))a=a>>>0,isFinite(p)?(p=p>>>0,A===void 0&&(A="utf8")):(A=p,p=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const I=this.length-a;if((p===void 0||p>I)&&(p=I),s.length>0&&(p<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");let N=!1;for(;;)switch(A){case"hex":return q(this,s,a,p);case"utf8":case"utf-8":return he(this,s,a,p);case"ascii":case"latin1":case"binary":return Me(this,s,a,p);case"base64":return ye(this,s,a,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Be(this,s,a,p);default:if(N)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),N=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(f,s,a){return s===0&&a===f.length?e.fromByteArray(f):e.fromByteArray(f.slice(s,a))}function l(f,s,a){a=Math.min(f.length,a);const p=[];let A=s;for(;A<a;){const I=f[A];let N=null,J=I>239?4:I>223?3:I>191?2:1;if(A+J<=a){let oe,ie,we,te;switch(J){case 1:I<128&&(N=I);break;case 2:oe=f[A+1],(oe&192)===128&&(te=(I&31)<<6|oe&63,te>127&&(N=te));break;case 3:oe=f[A+1],ie=f[A+2],(oe&192)===128&&(ie&192)===128&&(te=(I&15)<<12|(oe&63)<<6|ie&63,te>2047&&(te<55296||te>57343)&&(N=te));break;case 4:oe=f[A+1],ie=f[A+2],we=f[A+3],(oe&192)===128&&(ie&192)===128&&(we&192)===128&&(te=(I&15)<<18|(oe&63)<<12|(ie&63)<<6|we&63,te>65535&&te<1114112&&(N=te))}}N===null?(N=65533,J=1):N>65535&&(N-=65536,p.push(N>>>10&1023|55296),N=56320|N&1023),p.push(N),A+=J}return b(p)}const g=4096;function b(f){const s=f.length;if(s<=g)return String.fromCharCode.apply(String,f);let a="",p=0;for(;p<s;)a+=String.fromCharCode.apply(String,f.slice(p,p+=g));return a}function w(f,s,a){let p="";a=Math.min(f.length,a);for(let A=s;A<a;++A)p+=String.fromCharCode(f[A]&127);return p}function S(f,s,a){let p="";a=Math.min(f.length,a);for(let A=s;A<a;++A)p+=String.fromCharCode(f[A]);return p}function U(f,s,a){const p=f.length;(!s||s<0)&&(s=0),(!a||a<0||a>p)&&(a=p);let A="";for(let I=s;I<a;++I)A+=Ye[f[I]];return A}function T(f,s,a){const p=f.slice(s,a);let A="";for(let I=0;I<p.length-1;I+=2)A+=String.fromCharCode(p[I]+p[I+1]*256);return A}u.prototype.slice=function(s,a){const p=this.length;s=~~s,a=a===void 0?p:~~a,s<0?(s+=p,s<0&&(s=0)):s>p&&(s=p),a<0?(a+=p,a<0&&(a=0)):a>p&&(a=p),a<s&&(a=s);const A=this.subarray(s,a);return Object.setPrototypeOf(A,u.prototype),A};function v(f,s,a){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+s>a)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(s,a,p){s=s>>>0,a=a>>>0,p||v(s,a,this.length);let A=this[s],I=1,N=0;for(;++N<a&&(I*=256);)A+=this[s+N]*I;return A},u.prototype.readUintBE=u.prototype.readUIntBE=function(s,a,p){s=s>>>0,a=a>>>0,p||v(s,a,this.length);let A=this[s+--a],I=1;for(;a>0&&(I*=256);)A+=this[s+--a]*I;return A},u.prototype.readUint8=u.prototype.readUInt8=function(s,a){return s=s>>>0,a||v(s,1,this.length),this[s]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(s,a){return s=s>>>0,a||v(s,2,this.length),this[s]|this[s+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(s,a){return s=s>>>0,a||v(s,2,this.length),this[s]<<8|this[s+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(s,a){return s=s>>>0,a||v(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(s,a){return s=s>>>0,a||v(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},u.prototype.readBigUInt64LE=st(function(s){s=s>>>0,We(s,"offset");const a=this[s],p=this[s+7];(a===void 0||p===void 0)&&Ie(s,this.length-8);const A=a+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24,I=this[++s]+this[++s]*2**8+this[++s]*2**16+p*2**24;return BigInt(A)+(BigInt(I)<<BigInt(32))}),u.prototype.readBigUInt64BE=st(function(s){s=s>>>0,We(s,"offset");const a=this[s],p=this[s+7];(a===void 0||p===void 0)&&Ie(s,this.length-8);const A=a*2**24+this[++s]*2**16+this[++s]*2**8+this[++s],I=this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+p;return(BigInt(A)<<BigInt(32))+BigInt(I)}),u.prototype.readIntLE=function(s,a,p){s=s>>>0,a=a>>>0,p||v(s,a,this.length);let A=this[s],I=1,N=0;for(;++N<a&&(I*=256);)A+=this[s+N]*I;return I*=128,A>=I&&(A-=Math.pow(2,8*a)),A},u.prototype.readIntBE=function(s,a,p){s=s>>>0,a=a>>>0,p||v(s,a,this.length);let A=a,I=1,N=this[s+--A];for(;A>0&&(I*=256);)N+=this[s+--A]*I;return I*=128,N>=I&&(N-=Math.pow(2,8*a)),N},u.prototype.readInt8=function(s,a){return s=s>>>0,a||v(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},u.prototype.readInt16LE=function(s,a){s=s>>>0,a||v(s,2,this.length);const p=this[s]|this[s+1]<<8;return p&32768?p|4294901760:p},u.prototype.readInt16BE=function(s,a){s=s>>>0,a||v(s,2,this.length);const p=this[s+1]|this[s]<<8;return p&32768?p|4294901760:p},u.prototype.readInt32LE=function(s,a){return s=s>>>0,a||v(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},u.prototype.readInt32BE=function(s,a){return s=s>>>0,a||v(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},u.prototype.readBigInt64LE=st(function(s){s=s>>>0,We(s,"offset");const a=this[s],p=this[s+7];(a===void 0||p===void 0)&&Ie(s,this.length-8);const A=this[s+4]+this[s+5]*2**8+this[s+6]*2**16+(p<<24);return(BigInt(A)<<BigInt(32))+BigInt(a+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24)}),u.prototype.readBigInt64BE=st(function(s){s=s>>>0,We(s,"offset");const a=this[s],p=this[s+7];(a===void 0||p===void 0)&&Ie(s,this.length-8);const A=(a<<24)+this[++s]*2**16+this[++s]*2**8+this[++s];return(BigInt(A)<<BigInt(32))+BigInt(this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+p)}),u.prototype.readFloatLE=function(s,a){return s=s>>>0,a||v(s,4,this.length),t.read(this,s,!0,23,4)},u.prototype.readFloatBE=function(s,a){return s=s>>>0,a||v(s,4,this.length),t.read(this,s,!1,23,4)},u.prototype.readDoubleLE=function(s,a){return s=s>>>0,a||v(s,8,this.length),t.read(this,s,!0,52,8)},u.prototype.readDoubleBE=function(s,a){return s=s>>>0,a||v(s,8,this.length),t.read(this,s,!1,52,8)};function d(f,s,a,p,A,I){if(!u.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>A||s<I)throw new RangeError('"value" argument is out of bounds');if(a+p>f.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(s,a,p,A){if(s=+s,a=a>>>0,p=p>>>0,!A){const J=Math.pow(2,8*p)-1;d(this,s,a,p,J,0)}let I=1,N=0;for(this[a]=s&255;++N<p&&(I*=256);)this[a+N]=s/I&255;return a+p},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(s,a,p,A){if(s=+s,a=a>>>0,p=p>>>0,!A){const J=Math.pow(2,8*p)-1;d(this,s,a,p,J,0)}let I=p-1,N=1;for(this[a+I]=s&255;--I>=0&&(N*=256);)this[a+I]=s/N&255;return a+p},u.prototype.writeUint8=u.prototype.writeUInt8=function(s,a,p){return s=+s,a=a>>>0,p||d(this,s,a,1,255,0),this[a]=s&255,a+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(s,a,p){return s=+s,a=a>>>0,p||d(this,s,a,2,65535,0),this[a]=s&255,this[a+1]=s>>>8,a+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(s,a,p){return s=+s,a=a>>>0,p||d(this,s,a,2,65535,0),this[a]=s>>>8,this[a+1]=s&255,a+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(s,a,p){return s=+s,a=a>>>0,p||d(this,s,a,4,4294967295,0),this[a+3]=s>>>24,this[a+2]=s>>>16,this[a+1]=s>>>8,this[a]=s&255,a+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(s,a,p){return s=+s,a=a>>>0,p||d(this,s,a,4,4294967295,0),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4};function _(f,s,a,p,A){V(s,p,A,f,a,7);let I=Number(s&BigInt(4294967295));f[a++]=I,I=I>>8,f[a++]=I,I=I>>8,f[a++]=I,I=I>>8,f[a++]=I;let N=Number(s>>BigInt(32)&BigInt(4294967295));return f[a++]=N,N=N>>8,f[a++]=N,N=N>>8,f[a++]=N,N=N>>8,f[a++]=N,a}function Q(f,s,a,p,A){V(s,p,A,f,a,7);let I=Number(s&BigInt(4294967295));f[a+7]=I,I=I>>8,f[a+6]=I,I=I>>8,f[a+5]=I,I=I>>8,f[a+4]=I;let N=Number(s>>BigInt(32)&BigInt(4294967295));return f[a+3]=N,N=N>>8,f[a+2]=N,N=N>>8,f[a+1]=N,N=N>>8,f[a]=N,a+8}u.prototype.writeBigUInt64LE=st(function(s,a=0){return _(this,s,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=st(function(s,a=0){return Q(this,s,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(s,a,p,A){if(s=+s,a=a>>>0,!A){const oe=Math.pow(2,8*p-1);d(this,s,a,p,oe-1,-oe)}let I=0,N=1,J=0;for(this[a]=s&255;++I<p&&(N*=256);)s<0&&J===0&&this[a+I-1]!==0&&(J=1),this[a+I]=(s/N>>0)-J&255;return a+p},u.prototype.writeIntBE=function(s,a,p,A){if(s=+s,a=a>>>0,!A){const oe=Math.pow(2,8*p-1);d(this,s,a,p,oe-1,-oe)}let I=p-1,N=1,J=0;for(this[a+I]=s&255;--I>=0&&(N*=256);)s<0&&J===0&&this[a+I+1]!==0&&(J=1),this[a+I]=(s/N>>0)-J&255;return a+p},u.prototype.writeInt8=function(s,a,p){return s=+s,a=a>>>0,p||d(this,s,a,1,127,-128),s<0&&(s=255+s+1),this[a]=s&255,a+1},u.prototype.writeInt16LE=function(s,a,p){return s=+s,a=a>>>0,p||d(this,s,a,2,32767,-32768),this[a]=s&255,this[a+1]=s>>>8,a+2},u.prototype.writeInt16BE=function(s,a,p){return s=+s,a=a>>>0,p||d(this,s,a,2,32767,-32768),this[a]=s>>>8,this[a+1]=s&255,a+2},u.prototype.writeInt32LE=function(s,a,p){return s=+s,a=a>>>0,p||d(this,s,a,4,2147483647,-2147483648),this[a]=s&255,this[a+1]=s>>>8,this[a+2]=s>>>16,this[a+3]=s>>>24,a+4},u.prototype.writeInt32BE=function(s,a,p){return s=+s,a=a>>>0,p||d(this,s,a,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4},u.prototype.writeBigInt64LE=st(function(s,a=0){return _(this,s,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=st(function(s,a=0){return Q(this,s,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $(f,s,a,p,A,I){if(a+p>f.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function Z(f,s,a,p,A){return s=+s,a=a>>>0,A||$(f,s,a,4),t.write(f,s,a,p,23,4),a+4}u.prototype.writeFloatLE=function(s,a,p){return Z(this,s,a,!0,p)},u.prototype.writeFloatBE=function(s,a,p){return Z(this,s,a,!1,p)};function se(f,s,a,p,A){return s=+s,a=a>>>0,A||$(f,s,a,8),t.write(f,s,a,p,52,8),a+8}u.prototype.writeDoubleLE=function(s,a,p){return se(this,s,a,!0,p)},u.prototype.writeDoubleBE=function(s,a,p){return se(this,s,a,!1,p)},u.prototype.copy=function(s,a,p,A){if(!u.isBuffer(s))throw new TypeError("argument should be a Buffer");if(p||(p=0),!A&&A!==0&&(A=this.length),a>=s.length&&(a=s.length),a||(a=0),A>0&&A<p&&(A=p),A===p||s.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),s.length-a<A-p&&(A=s.length-a+p);const I=A-p;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a,p,A):Uint8Array.prototype.set.call(s,this.subarray(p,A),a),I},u.prototype.fill=function(s,a,p,A){if(typeof s=="string"){if(typeof a=="string"?(A=a,a=0,p=this.length):typeof p=="string"&&(A=p,p=this.length),A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!u.isEncoding(A))throw new TypeError("Unknown encoding: "+A);if(s.length===1){const N=s.charCodeAt(0);(A==="utf8"&&N<128||A==="latin1")&&(s=N)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(a<0||this.length<a||this.length<p)throw new RangeError("Out of range index");if(p<=a)return this;a=a>>>0,p=p===void 0?this.length:p>>>0,s||(s=0);let I;if(typeof s=="number")for(I=a;I<p;++I)this[I]=s;else{const N=u.isBuffer(s)?s:u.from(s,A),J=N.length;if(J===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(I=0;I<p-a;++I)this[I+a]=N[I%J]}return this};const ee={};function ce(f,s,a){ee[f]=class extends a{constructor(){super(),Object.defineProperty(this,"message",{value:s.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(A){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:A,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}}}ce("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ce("ERR_INVALID_ARG_TYPE",function(f,s){return`The "${f}" argument must be of type number. Received type ${typeof s}`},TypeError),ce("ERR_OUT_OF_RANGE",function(f,s,a){let p=`The value of "${f}" is out of range.`,A=a;return Number.isInteger(a)&&Math.abs(a)>2**32?A=ve(String(a)):typeof a=="bigint"&&(A=String(a),(a>BigInt(2)**BigInt(32)||a<-(BigInt(2)**BigInt(32)))&&(A=ve(A)),A+="n"),p+=` It must be ${s}. Received ${A}`,p},RangeError);function ve(f){let s="",a=f.length;const p=f[0]==="-"?1:0;for(;a>=p+4;a-=3)s=`_${f.slice(a-3,a)}${s}`;return`${f.slice(0,a)}${s}`}function xe(f,s,a){We(s,"offset"),(f[s]===void 0||f[s+a]===void 0)&&Ie(s,f.length-(a+1))}function V(f,s,a,p,A,I){if(f>a||f<s){const N=typeof s=="bigint"?"n":"";let J;throw I>3?s===0||s===BigInt(0)?J=`>= 0${N} and < 2${N} ** ${(I+1)*8}${N}`:J=`>= -(2${N} ** ${(I+1)*8-1}${N}) and < 2 ** ${(I+1)*8-1}${N}`:J=`>= ${s}${N} and <= ${a}${N}`,new ee.ERR_OUT_OF_RANGE("value",J,f)}xe(p,A,I)}function We(f,s){if(typeof f!="number")throw new ee.ERR_INVALID_ARG_TYPE(s,"number",f)}function Ie(f,s,a){throw Math.floor(f)!==f?(We(f,a),new ee.ERR_OUT_OF_RANGE(a||"offset","an integer",f)):s<0?new ee.ERR_BUFFER_OUT_OF_BOUNDS:new ee.ERR_OUT_OF_RANGE(a||"offset",`>= ${a?1:0} and <= ${s}`,f)}const je=/[^+/0-9A-Za-z-_]/g;function _r(f){if(f=f.split("=")[0],f=f.trim().replace(je,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function ze(f,s){s=s||1/0;let a;const p=f.length;let A=null;const I=[];for(let N=0;N<p;++N){if(a=f.charCodeAt(N),a>55295&&a<57344){if(!A){if(a>56319){(s-=3)>-1&&I.push(239,191,189);continue}else if(N+1===p){(s-=3)>-1&&I.push(239,191,189);continue}A=a;continue}if(a<56320){(s-=3)>-1&&I.push(239,191,189),A=a;continue}a=(A-55296<<10|a-56320)+65536}else A&&(s-=3)>-1&&I.push(239,191,189);if(A=null,a<128){if((s-=1)<0)break;I.push(a)}else if(a<2048){if((s-=2)<0)break;I.push(a>>6|192,a&63|128)}else if(a<65536){if((s-=3)<0)break;I.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((s-=4)<0)break;I.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return I}function Qe(f){const s=[];for(let a=0;a<f.length;++a)s.push(f.charCodeAt(a)&255);return s}function Mr(f,s){let a,p,A;const I=[];for(let N=0;N<f.length&&!((s-=2)<0);++N)a=f.charCodeAt(N),p=a>>8,A=a%256,I.push(A),I.push(p);return I}function Ge(f){return e.toByteArray(_r(f))}function Pe(f,s,a,p){let A;for(A=0;A<p&&!(A+a>=s.length||A>=f.length);++A)s[A+a]=f[A];return A}function Ke(f,s){return f instanceof s||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===s.name}function He(f){return f!==f}const Ye=function(){const f="0123456789abcdef",s=new Array(256);for(let a=0;a<16;++a){const p=a*16;for(let A=0;A<16;++A)s[p+A]=f[a]+f[A]}return s}();function st(f){return typeof BigInt>"u"?Ve:f}function Ve(){throw new Error("BigInt not supported")}})(jo),function(r,e){var t=jo,n=t.Buffer;function o(c,u){for(var h in c)u[h]=c[h]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=t:(o(t,e),e.Buffer=i);function i(c,u,h){return n(c,u,h)}o(n,i),i.from=function(c,u,h){if(typeof c=="number")throw new TypeError("Argument must not be a number");return n(c,u,h)},i.alloc=function(c,u,h){if(typeof c!="number")throw new TypeError("Argument must be a number");var y=n(c);return u!==void 0?typeof h=="string"?y.fill(u,h):y.fill(u):y.fill(0),y},i.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n(c)},i.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(c)}}(hr,hr.exports);var Ai=hr.exports.Buffer;function qh(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=n}var c=r.length,u=r.charAt(0),h=Math.log(c)/Math.log(256),y=Math.log(256)/Math.log(c);function m(E){if((Array.isArray(E)||E instanceof Uint8Array)&&(E=Ai.from(E)),!Ai.isBuffer(E))throw new TypeError("Expected Buffer");if(E.length===0)return"";for(var C=0,k=0,R=0,D=E.length;R!==D&&E[R]===0;)R++,C++;for(var F=(D-R)*y+1>>>0,O=new Uint8Array(F);R!==D;){for(var z=E[R],L=0,H=F-1;(z!==0||L<k)&&H!==-1;H--,L++)z+=256*O[H]>>>0,O[H]=z%c>>>0,z=z/c>>>0;if(z!==0)throw new Error("Non-zero carry");k=L,R++}for(var j=F-k;j!==F&&O[j]===0;)j++;for(var q=u.repeat(C);j<F;++j)q+=r.charAt(O[j]);return q}function x(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return Ai.alloc(0);for(var C=0,k=0,R=0;E[C]===u;)k++,C++;for(var D=(E.length-C)*h+1>>>0,F=new Uint8Array(D);E[C];){var O=e[E.charCodeAt(C)];if(O===255)return;for(var z=0,L=D-1;(O!==0||z<R)&&L!==-1;L--,z++)O+=c*F[L]>>>0,F[L]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");R=z,C++}for(var H=D-R;H!==D&&F[H]===0;)H++;var j=Ai.allocUnsafe(k+(D-H));j.fill(0,0,k);for(var q=k;H!==D;)j[q++]=F[H++];return j}function B(E){var C=x(E);if(C)return C;throw new Error("Non-base"+c+" character")}return{encode:m,decodeUnsafe:x,decode:B}}var Qh=qh,Kh=Qh,Yh="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Mt=Kh(Yh);const Vh=(r,e,t)=>r&e^~r&t,Zh=(r,e,t)=>r&e^r&t^e&t,$h=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Mn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Bn=new Uint32Array(64);class Xh extends tc{constructor(){super(64,32,8,!1),this.A=Mn[0]|0,this.B=Mn[1]|0,this.C=Mn[2]|0,this.D=Mn[3]|0,this.E=Mn[4]|0,this.F=Mn[5]|0,this.G=Mn[6]|0,this.H=Mn[7]|0}get(){const{A:e,B:t,C:n,D:o,E:i,F:c,G:u,H:h}=this;return[e,t,n,o,i,c,u,h]}set(e,t,n,o,i,c,u,h){this.A=e|0,this.B=t|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=c|0,this.G=u|0,this.H=h|0}process(e,t){for(let x=0;x<16;x++,t+=4)Bn[x]=e.getUint32(t,!1);for(let x=16;x<64;x++){const B=Bn[x-15],E=Bn[x-2],C=hn(B,7)^hn(B,18)^B>>>3,k=hn(E,17)^hn(E,19)^E>>>10;Bn[x]=k+Bn[x-7]+C+Bn[x-16]|0}let{A:n,B:o,C:i,D:c,E:u,F:h,G:y,H:m}=this;for(let x=0;x<64;x++){const B=hn(u,6)^hn(u,11)^hn(u,25),E=m+B+Vh(u,h,y)+$h[x]+Bn[x]|0,k=(hn(n,2)^hn(n,13)^hn(n,22))+Zh(n,o,i)|0;m=y,y=h,h=u,u=c+E|0,c=i,i=o,o=n,n=E+k|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,c=c+this.D|0,u=u+this.E|0,h=h+this.F|0,y=y+this.G|0,m=m+this.H|0,this.set(n,o,i,c,u,h,y,m)}roundClean(){Bn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Go=Rr(()=>new Xh);var Bt={},Ei=hr.exports.Buffer;function Jh(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=n}var c=r.length,u=r.charAt(0),h=Math.log(c)/Math.log(256),y=Math.log(256)/Math.log(c);function m(E){if((Array.isArray(E)||E instanceof Uint8Array)&&(E=Ei.from(E)),!Ei.isBuffer(E))throw new TypeError("Expected Buffer");if(E.length===0)return"";for(var C=0,k=0,R=0,D=E.length;R!==D&&E[R]===0;)R++,C++;for(var F=(D-R)*y+1>>>0,O=new Uint8Array(F);R!==D;){for(var z=E[R],L=0,H=F-1;(z!==0||L<k)&&H!==-1;H--,L++)z+=256*O[H]>>>0,O[H]=z%c>>>0,z=z/c>>>0;if(z!==0)throw new Error("Non-zero carry");k=L,R++}for(var j=F-k;j!==F&&O[j]===0;)j++;for(var q=u.repeat(C);j<F;++j)q+=r.charAt(O[j]);return q}function x(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return Ei.alloc(0);for(var C=0,k=0,R=0;E[C]===u;)k++,C++;for(var D=(E.length-C)*h+1>>>0,F=new Uint8Array(D);E[C];){var O=e[E.charCodeAt(C)];if(O===255)return;for(var z=0,L=D-1;(O!==0||z<R)&&L!==-1;L--,z++)O+=c*F[L]>>>0,F[L]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");R=z,C++}for(var H=D-R;H!==D&&F[H]===0;)H++;var j=Ei.allocUnsafe(k+(D-H));j.fill(0,0,k);for(var q=k;H!==D;)j[q++]=F[H++];return j}function B(E){var C=x(E);if(C)return C;throw new Error("Non-base"+c+" character")}return{encode:m,decodeUnsafe:x,decode:B}}var ed=Jh,td=ed,nd="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",rd=td(nd);function mn(r,e,t){return e<=r&&r<=t}function xi(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function id(r){for(var e=String(r),t=e.length,n=0,o=[];n<t;){var i=e.charCodeAt(n);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(n===t-1)o.push(65533);else{var c=r.charCodeAt(n+1);if(56320<=c&&c<=57343){var u=i&1023,h=c&1023;o.push(65536+(u<<10)+h),n+=1}else o.push(65533)}n+=1}return o}function od(r){for(var e="",t=0;t<r.length;++t){var n=r[t];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var Si=-1;function qo(r){this.tokens=[].slice.call(r)}qo.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Si},prepend:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.push(e.shift());else this.tokens.push(r)}};var dr=-1;function Qo(r,e){if(r)throw TypeError("Decoder error");return e||65533}var Ii="utf-8";function _i(r,e){if(!(this instanceof _i))return new _i(r,e);if(r=r!==void 0?String(r).toLowerCase():Ii,r!==Ii)throw new Error("Encoding not supported. Only utf-8 is supported");e=xi(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}_i.prototype={decode:function(e,t){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),t=xi(t),this._streaming||(this._decoder=new sd({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var o=new qo(n),i=[],c;!o.endOfStream()&&(c=this._decoder.handler(o,o.read()),c!==dr);)c!==null&&(Array.isArray(c)?i.push.apply(i,c):i.push(c));if(!this._streaming){do{if(c=this._decoder.handler(o,o.read()),c===dr)break;c!==null&&(Array.isArray(c)?i.push.apply(i,c):i.push(c))}while(!o.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),od(i)}};function Mi(r,e){if(!(this instanceof Mi))return new Mi(r,e);if(r=r!==void 0?String(r).toLowerCase():Ii,r!==Ii)throw new Error("Encoding not supported. Only utf-8 is supported");e=xi(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}Mi.prototype={encode:function(e,t){e=e?String(e):"",t=xi(t),this._streaming||(this._encoder=new ad(this._options)),this._streaming=Boolean(t.stream);for(var n=[],o=new qo(id(e)),i;!o.endOfStream()&&(i=this._encoder.handler(o,o.read()),i!==dr);)Array.isArray(i)?n.push.apply(n,i):n.push(i);if(!this._streaming){for(;i=this._encoder.handler(o,o.read()),i!==dr;)Array.isArray(i)?n.push.apply(n,i):n.push(i);this._encoder=null}return new Uint8Array(n)}};function sd(r){var e=r.fatal,t=0,n=0,o=0,i=128,c=191;this.handler=function(u,h){if(h===Si&&o!==0)return o=0,Qo(e);if(h===Si)return dr;if(o===0){if(mn(h,0,127))return h;if(mn(h,194,223))o=1,t=h-192;else if(mn(h,224,239))h===224&&(i=160),h===237&&(c=159),o=2,t=h-224;else if(mn(h,240,244))h===240&&(i=144),h===244&&(c=143),o=3,t=h-240;else return Qo(e);return t=t<<6*o,null}if(!mn(h,i,c))return t=o=n=0,i=128,c=191,u.prepend(h),Qo(e);if(i=128,c=191,n+=1,t+=h-128<<6*(o-n),n!==o)return null;var y=t;return t=o=n=0,y}}function ad(r){r.fatal,this.handler=function(e,t){if(t===Si)return dr;if(mn(t,0,127))return t;var n,o;mn(t,128,2047)?(n=1,o=192):mn(t,2048,65535)?(n=2,o=224):mn(t,65536,1114111)&&(n=3,o=240);for(var i=[(t>>6*n)+o];n>0;){var c=t>>6*(n-1);i.push(128|c&63),n-=1}return i}}const cd=ai(Object.freeze(Object.defineProperty({__proto__:null,TextEncoder:Mi,TextDecoder:_i},Symbol.toStringTag,{value:"Module"})));var ud=tn&&tn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ld=tn&&tn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),pn=tn&&tn.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(i=(o<3?c(i):o>3?c(e,t,i):c(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},fd=tn&&tn.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.hasOwnProperty.call(r,t)&&ud(e,r,t);return ld(e,r),e},pc=tn&&tn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bt,"__esModule",{value:!0});var gc=Bt.deserializeUnchecked=Ac=Bt.deserialize=vc=Bt.serialize=Bt.BinaryReader=Bt.BinaryWriter=Bt.BorshError=Bt.baseDecode=Bt.baseEncode=void 0;const Tn=pc(Wo.exports),yc=pc(rd),hd=fd(cd),dd=typeof TextDecoder!="function"?hd.TextDecoder:TextDecoder,pd=new dd("utf-8",{fatal:!0});function gd(r){return typeof r=="string"&&(r=Buffer.from(r,"utf8")),yc.default.encode(Buffer.from(r))}Bt.baseEncode=gd;function yd(r){return Buffer.from(yc.default.decode(r))}Bt.baseDecode=yd;const Ko=1024;class Pt extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Bt.BorshError=Pt;class wc{constructor(){this.buf=Buffer.alloc(Ko),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Ko)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Tn.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Tn.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Tn.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Tn.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Ko)]),this.length+=e.length}writeString(e){this.maybeResize();const t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}}Bt.BinaryWriter=wc;function gn(r,e,t){const n=t.value;t.value=function(...o){try{return n.apply(this,o)}catch(i){if(i instanceof RangeError){const c=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(c)>=0)throw new Pt("Reached the end of buffer when deserializing")}throw i}}}class qt{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Tn.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Tn.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Tn.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Tn.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Pt(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return pd.decode(t)}catch(n){throw new Pt(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),n=Array();for(let o=0;o<t;++o)n.push(e());return n}}pn([gn],qt.prototype,"readU8",null),pn([gn],qt.prototype,"readU16",null),pn([gn],qt.prototype,"readU32",null),pn([gn],qt.prototype,"readU64",null),pn([gn],qt.prototype,"readU128",null),pn([gn],qt.prototype,"readU256",null),pn([gn],qt.prototype,"readU512",null),pn([gn],qt.prototype,"readString",null),pn([gn],qt.prototype,"readFixedArray",null),pn([gn],qt.prototype,"readArray",null),Bt.BinaryReader=qt;function mc(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Gn(r,e,t,n,o){try{if(typeof n=="string")o[`write${mc(n)}`](t);else if(n instanceof Array)if(typeof n[0]=="number"){if(t.length!==n[0])throw new Pt(`Expecting byte array of length ${n[0]}, but got ${t.length} bytes`);o.writeFixedArray(t)}else if(n.length===2&&typeof n[1]=="number"){if(t.length!==n[1])throw new Pt(`Expecting byte array of length ${n[1]}, but got ${t.length} bytes`);for(let i=0;i<n[1];i++)Gn(r,null,t[i],n[0],o)}else o.writeArray(t,i=>{Gn(r,e,i,n[0],o)});else if(n.kind!==void 0)switch(n.kind){case"option":{t==null?o.writeU8(0):(o.writeU8(1),Gn(r,e,t,n.type,o));break}case"map":{o.writeU32(t.size),t.forEach((i,c)=>{Gn(r,e,c,n.key,o),Gn(r,e,i,n.value,o)});break}default:throw new Pt(`FieldType ${n} unrecognized`)}else bc(r,t,o)}catch(i){throw i instanceof Pt&&i.addToFieldPath(e),i}}function bc(r,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}const n=r.get(e.constructor);if(!n)throw new Pt(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([o,i])=>{Gn(r,o,e[o],i,t)});else if(n.kind==="enum"){const o=e[n.field];for(let i=0;i<n.values.length;++i){const[c,u]=n.values[i];if(c===o){t.writeU8(i),Gn(r,c,e[c],u,t);break}}}else throw new Pt(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function wd(r,e,t=wc){const n=new t;return bc(r,e,n),n.toArray()}var vc=Bt.serialize=wd;function qn(r,e,t,n){try{if(typeof t=="string")return n[`read${mc(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return n.readFixedArray(t[0]);if(typeof t[1]=="number"){const o=[];for(let i=0;i<t[1];i++)o.push(qn(r,null,t[0],n));return o}else return n.readArray(()=>qn(r,e,t[0],n))}if(t.kind==="option")return n.readU8()?qn(r,e,t.type,n):void 0;if(t.kind==="map"){let o=new Map;const i=n.readU32();for(let c=0;c<i;c++){const u=qn(r,e,t.key,n),h=qn(r,e,t.value,n);o.set(u,h)}return o}return Yo(r,t,n)}catch(o){throw o instanceof Pt&&o.addToFieldPath(e),o}}function Yo(r,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);const n=r.get(e);if(!n)throw new Pt(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){const o={};for(const[i,c]of r.get(e).fields)o[i]=qn(r,i,c,t);return new e(o)}if(n.kind==="enum"){const o=t.readU8();if(o>=n.values.length)throw new Pt(`Enum index: ${o} is out of range`);const[i,c]=n.values[o],u=qn(r,i,c,t);return new e({[i]:u})}throw new Pt(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function md(r,e,t,n=qt){const o=new n(t),i=Yo(r,e,o);if(o.offset<t.length)throw new Pt(`Unexpected ${t.length-o.offset} bytes after deserialized data`);return i}var Ac=Bt.deserialize=md;function bd(r,e,t,n=qt){const o=new n(t);return Yo(r,e,o)}gc=Bt.deserializeUnchecked=bd;var W={};Object.defineProperty(W,"__esModule",{value:!0}),W.s16=W.s8=W.nu64be=W.u48be=W.u40be=W.u32be=W.u24be=W.u16be=Tt=W.nu64=W.u48=W.u40=ge=W.u32=W.u24=$t=W.u16=Oe=W.u8=Kn=W.offset=W.greedy=W.Constant=W.UTF8=W.CString=W.Blob=W.Boolean=W.BitField=W.BitStructure=W.VariantLayout=W.Union=W.UnionLayoutDiscriminator=W.UnionDiscriminator=W.Structure=W.Sequence=W.DoubleBE=W.Double=W.FloatBE=W.Float=W.NearInt64BE=W.NearInt64=W.NearUInt64BE=W.NearUInt64=W.IntBE=W.Int=W.UIntBE=W.UInt=W.OffsetLayout=W.GreedyCount=W.ExternalLayout=W.bindConstructorLayout=W.nameWithProperty=W.Layout=W.uint8ArrayToBuffer=W.checkUint8Array=void 0,W.constant=W.utf8=W.cstr=et=W.blob=W.unionLayoutDiscriminator=W.union=Dt=W.seq=W.bits=fe=W.struct=W.f64be=W.f64=W.f32be=W.f32=W.ns64be=W.s48be=W.s40be=W.s32be=W.s24be=W.s16be=Qt=W.ns64=W.s48=W.s40=W.s32=W.s24=void 0;const Vo=jo;function pr(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}W.checkUint8Array=pr;function Ne(r){return pr(r),Vo.Buffer.from(r.buffer,r.byteOffset,r.length)}W.uint8ArrayToBuffer=Ne;class De{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}W.Layout=De;function Zo(r,e){return e.property?r+"["+e.property+"]":r}W.nameWithProperty=Zo;function vd(r,e){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof De))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=e,e.boundConstructor_=r,e.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(r,"decode",{value(t,n){return e.decode(t,n)},writable:!0})}W.bindConstructorLayout=vd;class Ft extends De{isCount(){throw new Error("ExternalLayout is abstract")}}W.ExternalLayout=Ft;class Ec extends Ft{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){pr(e);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}W.GreedyCount=Ec;class $o extends Ft{constructor(e,t=0,n){if(!(e instanceof De))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Zt||this.layout instanceof an}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}}W.OffsetLayout=$o;class Zt extends De{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ne(e).readUIntLE(t,this.span)}encode(e,t,n=0){return Ne(t).writeUIntLE(e,n,this.span),this.span}}W.UInt=Zt;class an extends De{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ne(e).readUIntBE(t,this.span)}encode(e,t,n=0){return Ne(t).writeUIntBE(e,n,this.span),this.span}}W.UIntBE=an;class Qn extends De{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ne(e).readIntLE(t,this.span)}encode(e,t,n=0){return Ne(t).writeIntLE(e,n,this.span),this.span}}W.Int=Qn;class gr extends De{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ne(e).readIntBE(t,this.span)}encode(e,t,n=0){return Ne(t).writeIntBE(e,n,this.span),this.span}}W.IntBE=gr;const Xo=Math.pow(2,32);function Bi(r){const e=Math.floor(r/Xo),t=r-e*Xo;return{hi32:e,lo32:t}}function Ti(r,e){return r*Xo+e}class xc extends De{constructor(e){super(8,e)}decode(e,t=0){const n=Ne(e),o=n.readUInt32LE(t),i=n.readUInt32LE(t+4);return Ti(i,o)}encode(e,t,n=0){const o=Bi(e),i=Ne(t);return i.writeUInt32LE(o.lo32,n),i.writeUInt32LE(o.hi32,n+4),8}}W.NearUInt64=xc;class Sc extends De{constructor(e){super(8,e)}decode(e,t=0){const n=Ne(e),o=n.readUInt32BE(t),i=n.readUInt32BE(t+4);return Ti(o,i)}encode(e,t,n=0){const o=Bi(e),i=Ne(t);return i.writeUInt32BE(o.hi32,n),i.writeUInt32BE(o.lo32,n+4),8}}W.NearUInt64BE=Sc;class Ic extends De{constructor(e){super(8,e)}decode(e,t=0){const n=Ne(e),o=n.readUInt32LE(t),i=n.readInt32LE(t+4);return Ti(i,o)}encode(e,t,n=0){const o=Bi(e),i=Ne(t);return i.writeUInt32LE(o.lo32,n),i.writeInt32LE(o.hi32,n+4),8}}W.NearInt64=Ic;class _c extends De{constructor(e){super(8,e)}decode(e,t=0){const n=Ne(e),o=n.readInt32BE(t),i=n.readUInt32BE(t+4);return Ti(o,i)}encode(e,t,n=0){const o=Bi(e),i=Ne(t);return i.writeInt32BE(o.hi32,n),i.writeUInt32BE(o.lo32,n+4),8}}W.NearInt64BE=_c;class Mc extends De{constructor(e){super(4,e)}decode(e,t=0){return Ne(e).readFloatLE(t)}encode(e,t,n=0){return Ne(t).writeFloatLE(e,n),4}}W.Float=Mc;class Bc extends De{constructor(e){super(4,e)}decode(e,t=0){return Ne(e).readFloatBE(t)}encode(e,t,n=0){return Ne(t).writeFloatBE(e,n),4}}W.FloatBE=Bc;class Tc extends De{constructor(e){super(8,e)}decode(e,t=0){return Ne(e).readDoubleLE(t)}encode(e,t,n=0){return Ne(t).writeDoubleLE(e,n),8}}W.Double=Tc;class Cc extends De{constructor(e){super(8,e)}decode(e,t=0){return Ne(e).readDoubleBE(t)}encode(e,t,n=0){return Ne(t).writeDoubleBE(e,n),8}}W.DoubleBE=Cc;class kc extends De{constructor(e,t,n){if(!(e instanceof De))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof Ft&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(t instanceof Ft)&&0<e.span&&(o=t*e.span),super(o,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,o=this.count;if(o instanceof Ft&&(o=o.decode(e,t)),0<this.elementLayout.span)n=o*this.elementLayout.span;else{let i=0;for(;i<o;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e,t=0){const n=[];let o=0,i=this.count;for(i instanceof Ft&&(i=i.decode(e,t));o<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),o+=1;return n}encode(e,t,n=0){const o=this.elementLayout,i=e.reduce((c,u)=>c+o.encode(u,t,n+c),0);return this.count instanceof Ft&&this.count.encode(e.length,t,n),i}}W.Sequence=kc;class Nc extends De{constructor(e,t,n){if(!(Array.isArray(e)&&e.reduce((i,c)=>i&&c instanceof De,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&n===void 0&&(n=t,t=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((i,c)=>i+c.getSpan(),0)}catch{}super(o,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((o,i)=>{const c=i.getSpan(e,t);return t+=c,o+c},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,t=0){pr(e);const n=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(e,t)),t+=o.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){const o=n;let i=0,c=0;for(const u of this.fields){let h=u.span;if(c=0<h?h:0,u.property!==void 0){const y=e[u.property];y!==void 0&&(c=u.encode(y,t,n),0>h&&(h=u.getSpan(t,n)))}i=n,n+=h}return i+c-o}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}W.Structure=Nc;class Jo{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}}W.UnionDiscriminator=Jo;class Ci extends Jo{constructor(e,t){if(!(e instanceof Ft&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}W.UnionLayoutDiscriminator=Ci;class es extends De{constructor(e,t,n){let o;if(e instanceof Zt||e instanceof an)o=new Ci(new $o(e));else if(e instanceof Ft&&e.isCount())o=new Ci(e);else if(e instanceof Jo)o=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof De))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&(e instanceof Zt||e instanceof an)&&(i+=o.layout.span)),super(i,n),this.discriminator=o,this.usesPrefixDiscriminator=e instanceof Zt||e instanceof an,this.defaultLayout=t,this.registry={};let c=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(u){return c(u)},this.configGetSourceVariant=function(u){c=u.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n;const o=this.discriminator,i=o.decode(e,t),c=this.registry[i];if(c===void 0){const u=this.defaultLayout;let h=0;this.usesPrefixDiscriminator&&(h=o.layout.span),n=this.makeDestinationObject(),n[o.property]=i,n[u.property]=u.decode(e,t+h)}else n=c.decode(e,t);return n}encode(e,t,n=0){const o=this.getSourceVariant(e);if(o===void 0){const i=this.discriminator,c=this.defaultLayout;let u=0;return this.usesPrefixDiscriminator&&(u=i.layout.span),i.encode(e[i.property],t,n),u+c.encode(e[c.property],t,n+u)}return o.encode(e,t,n)}addVariant(e,t,n){const o=new Oc(this,e,t,n);return this.registry[e]=o,o}getVariant(e,t=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,t):n=e,this.registry[n]}}W.Union=es;class Oc extends De{constructor(e,t,n,o){if(!(e instanceof es))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&o===void 0&&(o=n,n=null),n){if(!(n instanceof De))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,o),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(e,t+n)),n+o}decode(e,t=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+o):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=o;if(this.layout&&(this.layout.encode(e[this.property],t,n+o),i+=this.layout.getSpan(t,n+o),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}W.VariantLayout=Oc;function yr(r){return 0>r&&(r+=4294967296),r}class ts extends De{constructor(e,t,n){if(!(e instanceof Zt||e instanceof an))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&n===void 0&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let o=0;this._packedSetValue=function(i){return o=yr(i),this},this._packedGetValue=function(){return o}}decode(e,t=0){const n=this.makeDestinationObject(),o=this.word.decode(e,t);this._packedSetValue(o);for(const i of this.fields)i.property!==void 0&&(n[i.property]=i.decode(e));return n}encode(e,t,n=0){const o=this.word.decode(t,n);this._packedSetValue(o);for(const i of this.fields)if(i.property!==void 0){const c=e[i.property];c!==void 0&&i.encode(c)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new ns(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new Rc(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}W.BitStructure=ts;class ns{constructor(e,t,n){if(!(e instanceof ts))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const o=8*e.span,i=e.fields.reduce((c,u)=>c+u.bits,0);if(t+i>o)throw new Error("bits too long for span remainder ("+(o-i)+" of "+o+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=o-i-t),this.wordMask=yr(this.valueMask<<this.start),this.property=n}decode(e,t){const n=this.container._packedGetValue();return yr(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==yr(e&this.valueMask))throw new TypeError(Zo("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=yr(e<<this.start);this.container._packedSetValue(yr(t&~this.wordMask)|n)}}W.BitField=ns;class Rc extends ns{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}}W.Boolean=Rc;class Lc extends De{constructor(e,t){if(!(e instanceof Ft&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Ft||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),Ne(e).slice(t,t+n)}encode(e,t,n){let o=this.length;if(this.length instanceof Ft&&(o=e.length),!(e instanceof Uint8Array&&o===e.length))throw new TypeError(Zo("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(n+o>t.length)throw new RangeError("encoding overruns Uint8Array");const i=Ne(e);return Ne(t).write(i.toString("hex"),n,o,"hex"),this.length instanceof Ft&&this.length.encode(o,t,n),o}}W.Blob=Lc;class Uc extends De{constructor(e){super(-1,e)}getSpan(e,t=0){pr(e);let n=t;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-t}decode(e,t=0){const n=this.getSpan(e,t);return Ne(e).slice(t,t+n-1).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));const o=Vo.Buffer.from(e,"utf8"),i=o.length;if(n+i>t.length)throw new RangeError("encoding overruns Buffer");const c=Ne(t);return o.copy(c,n),c[n+i]=0,i+1}}W.CString=Uc;class Pc extends De{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return pr(e),e.length-t}decode(e,t=0){const n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Ne(e).slice(t,t+n).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));const o=Vo.Buffer.from(e,"utf8"),i=o.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return o.copy(Ne(t),n),i}}W.UTF8=Pc;class Dc extends De{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}}W.Constant=Dc,W.greedy=(r,e)=>new Ec(r,e);var Kn=W.offset=(r,e,t)=>new $o(r,e,t),Oe=W.u8=r=>new Zt(1,r),$t=W.u16=r=>new Zt(2,r);W.u24=r=>new Zt(3,r);var ge=W.u32=r=>new Zt(4,r);W.u40=r=>new Zt(5,r),W.u48=r=>new Zt(6,r);var Tt=W.nu64=r=>new xc(r);W.u16be=r=>new an(2,r),W.u24be=r=>new an(3,r),W.u32be=r=>new an(4,r),W.u40be=r=>new an(5,r),W.u48be=r=>new an(6,r),W.nu64be=r=>new Sc(r),W.s8=r=>new Qn(1,r),W.s16=r=>new Qn(2,r),W.s24=r=>new Qn(3,r),W.s32=r=>new Qn(4,r),W.s40=r=>new Qn(5,r),W.s48=r=>new Qn(6,r);var Qt=W.ns64=r=>new Ic(r);W.s16be=r=>new gr(2,r),W.s24be=r=>new gr(3,r),W.s32be=r=>new gr(4,r),W.s40be=r=>new gr(5,r),W.s48be=r=>new gr(6,r),W.ns64be=r=>new _c(r),W.f32=r=>new Mc(r),W.f32be=r=>new Bc(r),W.f64=r=>new Tc(r),W.f64be=r=>new Cc(r);var fe=W.struct=(r,e,t)=>new Nc(r,e,t);W.bits=(r,e,t)=>new ts(r,e,t);var Dt=W.seq=(r,e,t)=>new kc(r,e,t);W.union=(r,e,t)=>new es(r,e,t),W.unionLayoutDiscriminator=(r,e)=>new Ci(r,e);var et=W.blob=(r,e)=>new Lc(r,e);W.cstr=r=>new Uc(r),W.utf8=(r,e)=>new Pc(r,e),W.constant=(r,e)=>new Dc(r,e);var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});function Ad(r){{const e=Buffer.from(r);e.reverse();const t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}var Ed=Hr.toBigIntLE=Ad;function xd(r){{const e=r.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}Hr.toBigIntBE=xd;function Sd(r,e){{const t=r.toString(16),n=Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}}var Id=Hr.toBufferLE=Sd;function _d(r,e){{const t=r.toString(16);return Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex")}}Hr.toBufferBE=_d;class Md extends TypeError{constructor(e,t){let n;const{message:o,...i}=e,{path:c}=e,u=c.length===0?o:"At path: "+c.join(".")+" -- "+o;super(u),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var h;return(h=n)!=null?h:n=[e,...t()]}}}function Bd(r){return Cn(r)&&typeof r[Symbol.iterator]=="function"}function Cn(r){return typeof r=="object"&&r!=null}function cn(r){return typeof r=="string"?JSON.stringify(r):""+r}function Td(r){const{done:e,value:t}=r.next();return e?void 0:t}function Cd(r,e,t,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:o,branch:i}=e,{type:c}=t,{refinement:u,message:h="Expected a value of type `"+c+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+cn(n)+"`"}=r;return{value:n,type:c,refinement:u,key:o[o.length-1],path:o,branch:i,...r,message:h}}function*Fc(r,e,t,n){Bd(r)||(r=[r]);for(const o of r){const i=Cd(o,e,t,n);i&&(yield i)}}function*rs(r,e,t={}){const{path:n=[],branch:o=[r],coerce:i=!1,mask:c=!1}=t,u={path:n,branch:o};if(i&&(r=e.coercer(r,u),c&&e.type!=="type"&&Cn(e.schema)&&Cn(r)&&!Array.isArray(r)))for(const y in r)e.schema[y]===void 0&&delete r[y];let h=!0;for(const y of e.validator(r,u))h=!1,yield[y,void 0];for(let[y,m,x]of e.entries(r,u)){const B=rs(m,x,{path:y===void 0?n:[...n,y],branch:y===void 0?o:[...o,m],coerce:i,mask:c});for(const E of B)E[0]?(h=!1,yield[E[0],void 0]):i&&(m=E[1],y===void 0?r=m:r instanceof Map?r.set(y,m):r instanceof Set?r.add(m):Cn(r)&&(r[y]=m))}if(h)for(const y of e.refiner(r,u))h=!1,yield[y,void 0];h&&(yield[void 0,r])}class yn{constructor(e){const{type:t,schema:n,validator:o,refiner:i,coercer:c=h=>h,entries:u=function*(){}}=e;this.type=t,this.schema=n,this.entries=u,this.coercer=c,o?this.validator=(h,y)=>{const m=o(h,y);return Fc(m,y,this,h)}:this.validator=()=>[],i?this.refiner=(h,y)=>{const m=i(h,y);return Fc(m,y,this,h)}:this.refiner=()=>[]}assert(e){return kd(e,this)}create(e){return re(e,this)}is(e){return zc(e,this)}mask(e){return Nd(e,this)}validate(e,t={}){return Wr(e,this,t)}}function kd(r,e){const t=Wr(r,e);if(t[0])throw t[0]}function re(r,e){const t=Wr(r,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function Nd(r,e){const t=Wr(r,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function zc(r,e){return!Wr(r,e)[0]}function Wr(r,e,t={}){const n=rs(r,e,t),o=Td(n);if(o[0])return[new Md(o[0],function*(){for(const c of n)c[0]&&(yield c[0])}),void 0];{const i=o[1];return[void 0,i]}}function Yn(r,e){return new yn({type:r,schema:null,validator:e})}function Od(){return Yn("any",()=>!0)}function ue(r){return new yn({type:"array",schema:r,*entries(e){if(r&&Array.isArray(e))for(const[t,n]of e.entries())yield[t,n,r]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+cn(e)}})}function bn(){return Yn("boolean",r=>typeof r=="boolean")}function is(r){return Yn("instance",e=>e instanceof r||"Expected a `"+r.name+"` instance, but received: "+cn(e))}function Ze(r){const e=cn(r),t=typeof r;return new yn({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?r:null,validator(n){return n===r||"Expected the literal `"+e+"`, but received: "+cn(n)}})}function Rd(){return Yn("never",()=>!1)}function pe(r){return new yn({...r,validator:(e,t)=>e===null||r.validator(e,t),refiner:(e,t)=>e===null||r.refiner(e,t)})}function G(){return Yn("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+cn(r))}function Ee(r){return new yn({...r,validator:(e,t)=>e===void 0||r.validator(e,t),refiner:(e,t)=>e===void 0||r.refiner(e,t)})}function Hc(r,e){return new yn({type:"record",schema:null,*entries(t){if(Cn(t))for(const n in t){const o=t[n];yield[n,n,r],yield[n,o,e]}},validator(t){return Cn(t)||"Expected an object, but received: "+cn(t)}})}function ne(){return Yn("string",r=>typeof r=="string"||"Expected a string, but received: "+cn(r))}function os(r){const e=Rd();return new yn({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const n=Math.max(r.length,t.length);for(let o=0;o<n;o++)yield[o,t[o],r[o]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+cn(t)}})}function X(r){const e=Object.keys(r);return new yn({type:"type",schema:r,*entries(t){if(Cn(t))for(const n of e)yield[n,t[n],r[n]]},validator(t){return Cn(t)||"Expected an object, but received: "+cn(t)}})}function zt(r){const e=r.map(t=>t.type).join(" | ");return new yn({type:"union",schema:null,validator(t,n){const o=[];for(const i of r){const[...c]=rs(t,i,n),[u]=c;if(u[0])for(const[h]of c)h&&o.push(h);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+cn(t),...o]}})}function jr(){return Yn("unknown",()=>!0)}function Gr(r,e,t){return new yn({...r,coercer:(n,o)=>zc(n,e)?r.coercer(t(n,o),o):r.coercer(n,o)})}var ss={},ki={exports:{}};(function(r){function e(t){return t&&t.__esModule?t:{default:t}}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports})(ki);var as={exports:{}},Wc;function cs(){return Wc||(Wc=1,function(r){function e(n,o){for(var i=0;i<o.length;i++){var c=o[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}function t(n,o,i){return o&&e(n.prototype,o),i&&e(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(as)),as.exports}var us={exports:{}},jc;function ls(){return jc||(jc=1,function(r){function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(us)),us.exports}var fs={exports:{}},hs={exports:{}},Gc;function Ld(){return Gc||(Gc=1,function(r){function e(t,n){return r.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},r.exports.__esModule=!0,r.exports.default=r.exports,e(t,n)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(hs)),hs.exports}var qc;function ds(){return qc||(qc=1,function(r){var e=Ld();function t(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),o&&e(n,o)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(fs)),fs.exports}var ps={exports:{}},gs={exports:{}},Qc;function ys(){return Qc||(Qc=1,function(r){function e(t){return r.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r.exports.__esModule=!0,r.exports.default=r.exports,e(t)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(gs)),gs.exports}var ws={exports:{}},Kc;function Ud(){return Kc||(Kc=1,function(r){function e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(ws)),ws.exports}var Yc;function ms(){return Yc||(Yc=1,function(r){var e=ys().default,t=Ud();function n(o,i){if(i&&(e(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(o)}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports}(ps)),ps.exports}var bs={exports:{}},Vc;function vs(){return Vc||(Vc=1,function(r){function e(t){return r.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},r.exports.__esModule=!0,r.exports.default=r.exports,e(t)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(bs)),bs.exports}var As={},Ni={exports:{}};(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function o(h,y,m){this.fn=h,this.context=y,this.once=m||!1}function i(h,y,m,x,B){if(typeof m!="function")throw new TypeError("The listener must be a function");var E=new o(m,x||h,B),C=t?t+y:y;return h._events[C]?h._events[C].fn?h._events[C]=[h._events[C],E]:h._events[C].push(E):(h._events[C]=E,h._eventsCount++),h}function c(h,y){--h._eventsCount===0?h._events=new n:delete h._events[y]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var y=[],m,x;if(this._eventsCount===0)return y;for(x in m=this._events)e.call(m,x)&&y.push(t?x.slice(1):x);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(m)):y},u.prototype.listeners=function(y){var m=t?t+y:y,x=this._events[m];if(!x)return[];if(x.fn)return[x.fn];for(var B=0,E=x.length,C=new Array(E);B<E;B++)C[B]=x[B].fn;return C},u.prototype.listenerCount=function(y){var m=t?t+y:y,x=this._events[m];return x?x.fn?1:x.length:0},u.prototype.emit=function(y,m,x,B,E,C){var k=t?t+y:y;if(!this._events[k])return!1;var R=this._events[k],D=arguments.length,F,O;if(R.fn){switch(R.once&&this.removeListener(y,R.fn,void 0,!0),D){case 1:return R.fn.call(R.context),!0;case 2:return R.fn.call(R.context,m),!0;case 3:return R.fn.call(R.context,m,x),!0;case 4:return R.fn.call(R.context,m,x,B),!0;case 5:return R.fn.call(R.context,m,x,B,E),!0;case 6:return R.fn.call(R.context,m,x,B,E,C),!0}for(O=1,F=new Array(D-1);O<D;O++)F[O-1]=arguments[O];R.fn.apply(R.context,F)}else{var z=R.length,L;for(O=0;O<z;O++)switch(R[O].once&&this.removeListener(y,R[O].fn,void 0,!0),D){case 1:R[O].fn.call(R[O].context);break;case 2:R[O].fn.call(R[O].context,m);break;case 3:R[O].fn.call(R[O].context,m,x);break;case 4:R[O].fn.call(R[O].context,m,x,B);break;default:if(!F)for(L=1,F=new Array(D-1);L<D;L++)F[L-1]=arguments[L];R[O].fn.apply(R[O].context,F)}}return!0},u.prototype.on=function(y,m,x){return i(this,y,m,x,!1)},u.prototype.once=function(y,m,x){return i(this,y,m,x,!0)},u.prototype.removeListener=function(y,m,x,B){var E=t?t+y:y;if(!this._events[E])return this;if(!m)return c(this,E),this;var C=this._events[E];if(C.fn)C.fn===m&&(!B||C.once)&&(!x||C.context===x)&&c(this,E);else{for(var k=0,R=[],D=C.length;k<D;k++)(C[k].fn!==m||B&&!C[k].once||x&&C[k].context!==x)&&R.push(C[k]);R.length?this._events[E]=R.length===1?R[0]:R:c(this,E)}return this},u.prototype.removeAllListeners=function(y){var m;return y?(m=t?t+y:y,this._events[m]&&c(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=t,u.EventEmitter=u,r.exports=u})(Ni);const Oi=Ni.exports;var Zc;function Pd(){return Zc||(Zc=1,function(r){var e=ki.exports;Object.defineProperty(r,"__esModule",{value:!0}),r.default=x;var t=e(ls()),n=e(cs()),o=e(ds()),i=e(ms()),c=e(vs()),u=Ni.exports;function h(B){var E=y();return function(){var k=(0,c.default)(B),R;if(E){var D=(0,c.default)(this).constructor;R=Reflect.construct(k,arguments,D)}else R=k.apply(this,arguments);return(0,i.default)(this,R)}}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var m=function(B){(0,o.default)(C,B);var E=h(C);function C(k,R,D){var F;return(0,t.default)(this,C),F=E.call(this),F.socket=new window.WebSocket(k,D),F.socket.onopen=function(){return F.emit("open")},F.socket.onmessage=function(O){return F.emit("message",O.data)},F.socket.onerror=function(O){return F.emit("error",O)},F.socket.onclose=function(O){F.emit("close",O.code,O.reason)},F}return(0,n.default)(C,[{key:"send",value:function(R,D,F){var O=F||D;try{this.socket.send(R),O()}catch(z){O(z)}}},{key:"close",value:function(R,D){this.socket.close(R,D)}},{key:"addEventListener",value:function(R,D,F){this.socket.addEventListener(R,D,F)}}]),C}(u.EventEmitter);function x(B,E){return new m(B,E)}}(As)),As}var Es={},xs={exports:{}},$c;function Dd(){return $c||($c=1,function(r){var e=ys().default;function t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */r.exports=t=function(){return n},r.exports.__esModule=!0,r.exports.default=r.exports;var n={},o=Object.prototype,i=o.hasOwnProperty,c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",h=c.asyncIterator||"@@asyncIterator",y=c.toStringTag||"@@toStringTag";function m(M,l,g){return Object.defineProperty(M,l,{value:g,enumerable:!0,configurable:!0,writable:!0}),M[l]}try{m({},"")}catch{m=function(g,b,w){return g[b]=w}}function x(M,l,g,b){var w=l&&l.prototype instanceof C?l:C,S=Object.create(w.prototype),U=new Me(b||[]);return S._invoke=function(T,v,d){var _="suspendedStart";return function(Q,$){if(_==="executing")throw new Error("Generator is already running");if(_==="completed"){if(Q==="throw")throw $;return Be()}for(d.method=Q,d.arg=$;;){var Z=d.delegate;if(Z){var se=j(Z,d);if(se){if(se===E)continue;return se}}if(d.method==="next")d.sent=d._sent=d.arg;else if(d.method==="throw"){if(_==="suspendedStart")throw _="completed",d.arg;d.dispatchException(d.arg)}else d.method==="return"&&d.abrupt("return",d.arg);_="executing";var ee=B(T,v,d);if(ee.type==="normal"){if(_=d.done?"completed":"suspendedYield",ee.arg===E)continue;return{value:ee.arg,done:d.done}}ee.type==="throw"&&(_="completed",d.method="throw",d.arg=ee.arg)}}}(M,g,U),S}function B(M,l,g){try{return{type:"normal",arg:M.call(l,g)}}catch(b){return{type:"throw",arg:b}}}n.wrap=x;var E={};function C(){}function k(){}function R(){}var D={};m(D,u,function(){return this});var F=Object.getPrototypeOf,O=F&&F(F(ye([])));O&&O!==o&&i.call(O,u)&&(D=O);var z=R.prototype=C.prototype=Object.create(D);function L(M){["next","throw","return"].forEach(function(l){m(M,l,function(g){return this._invoke(l,g)})})}function H(M,l){function g(w,S,U,T){var v=B(M[w],M,S);if(v.type!=="throw"){var d=v.arg,_=d.value;return _&&e(_)=="object"&&i.call(_,"__await")?l.resolve(_.__await).then(function(Q){g("next",Q,U,T)},function(Q){g("throw",Q,U,T)}):l.resolve(_).then(function(Q){d.value=Q,U(d)},function(Q){return g("throw",Q,U,T)})}T(v.arg)}var b;this._invoke=function(w,S){function U(){return new l(function(T,v){g(w,S,T,v)})}return b=b?b.then(U,U):U()}}function j(M,l){var g=M.iterator[l.method];if(g===void 0){if(l.delegate=null,l.method==="throw"){if(M.iterator.return&&(l.method="return",l.arg=void 0,j(M,l),l.method==="throw"))return E;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var b=B(g,M.iterator,l.arg);if(b.type==="throw")return l.method="throw",l.arg=b.arg,l.delegate=null,E;var w=b.arg;return w?w.done?(l[M.resultName]=w.value,l.next=M.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,E):w:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,E)}function q(M){var l={tryLoc:M[0]};1 in M&&(l.catchLoc=M[1]),2 in M&&(l.finallyLoc=M[2],l.afterLoc=M[3]),this.tryEntries.push(l)}function he(M){var l=M.completion||{};l.type="normal",delete l.arg,M.completion=l}function Me(M){this.tryEntries=[{tryLoc:"root"}],M.forEach(q,this),this.reset(!0)}function ye(M){if(M){var l=M[u];if(l)return l.call(M);if(typeof M.next=="function")return M;if(!isNaN(M.length)){var g=-1,b=function w(){for(;++g<M.length;)if(i.call(M,g))return w.value=M[g],w.done=!1,w;return w.value=void 0,w.done=!0,w};return b.next=b}}return{next:Be}}function Be(){return{value:void 0,done:!0}}return k.prototype=R,m(z,"constructor",R),m(R,"constructor",k),k.displayName=m(R,y,"GeneratorFunction"),n.isGeneratorFunction=function(M){var l=typeof M=="function"&&M.constructor;return!!l&&(l===k||(l.displayName||l.name)==="GeneratorFunction")},n.mark=function(M){return Object.setPrototypeOf?Object.setPrototypeOf(M,R):(M.__proto__=R,m(M,y,"GeneratorFunction")),M.prototype=Object.create(z),M},n.awrap=function(M){return{__await:M}},L(H.prototype),m(H.prototype,h,function(){return this}),n.AsyncIterator=H,n.async=function(M,l,g,b,w){w===void 0&&(w=Promise);var S=new H(x(M,l,g,b),w);return n.isGeneratorFunction(l)?S:S.next().then(function(U){return U.done?U.value:S.next()})},L(z),m(z,y,"Generator"),m(z,u,function(){return this}),m(z,"toString",function(){return"[object Generator]"}),n.keys=function(M){var l=[];for(var g in M)l.push(g);return l.reverse(),function b(){for(;l.length;){var w=l.pop();if(w in M)return b.value=w,b.done=!1,b}return b.done=!0,b}},n.values=ye,Me.prototype={constructor:Me,reset:function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(he),!l)for(var g in this)g.charAt(0)==="t"&&i.call(this,g)&&!isNaN(+g.slice(1))&&(this[g]=void 0)},stop:function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},dispatchException:function(l){if(this.done)throw l;var g=this;function b(d,_){return U.type="throw",U.arg=l,g.next=d,_&&(g.method="next",g.arg=void 0),!!_}for(var w=this.tryEntries.length-1;w>=0;--w){var S=this.tryEntries[w],U=S.completion;if(S.tryLoc==="root")return b("end");if(S.tryLoc<=this.prev){var T=i.call(S,"catchLoc"),v=i.call(S,"finallyLoc");if(T&&v){if(this.prev<S.catchLoc)return b(S.catchLoc,!0);if(this.prev<S.finallyLoc)return b(S.finallyLoc)}else if(T){if(this.prev<S.catchLoc)return b(S.catchLoc,!0)}else{if(!v)throw new Error("try statement without catch or finally");if(this.prev<S.finallyLoc)return b(S.finallyLoc)}}}},abrupt:function(l,g){for(var b=this.tryEntries.length-1;b>=0;--b){var w=this.tryEntries[b];if(w.tryLoc<=this.prev&&i.call(w,"finallyLoc")&&this.prev<w.finallyLoc){var S=w;break}}S&&(l==="break"||l==="continue")&&S.tryLoc<=g&&g<=S.finallyLoc&&(S=null);var U=S?S.completion:{};return U.type=l,U.arg=g,S?(this.method="next",this.next=S.finallyLoc,E):this.complete(U)},complete:function(l,g){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&g&&(this.next=g),E},finish:function(l){for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g];if(b.finallyLoc===l)return this.complete(b.completion,b.afterLoc),he(b),E}},catch:function(l){for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g];if(b.tryLoc===l){var w=b.completion;if(w.type==="throw"){var S=w.arg;he(b)}return S}}throw new Error("illegal catch attempt")},delegateYield:function(l,g,b){return this.delegate={iterator:ye(l),resultName:g,nextLoc:b},this.method==="next"&&(this.arg=void 0),E}},n}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(xs)),xs.exports}var Ss,Xc;function Fd(){if(Xc)return Ss;Xc=1;var r=Dd()();Ss=r;try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}return Ss}var Is={exports:{}},Jc;function zd(){return Jc||(Jc=1,function(r){function e(n,o,i,c,u,h,y){try{var m=n[h](y),x=m.value}catch(B){i(B);return}m.done?o(x):Promise.resolve(x).then(c,u)}function t(n){return function(){var o=this,i=arguments;return new Promise(function(c,u){var h=n.apply(o,i);function y(x){e(h,c,u,y,m,"next",x)}function m(x){e(h,c,u,y,m,"throw",x)}y(void 0)})}}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(Is)),Is.exports}var eu;function Hd(){return eu||(eu=1,function(r){var e=ki.exports;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=e(Fd()),n=e(zd()),o=e(ys()),i=e(ls()),c=e(cs()),u=e(ds()),h=e(ms()),y=e(vs()),m=Ni.exports;function x(k){var R=B();return function(){var F=(0,y.default)(k),O;if(R){var z=(0,y.default)(this).constructor;O=Reflect.construct(F,arguments,z)}else O=F.apply(this,arguments);return(0,h.default)(this,O)}}function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var E=function(k,R){var D={};for(var F in k)Object.prototype.hasOwnProperty.call(k,F)&&R.indexOf(F)<0&&(D[F]=k[F]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,F=Object.getOwnPropertySymbols(k);O<F.length;O++)R.indexOf(F[O])<0&&Object.prototype.propertyIsEnumerable.call(k,F[O])&&(D[F[O]]=k[F[O]]);return D},C=function(k){(0,u.default)(D,k);var R=x(D);function D(F){var O,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},H=arguments.length>3?arguments[3]:void 0;(0,i.default)(this,D);var j=L.autoconnect,q=j===void 0?!0:j,he=L.reconnect,Me=he===void 0?!0:he,ye=L.reconnect_interval,Be=ye===void 0?1e3:ye,M=L.max_reconnects,l=M===void 0?5:M,g=E(L,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return O=R.call(this),O.webSocketFactory=F,O.queue={},O.rpc_id=0,O.address=z,O.autoconnect=q,O.ready=!1,O.reconnect=Me,O.reconnect_interval=Be,O.max_reconnects=l,O.rest_options=g,O.current_reconnects=0,O.generate_request_id=H||function(){return++O.rpc_id},O.autoconnect&&O._connect(O.address,Object.assign({autoconnect:O.autoconnect,reconnect:O.reconnect,reconnect_interval:O.reconnect_interval,max_reconnects:O.max_reconnects},O.rest_options)),O}return(0,c.default)(D,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(O,z,L,H){var j=this;return!H&&(0,o.default)(L)==="object"&&(H=L,L=null),new Promise(function(q,he){if(!j.ready)return he(new Error("socket not ready"));var Me=j.generate_request_id(O,z),ye={jsonrpc:"2.0",method:O,params:z||null,id:Me};j.socket.send(JSON.stringify(ye),H,function(Be){if(Be)return he(Be);j.queue[Me]={promise:[q,he]},L&&(j.queue[Me].timeout=setTimeout(function(){delete j.queue[Me],he(new Error("reply timeout"))},L))})})}},{key:"login",value:function(){var F=(0,n.default)(t.default.mark(function z(L){var H;return t.default.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,this.call("rpc.login",L);case 2:if(H=q.sent,H){q.next=5;break}throw new Error("authentication failed");case 5:return q.abrupt("return",H);case 6:case"end":return q.stop()}},z,this)}));function O(z){return F.apply(this,arguments)}return O}()},{key:"listMethods",value:function(){var F=(0,n.default)(t.default.mark(function z(){return t.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,this.call("__listMethods");case 2:return H.abrupt("return",H.sent);case 3:case"end":return H.stop()}},z,this)}));function O(){return F.apply(this,arguments)}return O}()},{key:"notify",value:function(O,z){var L=this;return new Promise(function(H,j){if(!L.ready)return j(new Error("socket not ready"));var q={jsonrpc:"2.0",method:O,params:z||null};L.socket.send(JSON.stringify(q),function(he){if(he)return j(he);H()})})}},{key:"subscribe",value:function(){var F=(0,n.default)(t.default.mark(function z(L){var H;return t.default.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return typeof L=="string"&&(L=[L]),q.next=3,this.call("rpc.on",L);case 3:if(H=q.sent,!(typeof L=="string"&&H[L]!=="ok")){q.next=6;break}throw new Error("Failed subscribing to an event '"+L+"' with: "+H[L]);case 6:return q.abrupt("return",H);case 7:case"end":return q.stop()}},z,this)}));function O(z){return F.apply(this,arguments)}return O}()},{key:"unsubscribe",value:function(){var F=(0,n.default)(t.default.mark(function z(L){var H;return t.default.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return typeof L=="string"&&(L=[L]),q.next=3,this.call("rpc.off",L);case 3:if(H=q.sent,!(typeof L=="string"&&H[L]!=="ok")){q.next=6;break}throw new Error("Failed unsubscribing from an event with: "+H);case 6:return q.abrupt("return",H);case 7:case"end":return q.stop()}},z,this)}));function O(z){return F.apply(this,arguments)}return O}()},{key:"close",value:function(O,z){this.socket.close(O||1e3,z)}},{key:"_connect",value:function(O,z){var L=this;this.socket=this.webSocketFactory(O,z),this.socket.addEventListener("open",function(){L.ready=!0,L.emit("open"),L.current_reconnects=0}),this.socket.addEventListener("message",function(H){var j=H.data;j instanceof ArrayBuffer&&(j=Buffer.from(j).toString());try{j=JSON.parse(j)}catch{return}if(j.notification&&L.listeners(j.notification).length){if(!Object.keys(j.params).length)return L.emit(j.notification);var q=[j.notification];if(j.params.constructor===Object)q.push(j.params);else for(var he=0;he<j.params.length;he++)q.push(j.params[he]);return Promise.resolve().then(function(){L.emit.apply(L,q)})}if(!L.queue[j.id])return j.method&&j.params?Promise.resolve().then(function(){L.emit(j.method,j.params)}):void 0;"error"in j=="result"in j&&L.queue[j.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),L.queue[j.id].timeout&&clearTimeout(L.queue[j.id].timeout),j.error?L.queue[j.id].promise[1](j.error):L.queue[j.id].promise[0](j.result),delete L.queue[j.id]}),this.socket.addEventListener("error",function(H){return L.emit("error",H)}),this.socket.addEventListener("close",function(H){var j=H.code,q=H.reason;L.ready&&setTimeout(function(){return L.emit("close",j,q)},0),L.ready=!1,L.socket=void 0,j!==1e3&&(L.current_reconnects++,L.reconnect&&(L.max_reconnects>L.current_reconnects||L.max_reconnects===0)&&setTimeout(function(){return L._connect(O,z)},L.reconnect_interval))})}}]),D}(m.EventEmitter);r.default=C}(Es)),Es}var Vn=ki.exports;Object.defineProperty(ss,"__esModule",{value:!0});var tu=ss.Client=void 0,Wd=Vn(cs()),jd=Vn(ls()),Gd=Vn(ds()),qd=Vn(ms()),nu=Vn(vs()),Qd=Vn(Pd()),Kd=Vn(Hd());function Yd(r){var e=Vd();return function(){var n=(0,nu.default)(r),o;if(e){var i=(0,nu.default)(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return(0,qd.default)(this,o)}}function Vd(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Zd=function(r){(0,Gd.default)(t,r);var e=Yd(t);function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.autoconnect,c=i===void 0?!0:i,u=o.reconnect,h=u===void 0?!0:u,y=o.reconnect_interval,m=y===void 0?1e3:y,x=o.max_reconnects,B=x===void 0?5:x,E=arguments.length>2?arguments[2]:void 0;return(0,jd.default)(this,t),e.call(this,Qd.default,n,{autoconnect:c,reconnect:h,reconnect_interval:m,max_reconnects:B},E)}return(0,Wd.default)(t)}(Kd.default);tu=ss.Client=Zd;var Ri,$d=new Uint8Array(16);function ru(){if(!Ri&&(Ri=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ri))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ri($d)}const Xd=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Li(r){return typeof r=="string"&&Xd.test(r)}for(var Ct=[],_s=0;_s<256;++_s)Ct.push((_s+256).toString(16).substr(1));function Ui(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Ct[r[e+0]]+Ct[r[e+1]]+Ct[r[e+2]]+Ct[r[e+3]]+"-"+Ct[r[e+4]]+Ct[r[e+5]]+"-"+Ct[r[e+6]]+Ct[r[e+7]]+"-"+Ct[r[e+8]]+Ct[r[e+9]]+"-"+Ct[r[e+10]]+Ct[r[e+11]]+Ct[r[e+12]]+Ct[r[e+13]]+Ct[r[e+14]]+Ct[r[e+15]]).toLowerCase();if(!Li(t))throw TypeError("Stringified UUID is invalid");return t}var iu,Ms,Bs=0,Ts=0;function Jd(r,e,t){var n=e&&t||0,o=e||new Array(16);r=r||{};var i=r.node||iu,c=r.clockseq!==void 0?r.clockseq:Ms;if(i==null||c==null){var u=r.random||(r.rng||ru)();i==null&&(i=iu=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),c==null&&(c=Ms=(u[6]<<8|u[7])&16383)}var h=r.msecs!==void 0?r.msecs:Date.now(),y=r.nsecs!==void 0?r.nsecs:Ts+1,m=h-Bs+(y-Ts)/1e4;if(m<0&&r.clockseq===void 0&&(c=c+1&16383),(m<0||h>Bs)&&r.nsecs===void 0&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Bs=h,Ts=y,Ms=c,h+=122192928e5;var x=((h&268435455)*1e4+y)%4294967296;o[n++]=x>>>24&255,o[n++]=x>>>16&255,o[n++]=x>>>8&255,o[n++]=x&255;var B=h/4294967296*1e4&268435455;o[n++]=B>>>8&255,o[n++]=B&255,o[n++]=B>>>24&15|16,o[n++]=B>>>16&255,o[n++]=c>>>8|128,o[n++]=c&255;for(var E=0;E<6;++E)o[n+E]=i[E];return e||Ui(o)}function ou(r){if(!Li(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}function e0(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}var t0="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n0="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function su(r,e,t){function n(o,i,c,u){if(typeof o=="string"&&(o=e0(o)),typeof i=="string"&&(i=ou(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var h=new Uint8Array(16+o.length);if(h.set(i),h.set(o,i.length),h=t(h),h[6]=h[6]&15|e,h[8]=h[8]&63|128,c){u=u||0;for(var y=0;y<16;++y)c[u+y]=h[y];return c}return Ui(h)}try{n.name=r}catch{}return n.DNS=t0,n.URL=n0,n}function r0(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return i0(o0(s0(r),r.length*8))}function i0(r){for(var e=[],t=r.length*32,n="0123456789abcdef",o=0;o<t;o+=8){var i=r[o>>5]>>>o%32&255,c=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);e.push(c)}return e}function au(r){return(r+64>>>9<<4)+14+1}function o0(r,e){r[e>>5]|=128<<e%32,r[au(e)-1]=e;for(var t=1732584193,n=-271733879,o=-1732584194,i=271733878,c=0;c<r.length;c+=16){var u=t,h=n,y=o,m=i;t=Ot(t,n,o,i,r[c],7,-680876936),i=Ot(i,t,n,o,r[c+1],12,-389564586),o=Ot(o,i,t,n,r[c+2],17,606105819),n=Ot(n,o,i,t,r[c+3],22,-1044525330),t=Ot(t,n,o,i,r[c+4],7,-176418897),i=Ot(i,t,n,o,r[c+5],12,1200080426),o=Ot(o,i,t,n,r[c+6],17,-1473231341),n=Ot(n,o,i,t,r[c+7],22,-45705983),t=Ot(t,n,o,i,r[c+8],7,1770035416),i=Ot(i,t,n,o,r[c+9],12,-1958414417),o=Ot(o,i,t,n,r[c+10],17,-42063),n=Ot(n,o,i,t,r[c+11],22,-1990404162),t=Ot(t,n,o,i,r[c+12],7,1804603682),i=Ot(i,t,n,o,r[c+13],12,-40341101),o=Ot(o,i,t,n,r[c+14],17,-1502002290),n=Ot(n,o,i,t,r[c+15],22,1236535329),t=Rt(t,n,o,i,r[c+1],5,-165796510),i=Rt(i,t,n,o,r[c+6],9,-1069501632),o=Rt(o,i,t,n,r[c+11],14,643717713),n=Rt(n,o,i,t,r[c],20,-373897302),t=Rt(t,n,o,i,r[c+5],5,-701558691),i=Rt(i,t,n,o,r[c+10],9,38016083),o=Rt(o,i,t,n,r[c+15],14,-660478335),n=Rt(n,o,i,t,r[c+4],20,-405537848),t=Rt(t,n,o,i,r[c+9],5,568446438),i=Rt(i,t,n,o,r[c+14],9,-1019803690),o=Rt(o,i,t,n,r[c+3],14,-187363961),n=Rt(n,o,i,t,r[c+8],20,1163531501),t=Rt(t,n,o,i,r[c+13],5,-1444681467),i=Rt(i,t,n,o,r[c+2],9,-51403784),o=Rt(o,i,t,n,r[c+7],14,1735328473),n=Rt(n,o,i,t,r[c+12],20,-1926607734),t=Lt(t,n,o,i,r[c+5],4,-378558),i=Lt(i,t,n,o,r[c+8],11,-2022574463),o=Lt(o,i,t,n,r[c+11],16,1839030562),n=Lt(n,o,i,t,r[c+14],23,-35309556),t=Lt(t,n,o,i,r[c+1],4,-1530992060),i=Lt(i,t,n,o,r[c+4],11,1272893353),o=Lt(o,i,t,n,r[c+7],16,-155497632),n=Lt(n,o,i,t,r[c+10],23,-1094730640),t=Lt(t,n,o,i,r[c+13],4,681279174),i=Lt(i,t,n,o,r[c],11,-358537222),o=Lt(o,i,t,n,r[c+3],16,-722521979),n=Lt(n,o,i,t,r[c+6],23,76029189),t=Lt(t,n,o,i,r[c+9],4,-640364487),i=Lt(i,t,n,o,r[c+12],11,-421815835),o=Lt(o,i,t,n,r[c+15],16,530742520),n=Lt(n,o,i,t,r[c+2],23,-995338651),t=Ut(t,n,o,i,r[c],6,-198630844),i=Ut(i,t,n,o,r[c+7],10,1126891415),o=Ut(o,i,t,n,r[c+14],15,-1416354905),n=Ut(n,o,i,t,r[c+5],21,-57434055),t=Ut(t,n,o,i,r[c+12],6,1700485571),i=Ut(i,t,n,o,r[c+3],10,-1894986606),o=Ut(o,i,t,n,r[c+10],15,-1051523),n=Ut(n,o,i,t,r[c+1],21,-2054922799),t=Ut(t,n,o,i,r[c+8],6,1873313359),i=Ut(i,t,n,o,r[c+15],10,-30611744),o=Ut(o,i,t,n,r[c+6],15,-1560198380),n=Ut(n,o,i,t,r[c+13],21,1309151649),t=Ut(t,n,o,i,r[c+4],6,-145523070),i=Ut(i,t,n,o,r[c+11],10,-1120210379),o=Ut(o,i,t,n,r[c+2],15,718787259),n=Ut(n,o,i,t,r[c+9],21,-343485551),t=kn(t,u),n=kn(n,h),o=kn(o,y),i=kn(i,m)}return[t,n,o,i]}function s0(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(au(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function kn(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function a0(r,e){return r<<e|r>>>32-e}function Pi(r,e,t,n,o,i){return kn(a0(kn(kn(e,r),kn(n,i)),o),t)}function Ot(r,e,t,n,o,i,c){return Pi(e&t|~e&n,r,e,o,i,c)}function Rt(r,e,t,n,o,i,c){return Pi(e&n|t&~n,r,e,o,i,c)}function Lt(r,e,t,n,o,i,c){return Pi(e^t^n,r,e,o,i,c)}function Ut(r,e,t,n,o,i,c){return Pi(t^(e|~n),r,e,o,i,c)}var c0=su("v3",48,r0);const u0=c0;function cu(r,e,t){r=r||{};var n=r.random||(r.rng||ru)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var o=0;o<16;++o)e[t+o]=n[o];return e}return Ui(n)}function l0(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function Cs(r,e){return r<<e|r>>>32-e}function f0(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var o=0;o<n.length;++o)r.push(n.charCodeAt(o))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var i=r.length/4+2,c=Math.ceil(i/16),u=new Array(c),h=0;h<c;++h){for(var y=new Uint32Array(16),m=0;m<16;++m)y[m]=r[h*64+m*4]<<24|r[h*64+m*4+1]<<16|r[h*64+m*4+2]<<8|r[h*64+m*4+3];u[h]=y}u[c-1][14]=(r.length-1)*8/Math.pow(2,32),u[c-1][14]=Math.floor(u[c-1][14]),u[c-1][15]=(r.length-1)*8&4294967295;for(var x=0;x<c;++x){for(var B=new Uint32Array(80),E=0;E<16;++E)B[E]=u[x][E];for(var C=16;C<80;++C)B[C]=Cs(B[C-3]^B[C-8]^B[C-14]^B[C-16],1);for(var k=t[0],R=t[1],D=t[2],F=t[3],O=t[4],z=0;z<80;++z){var L=Math.floor(z/20),H=Cs(k,5)+l0(L,R,D,F)+O+e[L]+B[z]>>>0;O=F,F=D,D=Cs(R,30)>>>0,R=k,k=H}t[0]=t[0]+k>>>0,t[1]=t[1]+R>>>0,t[2]=t[2]+D>>>0,t[3]=t[3]+F>>>0,t[4]=t[4]+O>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var h0=su("v5",80,f0);const d0=h0,p0="00000000-0000-0000-0000-000000000000";function g0(r){if(!Li(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const uu=ai(Object.freeze(Object.defineProperty({__proto__:null,v1:Jd,v3:u0,v4:cu,v5:d0,NIL:p0,version:g0,validate:Li,stringify:Ui,parse:ou},Symbol.toStringTag,{value:"Module"}))),y0=uu.v4;var w0=function(r,e,t,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};const o=typeof n.version=="number"?n.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const i={method:r};if(o===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof t>"u"){const c=typeof n.generator=="function"?n.generator:function(){return y0()};i.id=c(i,n)}else o===2&&t===null?n.notificationIdNull&&(i.id=null):i.id=t;return i};const m0=uu.v4,b0=w0,qr=function(r,e){if(!(this instanceof qr))return new qr(r,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return m0()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=r};var v0=qr;qr.prototype.request=function(r,e,t,n){const o=this;let i=null;const c=Array.isArray(r)&&typeof e=="function";if(this.options.version===1&&c)throw new TypeError("JSON-RPC 1.0 does not support batching");if(c||!c&&r&&typeof r=="object"&&typeof e=="function")n=e,i=r;else{typeof t=="function"&&(n=t,t=void 0);const y=typeof n=="function";try{i=b0(r,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(m){if(y)return n(m);throw m}if(!y)return i}let h;try{h=JSON.stringify(i,this.options.replacer)}catch(y){return n(y)}return this.callServer(h,function(y,m){o._parseResponse(y,m,n)}),i},qr.prototype._parseResponse=function(r,e,t){if(r){t(r);return}if(!e)return t();let n;try{n=JSON.parse(e,this.options.reviver)}catch(o){return t(o)}if(t.length===3)if(Array.isArray(n)){const o=function(c){return typeof c.error<"u"},i=function(c){return!o(c)};return t(null,n.filter(o),n.filter(i))}else return t(null,n.error,n.result);t(null,n)};const[lu,fu,hu]=[[],[],[]],A0=BigInt(0),Qr=BigInt(1),E0=BigInt(2),x0=BigInt(7),S0=BigInt(256),I0=BigInt(113);for(let r=0,e=Qr,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],lu.push(2*(5*n+t)),fu.push((r+1)*(r+2)/2%64);let o=A0;for(let i=0;i<7;i++)e=(e<<Qr^(e>>x0)*I0)%S0,e&E0&&(o^=Qr<<(Qr<<BigInt(i))-Qr);hu.push(o)}const[_0,M0]=me.split(hu,!0),du=(r,e,t)=>t>32?me.rotlBH(r,e,t):me.rotlSH(r,e,t),pu=(r,e,t)=>t>32?me.rotlBL(r,e,t):me.rotlSL(r,e,t);function B0(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let c=0;c<10;c++)t[c]=r[c]^r[c+10]^r[c+20]^r[c+30]^r[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,h=(c+2)%10,y=t[h],m=t[h+1],x=du(y,m,1)^t[u],B=pu(y,m,1)^t[u+1];for(let E=0;E<50;E+=10)r[c+E]^=x,r[c+E+1]^=B}let o=r[2],i=r[3];for(let c=0;c<24;c++){const u=fu[c],h=du(o,i,u),y=pu(o,i,u),m=lu[c];o=r[m],i=r[m+1],r[m]=h,r[m+1]=y}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)t[u]=r[c+u];for(let u=0;u<10;u++)r[c+u]^=~t[(u+2)%10]&t[(u+4)%10]}r[0]^=_0[n],r[1]^=M0[n]}t.fill(0)}class Di extends ko{constructor(e,t,n,o=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=o,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Gt.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=oh(this.state)}keccak(){B0(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Gt.exists(this);const{blockLen:t,state:n}=this;e=Or(e);const o=e.length;for(let i=0;i<o;){const c=Math.min(t-this.pos,o-i);for(let u=0;u<c;u++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:o}=this;e[n]^=t,(t&128)!==0&&n===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){Gt.exists(this,!1),Gt.bytes(e),this.finish();const t=this.state,{blockLen:n}=this;for(let o=0,i=e.length;o<i;){this.posOut>=n&&this.keccak();const c=Math.min(n-this.posOut,i-o);e.set(t.subarray(this.posOut,this.posOut+c),o),this.posOut+=c,o+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Gt.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Gt.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:o,rounds:i,enableXOF:c}=this;return e||(e=new Di(t,n,o,c,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=o,e.enableXOF=c,e.destroyed=this.destroyed,e}}const Nn=(r,e,t)=>Rr(()=>new Di(e,r,t));Nn(6,144,224/8),Nn(6,136,256/8),Nn(6,104,384/8),Nn(6,72,512/8),Nn(1,144,224/8),Nn(1,136,256/8),Nn(1,104,384/8),Nn(1,72,512/8);const gu=(r,e,t)=>ah((n={})=>new Di(e,r,n.dkLen===void 0?t:n.dkLen,!0));gu(31,168,128/8),gu(31,136,256/8);class yu extends ko{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Gt.hash(e);const n=Or(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?e.create().update(n).digest():n);for(let c=0;c<i.length;c++)i[c]^=54;this.iHash.update(i),this.oHash=e.create();for(let c=0;c<i.length;c++)i[c]^=106;this.oHash.update(i),i.fill(0)}update(e){return Gt.exists(this),this.iHash.update(e),this}digestInto(e){Gt.exists(this),Gt.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:o,destroyed:i,blockLen:c,outputLen:u}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=c,e.outputLen=u,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const wu=(r,e,t)=>new yu(r,e).update(t).digest();wu.create=(r,e)=>new yu(r,e);/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const Ue=BigInt(0),$e=BigInt(1),On=BigInt(2),Kr=BigInt(3),T0=BigInt(8),tt=Object.freeze({a:Ue,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:$e,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});function mu(r){const{a:e,b:t}=tt,n=ae(r*r),o=ae(n*r);return ae(o+e*r+t)}const Fi=tt.a===Ue;class C0 extends Error{constructor(e){super(e)}}class Fe{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static fromAffine(e){if(!(e instanceof St))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new Fe(e.x,e.y,$e)}static toAffineBatch(e){const t=L0(e.map(n=>n.z));return e.map((n,o)=>n.toAffine(t[o]))}static normalizeZ(e){return Fe.toAffineBatch(e).map(Fe.fromAffine)}equals(e){if(!(e instanceof Fe))throw new TypeError("JacobianPoint expected");const{x:t,y:n,z:o}=this,{x:i,y:c,z:u}=e,h=ae(o*o),y=ae(u*u),m=ae(t*y),x=ae(i*h),B=ae(ae(n*u)*y),E=ae(ae(c*o)*h);return m===x&&B===E}negate(){return new Fe(this.x,ae(-this.y),this.z)}double(){const{x:e,y:t,z:n}=this,o=ae(e*e),i=ae(t*t),c=ae(i*i),u=e+i,h=ae(On*(ae(u*u)-o-c)),y=ae(Kr*o),m=ae(y*y),x=ae(m-On*h),B=ae(y*(h-x)-T0*c),E=ae(On*t*n);return new Fe(x,B,E)}add(e){if(!(e instanceof Fe))throw new TypeError("JacobianPoint expected");const{x:t,y:n,z:o}=this,{x:i,y:c,z:u}=e;if(i===Ue||c===Ue)return this;if(t===Ue||n===Ue)return e;const h=ae(o*o),y=ae(u*u),m=ae(t*y),x=ae(i*h),B=ae(ae(n*u)*y),E=ae(ae(c*o)*h),C=ae(x-m),k=ae(E-B);if(C===Ue)return k===Ue?this.double():Fe.ZERO;const R=ae(C*C),D=ae(C*R),F=ae(m*R),O=ae(k*k-D-On*F),z=ae(k*(F-O)-B*D),L=ae(o*u*C);return new Fe(O,z,L)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=Fe.ZERO;if(typeof e=="bigint"&&e===Ue)return t;let n=Eu(e);if(n===$e)return this;if(!Fi){let x=t,B=this;for(;n>Ue;)n&$e&&(x=x.add(B)),B=B.double(),n>>=$e;return x}let{k1neg:o,k1:i,k2neg:c,k2:u}=Su(n),h=t,y=t,m=this;for(;i>Ue||u>Ue;)i&$e&&(h=h.add(m)),u&$e&&(y=y.add(m)),m=m.double(),i>>=$e,u>>=$e;return o&&(h=h.negate()),c&&(y=y.negate()),y=new Fe(ae(y.x*tt.beta),y.y,y.z),h.add(y)}precomputeWindow(e){const t=Fi?128/e+1:256/e+1,n=[];let o=this,i=o;for(let c=0;c<t;c++){i=o,n.push(i);for(let u=1;u<2**(e-1);u++)i=i.add(o),n.push(i);o=i.double()}return n}wNAF(e,t){!t&&this.equals(Fe.BASE)&&(t=St.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=t&&ks.get(t);o||(o=this.precomputeWindow(n),t&&n!==1&&(o=Fe.normalizeZ(o),ks.set(t,o)));let i=Fe.ZERO,c=Fe.ZERO;const u=1+(Fi?128/n:256/n),h=2**(n-1),y=BigInt(2**n-1),m=2**n,x=BigInt(n);for(let B=0;B<u;B++){const E=B*h;let C=Number(e&y);if(e>>=x,C>h&&(C-=m,e+=$e),C===0){let k=o[E];B%2&&(k=k.negate()),c=c.add(k)}else{let k=o[E+Math.abs(C)-1];C<0&&(k=k.negate()),i=i.add(k)}}return{p:i,f:c}}multiply(e,t){let n=Eu(e),o,i;if(Fi){const{k1neg:c,k1:u,k2neg:h,k2:y}=Su(n);let{p:m,f:x}=this.wNAF(u,t),{p:B,f:E}=this.wNAF(y,t);c&&(m=m.negate()),h&&(B=B.negate()),B=new Fe(ae(B.x*tt.beta),B.y,B.z),o=m.add(B),i=x.add(E)}else{const{p:c,f:u}=this.wNAF(n,t);o=c,i=u}return Fe.normalizeZ([o,i])[0]}toAffine(e=Hi(this.z)){const{x:t,y:n,z:o}=this,i=e,c=ae(i*i),u=ae(c*i),h=ae(t*c),y=ae(n*u);if(ae(o*i)!==$e)throw new Error("invZ was invalid");return new St(h,y)}}Fe.BASE=new Fe(tt.Gx,tt.Gy,$e),Fe.ZERO=new Fe(Ue,$e,Ue);const ks=new WeakMap;class St{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,ks.delete(this)}hasEvenY(){return this.y%On===Ue}static fromCompressedHex(e){const t=e.length===32,n=Xn(t?e:e.subarray(1));if(!Rs(n))throw new Error("Point is not on curve");const o=mu(n);let i=R0(o);const c=(i&$e)===$e;t?c&&(i=ae(-i)):(e[0]&1)===1!==c&&(i=ae(-i));const u=new St(n,i);return u.assertValidity(),u}static fromUncompressedHex(e){const t=Xn(e.subarray(1,33)),n=Xn(e.subarray(33,65)),o=new St(t,n);return o.assertValidity(),o}static fromHex(e){const t=Ns(e),n=t.length,o=t[0];if(n===32||n===33&&(o===2||o===3))return this.fromCompressedHex(t);if(n===65&&o===4)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return St.BASE.multiply(Ls(e))}static fromSignature(e,t,n){e=Ns(e);const o=P0(e),{r:i,s:c}=D0(t);if(n!==0&&n!==1)throw new Error("Cannot recover signature: invalid recovery bit");const u=n&1?"03":"02",h=St.fromHex(u+mr(i)),{n:y}=tt,m=Hi(i,y),x=ae(-o*m,y),B=ae(c*m,y),E=St.BASE.multiplyAndAddUnsafe(h,x,B);if(!E)throw new Error("Cannot recover signature: point at infinify");return E.assertValidity(),E}toRawBytes(e=!1){return $n(this.toHex(e))}toHex(e=!1){const t=mr(this.x);return e?`${this.hasEvenY()?"02":"03"}${t}`:`04${t}${mr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:n}=this;if(!Rs(t)||!Rs(n))throw new Error(e);const o=ae(n*n),i=mu(t);if(ae(o-i)!==Ue)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new St(this.x,ae(-this.y))}double(){return Fe.fromAffine(this).double().toAffine()}add(e){return Fe.fromAffine(this).add(Fe.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Fe.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,n){const o=Fe.fromAffine(this),i=t===Ue||t===$e||this!==St.BASE?o.multiplyUnsafe(t):o.multiply(t),c=Fe.fromAffine(e).multiplyUnsafe(n),u=i.add(c);return u.equals(Fe.ZERO)?void 0:u.toAffine()}}St.BASE=new St(tt.Gx,tt.Gy),St.ZERO=new St(Ue,Ue);function bu(r){return Number.parseInt(r[0],16)>=8?"00"+r:r}function vu(r){if(r.length<2||r[0]!==2)throw new Error(`Invalid signature integer tag: ${wr(r)}`);const e=r[1],t=r.subarray(2,e+2);if(!e||t.length!==e)throw new Error("Invalid signature integer: wrong length");if(t[0]===0&&t[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Xn(t),left:r.subarray(e+2)}}function k0(r){if(r.length<2||r[0]!=48)throw new Error(`Invalid signature tag: ${wr(r)}`);if(r[1]!==r.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:t}=vu(r.subarray(2)),{data:n,left:o}=vu(t);if(o.length)throw new Error(`Invalid signature: left bytes after parsing: ${wr(o)}`);return{r:e,s:n}}class Zn{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!t)throw new TypeError(`${n}: Expected string or Uint8Array`);const o=t?wr(e):e;if(o.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new Zn(zi(o.slice(0,64)),zi(o.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if(typeof e!="string"&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:o}=k0(t?e:$n(e));return new Zn(n,o)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!Wi(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Wi(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=tt.n>>$e;return this.s>e}normalizeS(){return this.hasHighS()?new Zn(this.r,tt.n-this.s):this}toDERRawBytes(e=!1){return $n(this.toDERHex(e))}toDERHex(e=!1){const t=bu(Vr(this.s));if(e)return t;const n=bu(Vr(this.r)),o=Vr(n.length/2),i=Vr(t.length/2);return`30${Vr(n.length/2+t.length/2+4)}02${o}${n}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return $n(this.toCompactHex())}toCompactHex(){return mr(this.r)+mr(this.s)}}function Yr(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];const e=r.reduce((n,o)=>n+o.length,0),t=new Uint8Array(e);for(let n=0,o=0;n<r.length;n++){const i=r[n];t.set(i,o),o+=i.length}return t}const N0=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function wr(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let t=0;t<r.length;t++)e+=N0[r[t]];return e}const O0=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function mr(r){if(typeof r!="bigint")throw new Error("Expected bigint");if(!(Ue<=r&&r<O0))throw new Error("Expected number < 2^256");return r.toString(16).padStart(64,"0")}function Au(r){const e=$n(mr(r));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function Vr(r){const e=r.toString(16);return e.length&1?`0${e}`:e}function zi(r){if(typeof r!="string")throw new TypeError("hexToNumber: expected string, got "+typeof r);return BigInt(`0x${r}`)}function $n(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+r.length);const e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){const n=t*2,o=r.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[t]=i}return e}function Xn(r){return zi(wr(r))}function Ns(r){return r instanceof Uint8Array?Uint8Array.from(r):$n(r)}function Eu(r){if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)return BigInt(r);if(typeof r=="bigint"&&Wi(r))return r;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function ae(r,e=tt.P){const t=r%e;return t>=Ue?t:e+t}function Xt(r,e){const{P:t}=tt;let n=r;for(;e-- >Ue;)n*=n,n%=t;return n}function R0(r){const{P:e}=tt,t=BigInt(6),n=BigInt(11),o=BigInt(22),i=BigInt(23),c=BigInt(44),u=BigInt(88),h=r*r*r%e,y=h*h*r%e,m=Xt(y,Kr)*y%e,x=Xt(m,Kr)*y%e,B=Xt(x,On)*h%e,E=Xt(B,n)*B%e,C=Xt(E,o)*E%e,k=Xt(C,c)*C%e,R=Xt(k,u)*k%e,D=Xt(R,c)*C%e,F=Xt(D,Kr)*y%e,O=Xt(F,i)*E%e,z=Xt(O,t)*h%e;return Xt(z,On)}function Hi(r,e=tt.P){if(r===Ue||e<=Ue)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=ae(r,e),n=e,o=Ue,i=$e;for(;t!==Ue;){const u=n/t,h=n%t,y=o-i*u;n=t,t=h,o=i,i=y}if(n!==$e)throw new Error("invert: does not exist");return ae(o,e)}function L0(r,e=tt.P){const t=new Array(r.length),n=r.reduce((i,c,u)=>c===Ue?i:(t[u]=i,ae(i*c,e)),$e),o=Hi(n,e);return r.reduceRight((i,c,u)=>c===Ue?i:(t[u]=ae(i*t[u],e),ae(i*c,e)),o),t}const xu=(r,e)=>(r+e/On)/e,U0={a1:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1:-$e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2:BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),POW_2_128:BigInt("0x100000000000000000000000000000000")};function Su(r){const{n:e}=tt,{a1:t,b1:n,a2:o,b2:i,POW_2_128:c}=U0,u=xu(i*r,e),h=xu(-n*r,e);let y=ae(r-u*t-h*o,e),m=ae(-u*n-h*i,e);const x=y>c,B=m>c;if(x&&(y=e-y),B&&(m=e-m),y>c||m>c)throw new Error("splitScalarEndo: Endomorphism failed, k="+r);return{k1neg:x,k1:y,k2neg:B,k2:m}}function P0(r){const{n:e}=tt,n=r.length*8-256;let o=Xn(r);return n>0&&(o=o>>BigInt(n)),o>=e&&(o-=e),o}let br,Os;function Wi(r){return Ue<r&&r<tt.n}function Rs(r){return Ue<r&&r<tt.P}function Ls(r){let e;if(typeof r=="bigint")e=r;else if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)e=BigInt(r);else if(typeof r=="string"){if(r.length!==64)throw new Error("Expected 32 bytes of private key");e=zi(r)}else if(r instanceof Uint8Array){if(r.length!==32)throw new Error("Expected 32 bytes of private key");e=Xn(r)}else throw new TypeError("Expected valid private key");if(!Wi(e))throw new Error("Expected private key: 0 < key < n");return e}function D0(r){if(r instanceof Zn)return r.assertValidity(),r;try{return Zn.fromDER(r)}catch{return Zn.fromCompact(r)}}St.BASE._setWindowSize(8);const Kt={node:Ro,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},ji={},Jn={bytesToHex:wr,hexToBytes:$n,concatBytes:Yr,mod:ae,invert:Hi,isValidPrivateKey(r){try{return Ls(r),!0}catch{return!1}},_bigintTo32Bytes:Au,_normalizePrivateKey:Ls,hashToPrivateKey:r=>{if(r=Ns(r),r.length<40||r.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const e=ae(Xn(r),tt.n-$e)+$e;return Au(e)},randomBytes:(r=32)=>{if(Kt.web)return Kt.web.getRandomValues(new Uint8Array(r));if(Kt.node){const{randomBytes:e}=Kt.node;return Uint8Array.from(e(r))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Jn.hashToPrivateKey(Jn.randomBytes(40)),sha256:async(...r)=>{if(Kt.web){const e=await Kt.web.subtle.digest("SHA-256",Yr(...r));return new Uint8Array(e)}else if(Kt.node){const{createHash:e}=Kt.node,t=e("sha256");return r.forEach(n=>t.update(n)),Uint8Array.from(t.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(r,...e)=>{if(Kt.web){const t=await Kt.web.subtle.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Yr(...e),o=await Kt.web.subtle.sign("HMAC",t,n);return new Uint8Array(o)}else if(Kt.node){const{createHmac:t}=Kt.node,n=t("sha256",r);return e.forEach(o=>n.update(o)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(r,...e)=>{let t=ji[r];if(t===void 0){const n=await Jn.sha256(Uint8Array.from(r,o=>o.charCodeAt(0)));t=Yr(n,n),ji[r]=t}return Jn.sha256(t,...e)},taggedHashSync:(r,...e)=>{if(typeof br!="function")throw new C0("sha256Sync is undefined, you need to set it");let t=ji[r];if(t===void 0){const n=br(Uint8Array.from(r,o=>o.charCodeAt(0)));t=Yr(n,n),ji[r]=t}return br(t,...e)},precompute(r=8,e=St.BASE){const t=e===St.BASE?e:new St(e.x,e.y);return t._setWindowSize(r),t.multiply(Kr),t}};Object.defineProperties(Jn,{sha256Sync:{configurable:!1,get(){return br},set(r){br||(br=r)}},hmacSha256Sync:{configurable:!1,get(){return Os},set(r){Os||(Os=r)}}}),fr.sha512Sync=(...r)=>Bh(fr.concatBytes(...r)),fr.randomPrivateKey;function Iu(r){try{return Je.fromHex(r,!0),!0}catch{return!1}}const F0=(r,e)=>hc.sign(r,e.slice(0,32)),z0=hc.verify,Zr=r=>Ae.Buffer.isBuffer(r)?r:r instanceof Uint8Array?Ae.Buffer.from(r.buffer,r.byteOffset,r.byteLength):Ae.Buffer.from(r);class H0{constructor(e){Object.assign(this,e)}encode(){return Ae.Buffer.from(vc(Gi,this))}static decode(e){return Ac(Gi,this,e)}static decodeUnchecked(e){return gc(Gi,this,e)}}const Gi=new Map,W0=32,vn=32;function j0(r){return r._bn!==void 0}let _u=1;class le extends H0{constructor(e){if(super({}),this._bn=void 0,j0(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Mt.decode(e);if(t.length!=vn)throw new Error("Invalid public key input");this._bn=new dc(t)}else this._bn=new dc(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}static unique(){const e=new le(_u);return _u+=1,new le(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Mt.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(Ae.Buffer);if(e.length===vn)return e;const t=Ae.Buffer.alloc(32);return e.copy(t,32-e.length),t}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const o=Ae.Buffer.concat([e.toBuffer(),Ae.Buffer.from(t),n.toBuffer()]),i=Go(o);return new le(i)}static createProgramAddressSync(e,t){let n=Ae.Buffer.alloc(0);e.forEach(function(i){if(i.length>W0)throw new TypeError("Max seed length exceeded");n=Ae.Buffer.concat([n,Zr(i)])}),n=Ae.Buffer.concat([n,t.toBuffer(),Ae.Buffer.from("ProgramDerivedAddress")]);const o=Go(n);if(Iu(o))throw new Error("Invalid seeds, address must fall off the curve");return new le(o)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n=255,o;for(;n!=0;){try{const i=e.concat(Ae.Buffer.from([n]));o=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[o,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new le(e);return Iu(t.toBytes())}}le.default=new le("11111111111111111111111111111111"),Gi.set(le,{kind:"struct",fields:[["_bn","u256"]]}),new le("BPFLoader1111111111111111111111111111111111");const vr=1280-40-8,Mu=127,Us=64;class Bu extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Bu.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Tu extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Tu.prototype,"name",{value:"TransactionExpiredTimeoutError"});class qi{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((i,c)=>{n.set(i.toBase58(),c)});const o=i=>{const c=n.get(i.toBase58());if(c===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return c};return e.map(i=>({programIdIndex:o(i.programId),accountKeyIndexes:i.keys.map(c=>o(c.pubkey)),data:i.data}))}}const Se=(r="publicKey")=>et(32,r),Ar=(r="string")=>{const e=fe([ge("length"),ge("lengthPadding"),et(Kn(ge(),-8),"chars")],r),t=e.decode.bind(e),n=e.encode.bind(e),o=e;return o.decode=(i,c)=>t(i,c).chars.toString(),o.encode=(i,c,u)=>{const h={chars:Ae.Buffer.from(i,"utf8")};return n(h,c,u)},o.alloc=i=>ge().span+ge().span+Ae.Buffer.from(i,"utf8").length,o},G0=(r="authorized")=>fe([Se("staker"),Se("withdrawer")],r),q0=(r="lockup")=>fe([Qt("unixTimestamp"),Qt("epoch"),Se("custodian")],r),Q0=(r="voteInit")=>fe([Se("nodePubkey"),Se("authorizedVoter"),Se("authorizedWithdrawer"),Oe("commission")],r),K0=(r="voteAuthorizeWithSeedArgs")=>fe([ge("voteAuthorizationType"),Se("currentAuthorityDerivedKeyOwnerPubkey"),Ar("currentAuthorityDerivedKeySeed"),Se("newAuthorized")],r);function Jt(r){let e=0,t=0;for(;;){let n=r.shift();if(e|=(n&127)<<t*7,t+=1,(n&128)===0)break}return e}function en(r,e){let t=e;for(;;){let n=t&127;if(t>>=7,t==0){r.push(n);break}else n|=128,r.push(n)}}function rt(r,e){if(!r)throw new Error(e||"Assertion failed")}class Qi{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const n=new Map,o=c=>{const u=c.toBase58();let h=n.get(u);return h===void 0&&(h={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(u,h)),h},i=o(t);i.isSigner=!0,i.isWritable=!0;for(const c of e){o(c.programId).isInvoked=!0;for(const u of c.keys){const h=o(u.pubkey);h.isSigner||(h.isSigner=u.isSigner),h.isWritable||(h.isWritable=u.isWritable)}}return new Qi(t,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];rt(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,h])=>h.isSigner&&h.isWritable),n=e.filter(([,h])=>h.isSigner&&!h.isWritable),o=e.filter(([,h])=>!h.isSigner&&h.isWritable),i=e.filter(([,h])=>!h.isSigner&&!h.isWritable),c={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{rt(t.length>0,"Expected at least one writable signer key");const[h]=t[0];rt(h===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...t.map(([h])=>new le(h)),...n.map(([h])=>new le(h)),...o.map(([h])=>new le(h)),...i.map(([h])=>new le(h))];return[c,u]}extractTableLookup(e){const[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[o,i]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(t.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:o},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(e,t){const n=new Array,o=new Array;for(const[i,c]of this.keyMetaMap.entries())if(t(c)){const u=new le(i),h=e.findIndex(y=>y.equals(u));h>=0&&(rt(h<256,"Max lookup table index exceeded"),n.push(h),o.push(u),this.keyMetaMap.delete(i))}return[n,o]}}class Rn{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new le(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Mt.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new qi(this.staticAccountKeys)}static compile(e){const t=Qi.compile(e.instructions,e.payerKey),[n,o]=t.getMessageComponents(),c=new qi(o).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:Mt.encode(u.data)}));return new Rn({header:n,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:c})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return n<i}else{const n=t-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];en(t,e);const n=this.instructions.map(x=>{const{accounts:B,programIdIndex:E}=x,C=Array.from(Mt.decode(x.data));let k=[];en(k,B.length);let R=[];return en(R,C.length),{programIdIndex:E,keyIndicesCount:Ae.Buffer.from(k),keyIndices:B,dataLength:Ae.Buffer.from(R),data:C}});let o=[];en(o,n.length);let i=Ae.Buffer.alloc(vr);Ae.Buffer.from(o).copy(i);let c=o.length;n.forEach(x=>{c+=fe([Oe("programIdIndex"),et(x.keyIndicesCount.length,"keyIndicesCount"),Dt(Oe("keyIndex"),x.keyIndices.length,"keyIndices"),et(x.dataLength.length,"dataLength"),Dt(Oe("userdatum"),x.data.length,"data")]).encode(x,i,c)}),i=i.slice(0,c);const u=fe([et(1,"numRequiredSignatures"),et(1,"numReadonlySignedAccounts"),et(1,"numReadonlyUnsignedAccounts"),et(t.length,"keyCount"),Dt(Se("key"),e,"keys"),Se("recentBlockhash")]),h={numRequiredSignatures:Ae.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ae.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ae.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ae.Buffer.from(t),keys:this.accountKeys.map(x=>Zr(x.toBytes())),recentBlockhash:Mt.decode(this.recentBlockhash)};let y=Ae.Buffer.alloc(2048);const m=u.encode(h,y);return i.copy(y,m),y.slice(0,m+i.length)}static from(e){let t=[...e];const n=t.shift();if(n!==(n&Mu))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=t.shift(),i=t.shift(),c=Jt(t);let u=[];for(let B=0;B<c;B++){const E=t.slice(0,vn);t=t.slice(vn),u.push(new le(Ae.Buffer.from(E)))}const h=t.slice(0,vn);t=t.slice(vn);const y=Jt(t);let m=[];for(let B=0;B<y;B++){const E=t.shift(),C=Jt(t),k=t.slice(0,C);t=t.slice(C);const R=Jt(t),D=t.slice(0,R),F=Mt.encode(Ae.Buffer.from(D));t=t.slice(R),m.push({programIdIndex:E,accounts:k,data:F})}const x={header:{numRequiredSignatures:n,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:i},recentBlockhash:Mt.encode(Ae.Buffer.from(h)),accountKeys:u,instructions:m};return new Rn(x)}}class Ki{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new qi(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const o=e-n,i=this.addressTableLookups.reduce((c,u)=>c+u.writableIndexes.length,0);return o<i}else if(e>=this.header.numRequiredSignatures){const o=e-t,c=n-t-this.header.numReadonlyUnsignedAccounts;return o<c}else{const o=t-this.header.numReadonlySignedAccounts;return e<o}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const n of this.addressTableLookups){const o=e.find(i=>i.key.equals(n.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const i of n.writableIndexes)if(i<o.state.addresses.length)t.writable.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`);for(const i of n.readonlyIndexes)if(i<o.state.addresses.length)t.readonly.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`)}return t}static compile(e){const t=Qi.compile(e.instructions,e.payerKey),n=new Array,o={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const m of i){const x=t.extractTableLookup(m);if(x!==void 0){const[B,{writable:E,readonly:C}]=x;n.push(B),o.writable.push(...E),o.readonly.push(...C)}}const[c,u]=t.getMessageComponents(),y=new qi(u,o).compileInstructions(e.instructions);return new Ki({header:c,staticAccountKeys:u,recentBlockhash:e.recentBlockhash,compiledInstructions:y,addressTableLookups:n})}serialize(){const e=Array();en(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),n=Array();en(n,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),i=Array();en(i,this.addressTableLookups.length);const c=fe([Oe("prefix"),fe([Oe("numRequiredSignatures"),Oe("numReadonlySignedAccounts"),Oe("numReadonlyUnsignedAccounts")],"header"),et(e.length,"staticAccountKeysLength"),Dt(Se(),this.staticAccountKeys.length,"staticAccountKeys"),Se("recentBlockhash"),et(n.length,"instructionsLength"),et(t.length,"serializedInstructions"),et(i.length,"addressTableLookupsLength"),et(o.length,"serializedAddressTableLookups")]),u=new Uint8Array(vr),h=1<<7,y=c.encode({prefix:h,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(m=>m.toBytes()),recentBlockhash:Mt.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:o},u);return u.slice(0,y)}serializeInstructions(){let e=0;const t=new Uint8Array(vr);for(const n of this.compiledInstructions){const o=Array();en(o,n.accountKeyIndexes.length);const i=Array();en(i,n.data.length),e+=fe([Oe("programIdIndex"),et(o.length,"encodedAccountKeyIndexesLength"),Dt(Oe(),n.accountKeyIndexes.length,"accountKeyIndexes"),et(i.length,"encodedDataLength"),et(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(vr);for(const n of this.addressTableLookups){const o=Array();en(o,n.writableIndexes.length);const i=Array();en(i,n.readonlyIndexes.length),e+=fe([Se("accountKey"),et(o.length,"encodedWritableIndexesLength"),Dt(Oe(),n.writableIndexes.length,"writableIndexes"),et(i.length,"encodedReadonlyIndexesLength"),Dt(Oe(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const n=t.shift(),o=n&Mu;rt(n!==o,"Expected versioned message but received legacy message");const i=o;rt(i===0,`Expected versioned message with version 0 but found version ${i}`);const c={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},u=[],h=Jt(t);for(let C=0;C<h;C++)u.push(new le(t.splice(0,vn)));const y=Mt.encode(t.splice(0,vn)),m=Jt(t),x=[];for(let C=0;C<m;C++){const k=t.shift(),R=Jt(t),D=t.splice(0,R),F=Jt(t),O=new Uint8Array(t.splice(0,F));x.push({programIdIndex:k,accountKeyIndexes:D,data:O})}const B=Jt(t),E=[];for(let C=0;C<B;C++){const k=new le(t.splice(0,vn)),R=Jt(t),D=t.splice(0,R),F=Jt(t),O=t.splice(0,F);E.push({accountKey:k,writableIndexes:D,readonlyIndexes:O})}return new Ki({header:c,staticAccountKeys:u,recentBlockhash:y,compiledInstructions:x,addressTableLookups:E})}}let Ln;(function(r){r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT"})(Ln||(Ln={}));const Y0=Ae.Buffer.alloc(Us).fill(0);class Cu{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Ae.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class Un{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{const{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Cu(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let k=0;k<t.length;k++)if(t[k].programId===void 0)throw new Error(`Transaction instruction index ${k} has undefined program id`);const o=[],i=[];t.forEach(k=>{k.keys.forEach(D=>{i.push({...D})});const R=k.programId.toString();o.includes(R)||o.push(R)}),o.forEach(k=>{i.push({pubkey:new le(k),isSigner:!1,isWritable:!1})});const c=[];i.forEach(k=>{const R=k.pubkey.toString(),D=c.findIndex(F=>F.pubkey.toString()===R);D>-1?(c[D].isWritable=c[D].isWritable||k.isWritable,c[D].isSigner=c[D].isSigner||k.isSigner):c.push(k)}),c.sort(function(k,R){return k.isSigner!==R.isSigner?k.isSigner?-1:1:k.isWritable!==R.isWritable?k.isWritable?-1:1:k.pubkey.toBase58().localeCompare(R.pubkey.toBase58())});const u=c.findIndex(k=>k.pubkey.equals(n));if(u>-1){const[k]=c.splice(u,1);k.isSigner=!0,k.isWritable=!0,c.unshift(k)}else c.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const k of this.signatures){const R=c.findIndex(D=>D.pubkey.equals(k.publicKey));if(R>-1)c[R].isSigner||(c[R].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${k.publicKey.toString()}`)}let h=0,y=0,m=0;const x=[],B=[];c.forEach(({pubkey:k,isSigner:R,isWritable:D})=>{R?(x.push(k.toString()),h+=1,D||(y+=1)):(B.push(k.toString()),D||(m+=1))});const E=x.concat(B),C=t.map(k=>{const{data:R,programId:D}=k;return{programIdIndex:E.indexOf(D.toString()),accounts:k.keys.map(F=>E.indexOf(F.pubkey.toString())),data:Mt.encode(R)}});return C.forEach(k=>{rt(k.programIdIndex>=0),k.accounts.forEach(R=>rt(R>=0))}),new Rn({header:{numRequiredSignatures:h,numReadonlySignedAccounts:y,numReadonlyUnsignedAccounts:m},accountKeys:E,recentBlockhash:e,instructions:C})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((o,i)=>t[i].equals(o.publicKey))||(this.signatures=t.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(n=>{const o=n.toString();return t.has(o)?!1:(t.add(o),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,n=[];for(const i of e){const c=i.publicKey.toString();t.has(c)||(t.add(c),n.push(i))}this.signatures=n.map(i=>({signature:null,publicKey:i.publicKey}));const o=this._compile();this._partialSign(o,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,n=[];for(const i of e){const c=i.publicKey.toString();t.has(c)||(t.add(c),n.push(i))}const o=this._compile();this._partialSign(o,...n)}_partialSign(e,...t){const n=e.serialize();t.forEach(o=>{const i=F0(n,o.secretKey);this._addSignature(o.publicKey,Zr(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){rt(t.length===64);const n=this.signatures.findIndex(o=>e.equals(o.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Ae.Buffer.from(t)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,t){for(const{signature:n,publicKey:o}of this.signatures)if(n===null){if(t)return!1}else if(!z0(n,e,o.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(n&&!this._verifySignatures(o,t))throw new Error("Signature verification failed");return this._serialize(o)}_serialize(e){const{signatures:t}=this,n=[];en(n,t.length);const o=n.length+t.length*64+e.length,i=Ae.Buffer.alloc(o);return rt(t.length<256),Ae.Buffer.from(n).copy(i,0),t.forEach(({signature:c},u)=>{c!==null&&(rt(c.length===64,"signature has invalid length"),Ae.Buffer.from(c).copy(i,n.length+u*64))}),e.copy(i,n.length+t.length*64),rt(i.length<=vr,`Transaction too large: ${i.length} > ${vr}`),i}get keys(){return rt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return rt(this.instructions.length===1),this.instructions[0].programId}get data(){return rt(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const n=Jt(t);let o=[];for(let i=0;i<n;i++){const c=t.slice(0,Us);t=t.slice(Us),o.push(Mt.encode(Ae.Buffer.from(c)))}return Un.populate(Rn.from(t),o)}static populate(e,t=[]){const n=new Un;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((o,i)=>{const c={signature:o==Mt.encode(Y0)?null:Mt.decode(o),publicKey:e.accountKeys[i]};n.signatures.push(c)}),e.instructions.forEach(o=>{const i=o.accounts.map(c=>{const u=e.accountKeys[c];return{pubkey:u,isSigner:n.signatures.some(h=>h.publicKey.toString()===u.toString())||e.isAccountSigner(c),isWritable:e.isAccountWritable(c)}});n.instructions.push(new Cu({keys:i,programId:e.accountKeys[o.programIdIndex],data:Mt.decode(o.data)}))}),n._message=e,n._json=n.toJSON(),n}}new le("SysvarC1ock11111111111111111111111111111111"),new le("SysvarEpochSchedu1e111111111111111111111111"),new le("Sysvar1nstructions1111111111111111111111111"),new le("SysvarRecentB1ockHashes11111111111111111111"),new le("SysvarRent111111111111111111111111111111111"),new le("SysvarRewards111111111111111111111111111111"),new le("SysvarS1otHashes111111111111111111111111111"),new le("SysvarS1otHistory11111111111111111111111111"),new le("SysvarStakeHistory1111111111111111111111111");function Yi(r){return new Promise(e=>setTimeout(e,r))}const V0=Tt("lamportsPerSignature"),ku=fe([ge("version"),ge("state"),Se("authorizedPubkey"),Se("nonce"),fe([V0],"feeCalculator")]);ku.span;class Ps{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=ku.decode(Zr(e),0);return new Ps({authorizedPubkey:new le(t.authorizedPubkey),nonce:new le(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const Z0=r=>{const e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}},Er=(r=>e=>{const t=et(r,e),{encode:n,decode:o}=Z0(t),i=t;return i.decode=(c,u)=>{const h=o(c,u);return Ed(Ae.Buffer.from(h))},i.encode=(c,u,h)=>{const y=Id(c,r);return n(y,u,h)},i})(8);Object.freeze({Create:{index:0,layout:fe([ge("instruction"),Qt("lamports"),Qt("space"),Se("programId")])},Assign:{index:1,layout:fe([ge("instruction"),Se("programId")])},Transfer:{index:2,layout:fe([ge("instruction"),Er("lamports")])},CreateWithSeed:{index:3,layout:fe([ge("instruction"),Se("base"),Ar("seed"),Qt("lamports"),Qt("space"),Se("programId")])},AdvanceNonceAccount:{index:4,layout:fe([ge("instruction")])},WithdrawNonceAccount:{index:5,layout:fe([ge("instruction"),Qt("lamports")])},InitializeNonceAccount:{index:6,layout:fe([ge("instruction"),Se("authorized")])},AuthorizeNonceAccount:{index:7,layout:fe([ge("instruction"),Se("authorized")])},Allocate:{index:8,layout:fe([ge("instruction"),Qt("space")])},AllocateWithSeed:{index:9,layout:fe([ge("instruction"),Se("base"),Ar("seed"),Qt("space"),Se("programId")])},AssignWithSeed:{index:10,layout:fe([ge("instruction"),Se("base"),Ar("seed"),Se("programId")])},TransferWithSeed:{index:11,layout:fe([ge("instruction"),Er("lamports"),Ar("seed"),Se("programId")])},UpgradeNonceAccount:{index:12,layout:fe([ge("instruction")])}}),new le("11111111111111111111111111111111"),new le("BPFLoader2111111111111111111111111111111111");var $0=Object.prototype.toString,X0=Object.keys||function(r){var e=[];for(var t in r)e.push(t);return e};function $r(r,e){var t,n,o,i,c,u,h;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return $r(r.toJSON(),e);if(h=$0.call(r),h==="[object Array]"){for(o="[",n=r.length-1,t=0;t<n;t++)o+=$r(r[t],!0)+",";return n>-1&&(o+=$r(r[t],!0)),o+"]"}else if(h==="[object Object]"){for(i=X0(r).sort(),n=i.length,o="",t=0;t<n;)c=i[t],u=$r(r[c],!1),u!==void 0&&(o&&(o+=","),o+=JSON.stringify(c)+":"+u),t++;return"{"+o+"}"}else return JSON.stringify(r);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}var J0=function(r){var e=$r(r,!1);if(e!==void 0)return""+e},ep=J0;const Xr=32;function Ds(r){let e=0;for(;r>1;)r/=2,e++;return e}function tp(r){return r===0?1:(r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r|=r>>32,r+1)}class np{constructor(e,t,n,o,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=n,this.firstNormalEpoch=o,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=Ds(tp(e+Xr+1))-Ds(Xr)-1,n=this.getSlotsInEpoch(t),o=e-(n-Xr);return[t,o]}else{const t=e-this.firstNormalSlot,n=Math.floor(t/this.slotsPerEpoch),o=this.firstNormalEpoch+n,i=t%this.slotsPerEpoch;return[o,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Xr:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Ds(Xr)):this.slotsPerEpoch}}class Nu extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}class de extends Error{constructor({code:e,message:t,data:n},o){super(o!=null?`${o}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}var rp=globalThis.fetch;const ip=160/64,op=1e3/ip;function sp(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${r.index}`);return t}const Ou=56;class Ru{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=sp(ap,e),n=e.length-Ou;rt(n>=0,"lookup table is invalid"),rt(n%32===0,"lookup table is invalid");const o=n/32,{addresses:i}=fe([Dt(Se(),o,"addresses")]).decode(e.slice(Ou));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new le(t.authority[0]):void 0,addresses:i.map(c=>new le(c))}}}const ap={index:1,layout:fe([ge("typeIndex"),Er("deactivationSlot"),Tt("lastExtendedSlot"),Oe("lastExtendedStartIndex"),Oe(),Dt(Se(),Kn(Oe(),-1),"authority")])},cp=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function up(r){const e=r.match(cp);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${r}\``);const[t,n,o,i]=e,c=r.startsWith("https:")?"wss:":"ws:",u=o==null?null:parseInt(o.slice(1),10),h=u==null?"":`:${u+1}`;return`${c}//${n}${h}${i}`}var Fs;const it=Gr(is(le),ne(),r=>new le(r)),Lu=os([ne(),Ze("base64")]),zs=Gr(is(Ae.Buffer),Lu,r=>Ae.Buffer.from(r[0],"base64")),lp=30*1e3;function fp(r){if(/^https?:/.test(r)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return r}function nt(r){let e,t;if(typeof r=="string")e=r;else if(r){const{commitment:n,...o}=r;e=n,t=o}return{commitment:e,config:t}}function Uu(r){return zt([X({jsonrpc:Ze("2.0"),id:ne(),result:r}),X({jsonrpc:Ze("2.0"),id:ne(),error:X({code:jr(),message:ne(),data:Ee(Od())})})])}const hp=Uu(jr());function Ce(r){return Gr(Uu(r),hp,e=>"error"in e?e:{...e,result:re(e.result,r)})}function It(r){return Ce(X({context:X({slot:G()}),value:r}))}function Vi(r){return X({context:X({slot:G()}),value:r})}function Hs(r,e){return r===0?new Ki({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new le(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Mt.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Rn(e)}const dp=X({foundation:G(),foundationTerm:G(),initial:G(),taper:G(),terminal:G()}),pp=Ce(ue(pe(X({epoch:G(),effectiveSlot:G(),amount:G(),postBalance:G()})))),gp=X({epoch:G(),slotIndex:G(),slotsInEpoch:G(),absoluteSlot:G(),blockHeight:Ee(G()),transactionCount:Ee(G())}),yp=X({slotsPerEpoch:G(),leaderScheduleSlotOffset:G(),warmup:bn(),firstNormalEpoch:G(),firstNormalSlot:G()}),wp=Hc(ne(),ue(G())),er=pe(zt([X({}),ne()])),mp=X({err:er}),bp=Ze("receivedSignature"),vp=X({"solana-core":ne(),"feature-set":Ee(G())}),Pu=It(X({err:pe(zt([X({}),ne()])),logs:pe(ue(ne())),accounts:Ee(pe(ue(pe(X({executable:bn(),owner:ne(),lamports:G(),data:ue(ne()),rentEpoch:Ee(G())}))))),unitsConsumed:Ee(G()),returnData:Ee(pe(X({programId:ne(),data:os([ne(),Ze("base64")])})))})),Ap=It(X({byIdentity:Hc(ne(),ue(G())),range:X({firstSlot:G(),lastSlot:G()})}));function Ep(r,e,t,n,o){const i=t||rp;let c;return n&&(c=async(h,y)=>{const m=await new Promise((x,B)=>{try{n(h,y,(E,C)=>x([E,C]))}catch(E){B(E)}});return await i(...m)}),new v0(async(h,y)=>{const x={method:"POST",body:h,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},e||{},wg)};try{let B=5,E,C=500;for(;c?E=await c(r,x):E=await i(r,x),!(E.status!==429||o===!0||(B-=1,B===0));)console.log(`Server responded with ${E.status} ${E.statusText}.  Retrying after ${C}ms delay...`),await Yi(C),C*=2;const k=await E.text();E.ok?y(null,k):y(new Error(`${E.status} ${E.statusText}: ${k}`))}catch(B){B instanceof Error&&y(B)}finally{}},{})}function xp(r){return(e,t)=>new Promise((n,o)=>{r.request(e,t,(i,c)=>{if(i){o(i);return}n(c)})})}function Sp(r){return e=>new Promise((t,n)=>{e.length===0&&t([]);const o=e.map(i=>r.request(i.methodName,i.args));r.request(o,(i,c)=>{if(i){n(i);return}t(c)})})}const Ip=Ce(dp),_p=Ce(gp),Mp=Ce(yp),Bp=Ce(wp),Tp=Ce(G()),Cp=It(X({total:G(),circulating:G(),nonCirculating:G(),nonCirculatingAccounts:ue(it)})),Ws=X({amount:ne(),uiAmount:pe(G()),decimals:G(),uiAmountString:Ee(ne())}),kp=It(ue(X({address:it,amount:ne(),uiAmount:pe(G()),decimals:G(),uiAmountString:Ee(ne())}))),Np=It(ue(X({pubkey:it,account:X({executable:bn(),owner:it,lamports:G(),data:zs,rentEpoch:G()})}))),js=X({program:ne(),parsed:jr(),space:G()}),Op=It(ue(X({pubkey:it,account:X({executable:bn(),owner:it,lamports:G(),data:js,rentEpoch:G()})}))),Rp=It(ue(X({lamports:G(),address:it}))),Jr=X({executable:bn(),owner:it,lamports:G(),data:zs,rentEpoch:G()}),Lp=X({pubkey:it,account:Jr}),Up=Gr(zt([is(Ae.Buffer),js]),zt([Lu,js]),r=>Array.isArray(r)?re(r,zs):r),Du=X({executable:bn(),owner:it,lamports:G(),data:Up,rentEpoch:G()}),Pp=X({pubkey:it,account:Du}),Dp=X({state:zt([Ze("active"),Ze("inactive"),Ze("activating"),Ze("deactivating")]),active:G(),inactive:G()}),Fp=Ce(ue(X({signature:ne(),slot:G(),err:er,memo:pe(ne()),blockTime:Ee(pe(G()))}))),zp=Ce(ue(X({signature:ne(),slot:G(),err:er,memo:pe(ne()),blockTime:Ee(pe(G()))}))),Hp=X({subscription:G(),result:Vi(Jr)}),Wp=X({pubkey:it,account:Jr}),jp=X({subscription:G(),result:Vi(Wp)}),Gp=X({parent:G(),slot:G(),root:G()}),qp=X({subscription:G(),result:Gp}),Qp=zt([X({type:zt([Ze("firstShredReceived"),Ze("completed"),Ze("optimisticConfirmation"),Ze("root")]),slot:G(),timestamp:G()}),X({type:Ze("createdBank"),parent:G(),slot:G(),timestamp:G()}),X({type:Ze("frozen"),slot:G(),timestamp:G(),stats:X({numTransactionEntries:G(),numSuccessfulTransactions:G(),numFailedTransactions:G(),maxTransactionsPerEntry:G()})}),X({type:Ze("dead"),slot:G(),timestamp:G(),err:ne()})]),Kp=X({subscription:G(),result:Qp}),Yp=X({subscription:G(),result:Vi(zt([mp,bp]))}),Vp=X({subscription:G(),result:G()}),Zp=X({pubkey:ne(),gossip:pe(ne()),tpu:pe(ne()),rpc:pe(ne()),version:pe(ne())}),Fu=X({votePubkey:ne(),nodePubkey:ne(),activatedStake:G(),epochVoteAccount:bn(),epochCredits:ue(os([G(),G(),G()])),commission:G(),lastVote:G(),rootSlot:pe(G())}),$p=Ce(X({current:ue(Fu),delinquent:ue(Fu)})),Xp=zt([Ze("processed"),Ze("confirmed"),Ze("finalized")]),Jp=X({slot:G(),confirmations:pe(G()),err:er,confirmationStatus:Ee(Xp)}),eg=It(ue(pe(Jp))),tg=Ce(G()),zu=X({accountKey:it,writableIndexes:ue(G()),readonlyIndexes:ue(G())}),Gs=X({signatures:ue(ne()),message:X({accountKeys:ue(ne()),header:X({numRequiredSignatures:G(),numReadonlySignedAccounts:G(),numReadonlyUnsignedAccounts:G()}),instructions:ue(X({accounts:ue(G()),data:ne(),programIdIndex:G()})),recentBlockhash:ne(),addressTableLookups:Ee(ue(zu))})}),Hu=X({parsed:jr(),program:ne(),programId:it}),Wu=X({accounts:ue(it),data:ne(),programId:it}),ng=zt([Wu,Hu]),rg=zt([X({parsed:jr(),program:ne(),programId:ne()}),X({accounts:ue(ne()),data:ne(),programId:ne()})]),ju=Gr(ng,rg,r=>"accounts"in r?re(r,Wu):re(r,Hu)),ig=X({signatures:ue(ne()),message:X({accountKeys:ue(X({pubkey:it,signer:bn(),writable:bn(),source:Ee(zt([Ze("transaction"),Ze("lookupTable")]))})),instructions:ue(ju),recentBlockhash:ne(),addressTableLookups:Ee(pe(ue(zu)))})}),Zi=X({accountIndex:G(),mint:ne(),owner:Ee(ne()),uiTokenAmount:Ws}),Gu=X({writable:ue(it),readonly:ue(it)}),qs=X({err:er,fee:G(),innerInstructions:Ee(pe(ue(X({index:G(),instructions:ue(X({accounts:ue(G()),data:ne(),programIdIndex:G()}))})))),preBalances:ue(G()),postBalances:ue(G()),logMessages:Ee(pe(ue(ne()))),preTokenBalances:Ee(pe(ue(Zi))),postTokenBalances:Ee(pe(ue(Zi))),loadedAddresses:Ee(Gu),computeUnitsConsumed:Ee(G())}),og=X({err:er,fee:G(),innerInstructions:Ee(pe(ue(X({index:G(),instructions:ue(ju)})))),preBalances:ue(G()),postBalances:ue(G()),logMessages:Ee(pe(ue(ne()))),preTokenBalances:Ee(pe(ue(Zi))),postTokenBalances:Ee(pe(ue(Zi))),loadedAddresses:Ee(Gu),computeUnitsConsumed:Ee(G())}),Qs=zt([Ze(0),Ze("legacy")]),sg=Ce(pe(X({blockhash:ne(),previousBlockhash:ne(),parentSlot:G(),transactions:ue(X({transaction:Gs,meta:pe(qs),version:Ee(Qs)})),rewards:Ee(ue(X({pubkey:ne(),lamports:G(),postBalance:pe(G()),rewardType:pe(ne())}))),blockTime:pe(G()),blockHeight:pe(G())}))),ag=Ce(pe(X({blockhash:ne(),previousBlockhash:ne(),parentSlot:G(),transactions:ue(X({transaction:Gs,meta:pe(qs)})),rewards:Ee(ue(X({pubkey:ne(),lamports:G(),postBalance:pe(G()),rewardType:pe(ne())}))),blockTime:pe(G())}))),qu=Ce(pe(X({blockhash:ne(),previousBlockhash:ne(),parentSlot:G(),signatures:ue(ne()),blockTime:pe(G())}))),Ks=Ce(pe(X({slot:G(),meta:qs,blockTime:Ee(pe(G())),transaction:Gs,version:Ee(Qs)}))),$i=Ce(pe(X({slot:G(),transaction:ig,meta:pe(og),blockTime:Ee(pe(G())),version:Ee(Qs)}))),cg=It(X({blockhash:ne(),feeCalculator:X({lamportsPerSignature:G()})})),ug=It(X({blockhash:ne(),lastValidBlockHeight:G()})),lg=X({slot:G(),numTransactions:G(),numSlots:G(),samplePeriodSecs:G()}),fg=Ce(ue(lg)),hg=It(pe(X({feeCalculator:X({lamportsPerSignature:G()})}))),dg=Ce(ne()),pg=Ce(ne()),gg=X({err:er,logs:ue(ne()),signature:ne()}),yg=X({result:Vi(gg),subscription:G()}),wg={"solana-client":`js/${(Fs="0.0.0-development")!==null&&Fs!==void 0?Fs:"UNKNOWN"}`};class mg{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let n,o,i,c,u;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,o=t.httpHeaders,i=t.fetch,c=t.fetchMiddleware,u=t.disableRetryOnRateLimit),this._rpcEndpoint=fp(e),this._rpcWsEndpoint=n||up(e),this._rpcClient=Ep(e,o,i,c,u),this._rpcRequest=xp(this._rpcClient),this._rpcBatchRequest=Sp(this._rpcClient),this._rpcWebSocket=new tu(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:n,config:o}=nt(t),i=this._buildArgs([e.toBase58()],n,void 0,o),c=await this._rpcRequest("getBalance",i),u=re(c,It(G()));if("error"in u)throw new de(u.error,`failed to get balance for ${e.toBase58()}`);return u.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),n=re(t,Ce(pe(G())));if("error"in n)throw new de(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=re(e,Ce(G()));if("error"in t)throw new de(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=re(e,Tp);if("error"in t)throw new de(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[t]),o=re(n,Cp);if("error"in o)throw new de(o.error,"failed to get supply");return o.result}async getTokenSupply(e,t){const n=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenSupply",n),i=re(o,It(Ws));if("error"in i)throw new de(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const n=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenAccountBalance",n),i=re(o,It(Ws));if("error"in i)throw new de(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,n){const{commitment:o,config:i}=nt(n);let c=[e.toBase58()];"mint"in t?c.push({mint:t.mint.toBase58()}):c.push({programId:t.programId.toBase58()});const u=this._buildArgs(c,o,"base64",i),h=await this._rpcRequest("getTokenAccountsByOwner",u),y=re(h,Np);if("error"in y)throw new de(y.error,`failed to get token accounts owned by account ${e.toBase58()}`);return y.result}async getParsedTokenAccountsByOwner(e,t,n){let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const i=this._buildArgs(o,n,"jsonParsed"),c=await this._rpcRequest("getTokenAccountsByOwner",i),u=re(c,Op);if("error"in u)throw new de(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},n=t.filter||t.commitment?[t]:[],o=await this._rpcRequest("getLargestAccounts",n),i=re(o,Rp);if("error"in i)throw new de(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const n=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenLargestAccounts",n),i=re(o,kp);if("error"in i)throw new de(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:n,config:o}=nt(t),i=this._buildArgs([e.toBase58()],n,"base64",o),c=await this._rpcRequest("getAccountInfo",i),u=re(c,It(pe(Jr)));if("error"in u)throw new de(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getParsedAccountInfo(e,t){const{commitment:n,config:o}=nt(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",o),c=await this._rpcRequest("getAccountInfo",i),u=re(c,It(pe(Du)));if("error"in u)throw new de(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleAccountsInfoAndContext(e,t){const{commitment:n,config:o}=nt(t),i=e.map(y=>y.toBase58()),c=this._buildArgs([i],n,"base64",o),u=await this._rpcRequest("getMultipleAccounts",c),h=re(u,It(ue(pe(Jr))));if("error"in h)throw new de(h.error,`failed to get info for accounts ${i}`);return h.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,n){const{commitment:o,config:i}=nt(t),c=this._buildArgs([e.toBase58()],o,void 0,{...i,epoch:n!=null?n:i==null?void 0:i.epoch}),u=await this._rpcRequest("getStakeActivation",c),h=re(u,Ce(Dp));if("error"in h)throw new de(h.error,`failed to get Stake Activation ${e.toBase58()}`);return h.result}async getProgramAccounts(e,t){const{commitment:n,config:o}=nt(t),{encoding:i,...c}=o||{},u=this._buildArgs([e.toBase58()],n,i||"base64",c),h=await this._rpcRequest("getProgramAccounts",u),y=re(h,Ce(ue(Lp)));if("error"in y)throw new de(y.error,`failed to get accounts owned by program ${e.toBase58()}`);return y.result}async getParsedProgramAccounts(e,t){const{commitment:n,config:o}=nt(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",o),c=await this._rpcRequest("getProgramAccounts",i),u=re(c,Ce(ue(Pp)));if("error"in u)throw new de(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async confirmTransaction(e,t){let n;typeof e=="string"?n=e:n=e.signature;let o;try{o=Mt.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}rt(o.length===64,"signature has invalid length");const i=t||this.commitment;let c,u,h=!1;const y=new Promise((B,E)=>{try{u=this.onSignature(n,(C,k)=>{u=void 0;const R={context:k,value:C};h=!0,B({__type:Ln.PROCESSED,response:R})},i)}catch(C){E(C)}}),m=new Promise(B=>{if(typeof e=="string"){let E=this._confirmTransactionInitialTimeout||6e4;switch(i){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{E=this._confirmTransactionInitialTimeout||30*1e3;break}}c=setTimeout(()=>B({__type:Ln.TIMED_OUT,timeoutMs:E}),E)}else{let E=e;const C=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let k=await C();if(!h){for(;k<=E.lastValidBlockHeight;)if(await Yi(1e3),h||(k=await C(),h))return;B({__type:Ln.BLOCKHEIGHT_EXCEEDED})}})()}});let x;try{const B=await Promise.race([y,m]);switch(B.__type){case Ln.BLOCKHEIGHT_EXCEEDED:throw new Bu(n);case Ln.PROCESSED:x=B.response;break;case Ln.TIMED_OUT:throw new Tu(n,B.timeoutMs/1e3)}}finally{clearTimeout(c),u&&this.removeSignatureListener(u)}return x}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=re(e,Ce(ue(Zp)));if("error"in t)throw new de(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",t),o=re(n,$p);if("error"in o)throw new de(o.error,"failed to get vote accounts");return o.result}async getSlot(e){const{commitment:t,config:n}=nt(e),o=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getSlot",o),c=re(i,Ce(G()));if("error"in c)throw new de(c.error,"failed to get slot");return c.result}async getSlotLeader(e){const{commitment:t,config:n}=nt(e),o=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getSlotLeader",o),c=re(i,Ce(ne()));if("error"in c)throw new de(c.error,"failed to get slot leader");return c.result}async getSlotLeaders(e,t){const n=[e,t],o=await this._rpcRequest("getSlotLeaders",n),i=re(o,Ce(ue(it)));if("error"in i)throw new de(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:n,value:o}=await this.getSignatureStatuses([e],t);rt(o.length===1);const i=o[0];return{context:n,value:i}}async getSignatureStatuses(e,t){const n=[e];t&&n.push(t);const o=await this._rpcRequest("getSignatureStatuses",n),i=re(o,eg);if("error"in i)throw new de(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:n}=nt(e),o=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getTransactionCount",o),c=re(i,Ce(G()));if("error"in c)throw new de(c.error,"failed to get transaction count");return c.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",t),o=re(n,Ip);if("error"in o)throw new de(o.error,"failed to get inflation");return o.result}async getInflationReward(e,t,n){const{commitment:o,config:i}=nt(n),c=this._buildArgs([e.map(y=>y.toBase58())],o,void 0,{...i,epoch:t!=null?t:i==null?void 0:i.epoch}),u=await this._rpcRequest("getInflationReward",c),h=re(u,pp);if("error"in h)throw new de(h.error,"failed to get inflation reward");return h.result}async getEpochInfo(e){const{commitment:t,config:n}=nt(e),o=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getEpochInfo",o),c=re(i,_p);if("error"in c)throw new de(c.error,"failed to get epoch info");return c.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=re(e,Mp);if("error"in t)throw new de(t.error,"failed to get epoch schedule");const n=t.result;return new np(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=re(e,Bp);if("error"in t)throw new de(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const n=this._buildArgs([e],t),o=await this._rpcRequest("getMinimumBalanceForRentExemption",n),i=re(o,tg);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",t),o=re(n,cg);if("error"in o)throw new de(o.error,"failed to get recent blockhash");return o.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=re(t,fg);if("error"in n)throw new de(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,t){const n=this._buildArgs([e],t),o=await this._rpcRequest("getFeeCalculatorForBlockhash",n),i=re(o,hg);if("error"in i)throw new de(i.error,"failed to get fee calculator");const{context:c,value:u}=i.result;return{context:c,value:u!==null?u.feeCalculator:null}}async getFeeForMessage(e,t){const n=e.serialize().toString("base64"),o=this._buildArgs([n],t),i=await this._rpcRequest("getFeeForMessage",o),c=re(i,It(pe(G())));if("error"in c)throw new de(c.error,"failed to get slot");if(c.result===null)throw new Error("invalid blockhash");return c.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:n}=nt(e),o=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getLatestBlockhash",o),c=re(i,ug);if("error"in c)throw new de(c.error,"failed to get latest blockhash");return c.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=re(e,Ce(vp));if("error"in t)throw new de(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=re(e,Ce(ne()));if("error"in t)throw new de(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:n,config:o}=nt(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,o),c=await this._rpcRequest("getBlock",i),u=re(c,sg);if("error"in u)throw new de(u.error,"failed to get confirmed block");const h=u.result;return h&&{...h,transactions:h.transactions.map(({transaction:y,meta:m,version:x})=>({meta:m,transaction:{...y,message:Hs(x,y.message)},version:x}))}}async getBlockHeight(e){const{commitment:t,config:n}=nt(e),o=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getBlockHeight",o),c=re(i,Ce(G()));if("error"in c)throw new de(c.error,"failed to get block height information");return c.result}async getBlockProduction(e){let t,n;if(typeof e=="string")n=e;else if(e){const{commitment:u,...h}=e;n=u,t=h}const o=this._buildArgs([],n,"base64",t),i=await this._rpcRequest("getBlockProduction",o),c=re(i,Ap);if("error"in c)throw new de(c.error,"failed to get block production information");return c.result}async getTransaction(e,t){const{commitment:n,config:o}=nt(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,o),c=await this._rpcRequest("getTransaction",i),u=re(c,Ks);if("error"in u)throw new de(u.error,"failed to get transaction");const h=u.result;return h&&{...h,transaction:{...h.transaction,message:Hs(h.version,h.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:n,config:o}=nt(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",o),c=await this._rpcRequest("getTransaction",i),u=re(c,$i);if("error"in u)throw new de(u.error,"failed to get transaction");return u.result}async getParsedTransactions(e,t){const{commitment:n,config:o}=nt(t),i=e.map(h=>{const y=this._buildArgsAtLeastConfirmed([h],n,"jsonParsed",o);return{methodName:"getTransaction",args:y}});return(await this._rpcBatchRequest(i)).map(h=>{const y=re(h,$i);if("error"in y)throw new de(y.error,"failed to get transactions");return y.result})}async getTransactions(e,t){const{commitment:n,config:o}=nt(t),i=e.map(h=>{const y=this._buildArgsAtLeastConfirmed([h],n,void 0,o);return{methodName:"getTransaction",args:y}});return(await this._rpcBatchRequest(i)).map(h=>{const y=re(h,Ks);if("error"in y)throw new de(y.error,"failed to get transactions");const m=y.result;return m&&{...m,transaction:{...m.transaction,message:Hs(m.version,m.transaction.message)}}})}async getConfirmedBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),o=await this._rpcRequest("getConfirmedBlock",n),i=re(o,ag);if("error"in i)throw new de(i.error,"failed to get confirmed block");const c=i.result;if(!c)throw new Error("Confirmed block "+e+" not found");const u={...c,transactions:c.transactions.map(({transaction:h,meta:y})=>{const m=new Rn(h.message);return{meta:y,transaction:{...h,message:m}}})};return{...u,transactions:u.transactions.map(({transaction:h,meta:y})=>({meta:y,transaction:Un.populate(h.message,h.signatures)}))}}async getBlocks(e,t,n){const o=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],n),i=await this._rpcRequest("getBlocks",o),c=re(i,Ce(ue(G())));if("error"in c)throw new de(c.error,"failed to get blocks");return c.result}async getBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",n),i=re(o,qu);if("error"in i)throw new de(i.error,"failed to get block");const c=i.result;if(!c)throw new Error("Block "+e+" not found");return c}async getConfirmedBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getConfirmedBlock",n),i=re(o,qu);if("error"in i)throw new de(i.error,"failed to get confirmed block");const c=i.result;if(!c)throw new Error("Confirmed block "+e+" not found");return c}async getConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),o=await this._rpcRequest("getConfirmedTransaction",n),i=re(o,Ks);if("error"in i)throw new de(i.error,"failed to get transaction");const c=i.result;if(!c)return c;const u=new Rn(c.transaction.message),h=c.transaction.signatures;return{...c,transaction:Un.populate(u,h)}}async getParsedConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),o=await this._rpcRequest("getConfirmedTransaction",n),i=re(o,$i);if("error"in i)throw new de(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const n=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:u}});return(await this._rpcBatchRequest(n)).map(c=>{const u=re(c,$i);if("error"in u)throw new de(u.error,"failed to get confirmed transactions");return u.result})}async getConfirmedSignaturesForAddress(e,t,n){let o={},i=await this.getFirstAvailableBlock();for(;!("until"in o)&&(t--,!(t<=0||t<i));)try{const h=await this.getConfirmedBlockSignatures(t,"finalized");h.signatures.length>0&&(o.until=h.signatures[h.signatures.length-1].toString())}catch(h){if(h instanceof Error&&h.message.includes("skipped"))continue;throw h}let c=await this.getSlot("finalized");for(;!("before"in o)&&(n++,!(n>c));)try{const h=await this.getConfirmedBlockSignatures(n);h.signatures.length>0&&(o.before=h.signatures[h.signatures.length-1].toString())}catch(h){if(h instanceof Error&&h.message.includes("skipped"))continue;throw h}return(await this.getConfirmedSignaturesForAddress2(e,o)).map(h=>h.signature)}async getConfirmedSignaturesForAddress2(e,t,n){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),c=re(i,Fp);if("error"in c)throw new de(c.error,"failed to get confirmed signatures for address");return c.result}async getSignaturesForAddress(e,t,n){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",o),c=re(i,zp);if("error"in c)throw new de(c.error,"failed to get signatures for address");return c.result}async getAddressLookupTable(e,t){const{context:n,value:o}=await this.getAccountInfoAndContext(e,t);let i=null;return o!==null&&(i=new Ru({key:e,state:Ru.deserialize(o.data)})),{context:n,value:i}}async getNonceAndContext(e,t){const{context:n,value:o}=await this.getAccountInfoAndContext(e,t);let i=null;return o!==null&&(i=Ps.fromAccountData(o.data)),{context:n,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,t){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),o=re(n,dg);if("error"in o)throw new de(o.error,`airdrop to ${e.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Yi(100);const n=Date.now()-this._blockhashInfo.lastFetch>=lp;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,n=t?t.blockhash:null;for(let o=0;o<50;o++){const i=await this.getLatestBlockhash("finalized");if(n!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await Yi(op/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:n}=nt(e),o=this._buildArgs([],t,"base64",n),i=await this._rpcRequest("getStakeMinimumDelegation",o),c=re(i,It(G()));if("error"in c)throw new de(c.error,"failed to get stake minimum delegation");return c.result}async simulateTransaction(e,t,n){if("message"in e){const k=e.serialize(),R=Ae.Buffer.from(k).toString("base64");if(Array.isArray(t)||n!==void 0)throw new Error("Invalid arguments");const D=t||{};D.encoding="base64","commitment"in D||(D.commitment=this.commitment);const F=[R,D],O=await this._rpcRequest("simulateTransaction",F),z=re(O,Pu);if("error"in z)throw new Error("failed to simulate transaction: "+z.error.message);return z.result}let o;if(e instanceof Un){let C=e;o=new Un,o.feePayer=C.feePayer,o.instructions=e.instructions,o.nonceInfo=C.nonceInfo,o.signatures=C.signatures}else o=Un.populate(e),o._message=o._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(o.nonceInfo&&i)o.sign(...i);else{let C=this._disableBlockhashCaching;for(;;){const k=await this._blockhashWithExpiryBlockHeight(C);if(o.lastValidBlockHeight=k.lastValidBlockHeight,o.recentBlockhash=k.blockhash,!i)break;if(o.sign(...i),!o.signature)throw new Error("!signature");const R=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(R)&&!this._blockhashInfo.transactionSignatures.includes(R)){this._blockhashInfo.simulatedSignatures.push(R);break}else C=!0}}const c=o._compile(),u=c.serialize(),y=o._serialize(u).toString("base64"),m={encoding:"base64",commitment:this.commitment};if(n){const C=(Array.isArray(n)?n:c.nonProgramIds()).map(k=>k.toBase58());m.accounts={encoding:"base64",addresses:C}}i&&(m.sigVerify=!0);const x=[y,m],B=await this._rpcRequest("simulateTransaction",x),E=re(B,Pu);if("error"in E){let C;if("data"in E.error&&(C=E.error.data.logs,C&&Array.isArray(C))){const k=`
    `,R=k+C.join(k);console.error(E.error.message,R)}throw new Nu("failed to simulate transaction: "+E.error.message,C)}return E.result}async sendTransaction(e,t,n){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const c=e.serialize();return await this.sendRawTransaction(c,n)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const o=t;if(e.nonceInfo)e.sign(...o);else{let c=this._disableBlockhashCaching;for(;;){const u=await this._blockhashWithExpiryBlockHeight(c);if(e.lastValidBlockHeight=u.lastValidBlockHeight,e.recentBlockhash=u.blockhash,e.sign(...o),!e.signature)throw new Error("!signature");const h=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(h))c=!0;else{this._blockhashInfo.transactionSignatures.push(h);break}}}const i=e.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(e,t){const n=Zr(e).toString("base64");return await this.sendEncodedTransaction(n,t)}async sendEncodedTransaction(e,t){const n={encoding:"base64"},o=t&&t.skipPreflight,i=t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(n.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(n.minContextSlot=t.minContextSlot),o&&(n.skipPreflight=o),i&&(n.preflightCommitment=i);const c=[e,n],u=await this._rpcRequest("sendTransaction",c),h=re(u,pg);if("error"in h){let y;throw"data"in h.error&&(y=h.error.data.logs),new Nu("failed to send transaction: "+h.error.message,y)}return h.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{this._rpcWebSocket.notify("ping").catch(()=>{})},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration++,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,n])=>{this._subscriptionsByHash[t]={...n,state:"pending"}})}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const o=this._subscriptionsByHash[n];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[n],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:c}=o;try{this._subscriptionsByHash[n]={...o,state:"subscribing"};const u=await this._rpcWebSocket.call(c,i);this._subscriptionsByHash[n]={...o,serverSubscriptionId:u,state:"subscribed"},this._subscriptionCallbacksByServerSubscriptionId[u]=o.callbacks,await this._updateSubscriptions()}catch(u){if(u instanceof Error&&console.error(`${c} error for argument`,i,u.message),!t())return;this._subscriptionsByHash[n]={...o,state:"pending"},await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:c}=o;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._subscriptionsByHash[n]={...o,state:"unsubscribing"};try{await this._rpcWebSocket.call(c,[i])}catch(u){if(u instanceof Error&&console.error(`${c} error:`,u.message),!t())return;this._subscriptionsByHash[n]={...o,state:"subscribed"},await this._updateSubscriptions();return}}this._subscriptionsByHash[n]={...o,state:"unsubscribed"},await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(o=>{try{o(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:n}=re(e,Hp);this._handleServerNotification(n,[t.value,t.context])}_makeSubscription(e,t){const n=this._nextClientSubscriptionId++,o=ep([e.method,t]),i=this._subscriptionsByHash[o];return i===void 0?this._subscriptionsByHash[o]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n];const c=this._subscriptionsByHash[o];rt(c!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),c.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,t,n){const o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:n}=re(e,jp);this._handleServerNotification(n,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,n,o){const i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",o?{filters:o}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,n){const o=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:n}=re(e,yg);this._handleServerNotification(n,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:n}=re(e,qp);this._handleServerNotification(n,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:n}=re(e,Kp);this._handleServerNotification(n,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,n,o){const i=t||this._commitment;if(i||n||o){let c={};n&&(c.encoding=n),i&&(c.commitment=i),o&&(c=Object.assign(c,o)),e.push(c)}return e}_buildArgsAtLeastConfirmed(e,t,n,o){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,n,o)}_wsOnSignatureNotification(e){const{result:t,subscription:n}=re(e,Yp);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,n){const o=this._buildArgs([e],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(c,u)=>{if(c.type==="status"){t(c.result,u);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return i}onSignatureWithOptions(e,t,n){const{commitment:o,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},c=this._buildArgs([e],o,void 0,i),u=this._makeSubscription({callback:(h,y)=>{t(h,y);try{this.removeSignatureListener(u)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},c);return u}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:n}=re(e,Vp);this._handleServerNotification(n,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:fe([ge("instruction"),Er("recentSlot"),Oe("bumpSeed")])},FreezeLookupTable:{index:1,layout:fe([ge("instruction")])},ExtendLookupTable:{index:2,layout:fe([ge("instruction"),Er(),Dt(Se(),Kn(ge(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:fe([ge("instruction")])},CloseLookupTable:{index:4,layout:fe([ge("instruction")])}}),new le("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:fe([Oe("instruction"),ge("units"),ge("additionalFee")])},RequestHeapFrame:{index:1,layout:fe([Oe("instruction"),ge("bytes")])},SetComputeUnitLimit:{index:2,layout:fe([Oe("instruction"),ge("units")])},SetComputeUnitPrice:{index:3,layout:fe([Oe("instruction"),Er("microLamports")])}}),new le("ComputeBudget111111111111111111111111111111"),fe([Oe("numSignatures"),Oe("padding"),$t("signatureOffset"),$t("signatureInstructionIndex"),$t("publicKeyOffset"),$t("publicKeyInstructionIndex"),$t("messageDataOffset"),$t("messageDataSize"),$t("messageInstructionIndex")]),new le("Ed25519SigVerify111111111111111111111111111"),Jn.hmacSha256Sync=(r,...e)=>{const t=wu.create(Go,r);return e.forEach(n=>t.update(n)),t.digest()},Jn.isValidPrivateKey,fe([Oe("numSignatures"),$t("signatureOffset"),Oe("signatureInstructionIndex"),$t("ethAddressOffset"),Oe("ethAddressInstructionIndex"),$t("messageDataOffset"),$t("messageDataSize"),Oe("messageInstructionIndex"),et(20,"ethAddress"),et(64,"signature"),Oe("recoveryId")]),new le("KeccakSecp256k11111111111111111111111111111"),new le("StakeConfig11111111111111111111111111111111");class Qu{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}}Qu.default=new Qu(0,0,le.default),Object.freeze({Initialize:{index:0,layout:fe([ge("instruction"),G0(),q0()])},Authorize:{index:1,layout:fe([ge("instruction"),Se("newAuthorized"),ge("stakeAuthorizationType")])},Delegate:{index:2,layout:fe([ge("instruction")])},Split:{index:3,layout:fe([ge("instruction"),Qt("lamports")])},Withdraw:{index:4,layout:fe([ge("instruction"),Qt("lamports")])},Deactivate:{index:5,layout:fe([ge("instruction")])},Merge:{index:7,layout:fe([ge("instruction")])},AuthorizeWithSeed:{index:8,layout:fe([ge("instruction"),Se("newAuthorized"),ge("stakeAuthorizationType"),Ar("authoritySeed"),Se("authorityOwner")])}}),Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),new le("Stake11111111111111111111111111111111111111"),Object.freeze({InitializeAccount:{index:0,layout:fe([ge("instruction"),Q0()])},Authorize:{index:1,layout:fe([ge("instruction"),Se("newAuthorized"),ge("voteAuthorizationType")])},Withdraw:{index:3,layout:fe([ge("instruction"),Qt("lamports")])},AuthorizeWithSeed:{index:10,layout:fe([ge("instruction"),K0()])}}),Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),new le("Vote111111111111111111111111111111111111111"),new le("Va1idator1nfo111111111111111111111111111111"),X({name:ne(),website:Ee(ne()),details:Ee(ne()),keybaseUsername:Ee(ne())}),new le("Vote111111111111111111111111111111111111111"),fe([Se("nodePubkey"),Se("authorizedWithdrawer"),Oe("commission"),Tt(),Dt(fe([Tt("slot"),ge("confirmationCount")]),Kn(ge(),-8),"votes"),Oe("rootSlotValid"),Tt("rootSlot"),Tt(),Dt(fe([Tt("epoch"),Se("authorizedVoter")]),Kn(ge(),-8),"authorizedVoters"),fe([Dt(fe([Se("authorizedPubkey"),Tt("epochOfLastAuthorizedSwitch"),Tt("targetEpoch")]),32,"buf"),Tt("idx"),Oe("isEmpty")],"priorVoters"),Tt(),Dt(fe([Tt("epoch"),Tt("credits"),Tt("prevCredits")]),Kn(ge(),-8),"epochCredits"),fe([Tt("slot"),Tt("timestamp")],"lastTimestamp")]);const Ku={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function bg(r,e){const t=e===!1?"http":"https";if(!r)return Ku[t].devnet;const n=Ku[t][r];if(!n)throw new Error(`Unknown ${t} cluster: ${r}`);return n}const vg=Y.createContext({}),Ag=({children:r,endpoint:e,config:t={commitment:"confirmed"}})=>{const n=Y.useMemo(()=>new mg(e,t),[e,t]);return P.default.createElement(vg.Provider,{value:{connection:n}},r)};class kt extends Error{constructor(e,t){super(e),this.error=t}}class ei extends kt{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class Eg extends kt{constructor(){super(...arguments),this.name="WalletLoadError"}}class xg extends kt{constructor(){super(...arguments),this.name="WalletConfigError"}}class ti extends kt{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Ys extends kt{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class ni extends kt{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Vs extends kt{constructor(){super(...arguments),this.name="WalletAccountError"}}class ri extends kt{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class ot extends kt{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class xr extends kt{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Xi extends kt{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class Ht extends kt{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}var _e;(function(r){r.Installed="Installed",r.NotDetected="NotDetected",r.Loadable="Loadable",r.Unsupported="Unsupported"})(_e||(_e={}));class Sg extends Oi{get connected(){return!!this.publicKey}async prepareTransaction(e,t,n={}){const o=this.publicKey;if(!o)throw new ot;return e.feePayer=e.feePayer||o,e.recentBlockhash=e.recentBlockhash||(await t.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,e}}function Ji(r){if(typeof window>"u"||typeof document>"u")return;const e=[];function t(){if(r())for(const i of e)i()}const n=setInterval(t,1e3);e.push(()=>clearInterval(n)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",t,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",t))),document.readyState!=="complete"&&(window.addEventListener("load",t,{once:!0}),e.push(()=>window.removeEventListener("load",t))),t()}class Ig extends Sg{async sendTransaction(e,t,n={}){let o=!0;try{if("version"in e){if(!this.supportedTransactionVersions)throw new xr("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new xr(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const i=e.serialize();return await t.sendRawTransaction(i,n)}catch(i){throw i instanceof Ht?(o=!1,i):new xr(i==null?void 0:i.message,i)}}else try{const{signers:i,...c}=n;e=await this.prepareTransaction(e,t,c),i!=null&&i.length&&e.partialSign(...i),e=await this.signTransaction(e);const u=e.serialize();return await t.sendRawTransaction(u,c)}catch(i){throw i instanceof Ht?(o=!1,i):new xr(i==null?void 0:i.message,i)}}catch(i){throw o&&this.emit("error",i),i}}async signAllTransactions(e){for(const n of e)if("version"in n){if(!this.supportedTransactionVersions)throw new Ht("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new Ht(`Signing transaction version ${n.version} isn't supported by this wallet`)}const t=[];for(const n of e)t.push(await this.signTransaction(n));return t}}class eo extends Ig{}var Zs;(function(r){r.Mainnet="mainnet-beta",r.Testnet="testnet",r.Devnet="devnet"})(Zs||(Zs={}));class Yu extends kt{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const _g=[],to={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(r){console.error(wn("get","select"))},connect(){return Promise.reject(console.error(wn("get","connect")))},disconnect(){return Promise.reject(console.error(wn("get","disconnect")))},sendTransaction(r,e,t){return Promise.reject(console.error(wn("get","sendTransaction")))},signTransaction(r){return Promise.reject(console.error(wn("get","signTransaction")))},signAllTransactions(r){return Promise.reject(console.error(wn("get","signAllTransactions")))},signMessage(r){return Promise.reject(console.error(wn("get","signMessage")))}};Object.defineProperty(to,"wallets",{get(){return console.error(wn("read","wallets")),_g}}),Object.defineProperty(to,"wallet",{get(){return console.error(wn("read","wallet")),null}}),Object.defineProperty(to,"publicKey",{get(){return console.error(wn("read","publicKey")),null}});function wn(r,e){return`You have tried to  ${r} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext`}const Vu=Y.createContext(to);function Zu(){return Y.useContext(Vu)}function Mg(r,e){const t=Y.useState(()=>{try{const i=localStorage.getItem(r);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return e}),n=t[0],o=Y.useRef(!0);return Y.useEffect(()=>{if(o.current){o.current=!1;return}try{n===null?localStorage.removeItem(r):localStorage.setItem(r,JSON.stringify(n))}catch(i){typeof window<"u"&&console.error(i)}},[n,r]),t}const $u={wallet:null,adapter:null,publicKey:null,connected:!1},Bg=({children:r,wallets:e,autoConnect:t=!1,onError:n,localStorageKey:o="walletName"})=>{const[i,c]=Mg(o,null),[{wallet:u,adapter:h,publicKey:y,connected:m},x]=Y.useState($u),B=(h==null?void 0:h.readyState)||_e.Unsupported,[E,C]=Y.useState(!1),[k,R]=Y.useState(!1),D=Y.useRef(!1),F=Y.useRef(!1),O=Y.useRef(!1),[z,L]=Y.useState(()=>e.map(g=>({adapter:g,readyState:g.readyState})));Y.useEffect(()=>{L(b=>e.map((w,S)=>{const U=b[S];return U&&U.adapter===w&&U.readyState===w.readyState?U:{adapter:w,readyState:w.readyState}}));function g(b){L(w=>{const S=w.findIndex(({adapter:T})=>T===this);if(S===-1)return w;const{adapter:U}=w[S];return[...w.slice(0,S),{adapter:U,readyState:b},...w.slice(S+1)]})}return e.forEach(b=>b.on("readyStateChange",g,b)),()=>e.forEach(b=>b.off("readyStateChange",g,b))},[e]),Y.useEffect(()=>{const g=i&&z.find(({adapter:b})=>b.name===i);x(g?{wallet:g,adapter:g.adapter,connected:g.adapter.connected,publicKey:g.adapter.publicKey}:$u)},[i,z]),Y.useEffect(()=>{function g(){O.current=!0}return window.addEventListener("beforeunload",g),()=>window.removeEventListener("beforeunload",g)},[O]);const H=Y.useCallback(()=>{!h||x(g=>({...g,connected:h.connected,publicKey:h.publicKey}))},[h]),j=Y.useCallback(()=>{O.current||c(null)},[O,c]),q=Y.useCallback(g=>(O.current||(n||console.error)(g),g),[O,n]);Y.useEffect(()=>{if(h)return h.on("connect",H),h.on("disconnect",j),h.on("error",q),()=>{h.off("connect",H),h.off("disconnect",j),h.off("error",q)}},[h,H,j,q]),Y.useEffect(()=>()=>{h==null||h.disconnect()},[h]),Y.useEffect(()=>{D.current||m||!t||!h||!(B===_e.Installed||B===_e.Loadable)||async function(){D.current=!0,C(!0);try{await h.connect()}catch{c(null)}finally{C(!1),D.current=!1}}()},[D,m,t,h,B,c]);const he=Y.useCallback(async()=>{if(!(D.current||F.current||m)){if(!h)throw q(new Yu);if(!(B===_e.Installed||B===_e.Loadable))throw c(null),typeof window<"u"&&window.open(h.url,"_blank"),q(new ei);D.current=!0,C(!0);try{await h.connect()}catch(g){throw c(null),g}finally{C(!1),D.current=!1}}},[D,F,m,h,B,q,c]),Me=Y.useCallback(async()=>{if(!F.current){if(!h)return c(null);F.current=!0,R(!0);try{await h.disconnect()}catch(g){throw c(null),g}finally{R(!1),F.current=!1}}},[F,h,c]),ye=Y.useCallback(async(g,b,w)=>{if(!h)throw q(new Yu);if(!m)throw q(new ot);return await h.sendTransaction(g,b,w)},[h,q,m]),Be=Y.useMemo(()=>h&&"signTransaction"in h?async g=>{if(!m)throw q(new ot);return await h.signTransaction(g)}:void 0,[h,q,m]),M=Y.useMemo(()=>h&&"signAllTransactions"in h?async g=>{if(!m)throw q(new ot);return await h.signAllTransactions(g)}:void 0,[h,q,m]),l=Y.useMemo(()=>h&&"signMessage"in h?async g=>{if(!m)throw q(new ot);return await h.signMessage(g)}:void 0,[h,q,m]);return P.default.createElement(Vu.Provider,{value:{autoConnect:t,wallets:z,wallet:u,publicKey:y,connected:m,connecting:E,disconnecting:k,select:c,connect:he,disconnect:Me,sendTransaction:ye,signTransaction:Be,signAllTransactions:M,signMessage:l}},r)},Xu={setVisible(r){console.error(Ju("call","setVisible"))},visible:!1};Object.defineProperty(Xu,"visible",{get(){return console.error(Ju("read","visible")),!1}});function Ju(r,e){return`You have tried to  ${r} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const el=Y.createContext(Xu);function tl(){return Y.useContext(el)}const Tg=r=>P.default.createElement("button",{className:`wallet-adapter-button ${r.className||""}`,disabled:r.disabled,style:r.style,onClick:r.onClick,tabIndex:r.tabIndex||0,type:"button"},r.startIcon&&P.default.createElement("i",{className:"wallet-adapter-button-start-icon"},r.startIcon),r.children,r.endIcon&&P.default.createElement("i",{className:"wallet-adapter-button-end-icon"},r.endIcon)),Cg=({wallet:r,...e})=>r&&P.default.createElement("img",{src:r.adapter.icon,alt:`${r.adapter.name} icon`,...e}),nl=({id:r,children:e,expanded:t=!1})=>{const n=Y.useRef(null),o=Y.useRef(!0),i="height 250ms ease-out",c=()=>{const h=n.current;!h||requestAnimationFrame(()=>{h.style.height=h.scrollHeight+"px"})},u=()=>{const h=n.current;!h||requestAnimationFrame(()=>{h.style.height=h.offsetHeight+"px",h.style.overflow="hidden",requestAnimationFrame(()=>{h.style.height="0"})})};return Y.useLayoutEffect(()=>{t?c():u()},[t]),Y.useLayoutEffect(()=>{const h=n.current;if(!h)return;function y(){!h||(h.style.overflow=t?"initial":"hidden",t&&(h.style.height="auto"))}function m(x){h&&x.target===h&&x.propertyName==="height"&&y()}return o.current&&(y(),o.current=!1),h.addEventListener("transitionend",m),()=>h.removeEventListener("transitionend",m)},[t]),P.default.createElement("div",{className:"wallet-adapter-collapse",id:r,ref:n,role:"region",style:{height:0,transition:o.current?void 0:i}},e)},$s=({handleClick:r,tabIndex:e,wallet:t})=>P.default.createElement("li",null,P.default.createElement(Tg,{onClick:r,startIcon:P.default.createElement(Cg,{wallet:t}),tabIndex:e},t.adapter.name,t.readyState===_e.Installed&&P.default.createElement("span",null,"Detected"))),kg=()=>P.default.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},P.default.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),P.default.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),P.default.createElement("g",{clipPath:"url(#clip0_880_5115)"},P.default.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),P.default.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),P.default.createElement("defs",null,P.default.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},P.default.createElement("stop",{stopColor:"#9945FF"}),P.default.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),P.default.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),P.default.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),P.default.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),P.default.createElement("stop",{offset:"1",stopColor:"#00D18C"})),P.default.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},P.default.createElement("stop",{stopColor:"#9945FF"}),P.default.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),P.default.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),P.default.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),P.default.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),P.default.createElement("stop",{offset:"1",stopColor:"#00D18C"})),P.default.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},P.default.createElement("stop",{stopColor:"#9945FF"}),P.default.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),P.default.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),P.default.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),P.default.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),P.default.createElement("stop",{offset:"1",stopColor:"#00D18C"})),P.default.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},P.default.createElement("stop",{stopColor:"#9945FF"}),P.default.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),P.default.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),P.default.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),P.default.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),P.default.createElement("stop",{offset:"1",stopColor:"#00D18C"})),P.default.createElement("clipPath",{id:"clip0_880_5115"},P.default.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),Ng=({className:r="",container:e="body"})=>{const t=Y.useRef(null),{wallets:n,select:o}=Zu(),{setVisible:i}=tl(),[c,u]=Y.useState(!1),[h,y]=Y.useState(!1),[m,x]=Y.useState(null),[B,E]=Y.useMemo(()=>{const z=[],L=[],H=[];for(const j of n)j.readyState===_e.NotDetected?L.push(j):j.readyState===_e.Loadable?H.push(j):j.readyState===_e.Installed&&z.push(j);return[z,[...H,...L]]},[n]),C=Y.useMemo(()=>B.length?B[0]:n.find(z=>z.adapter.name==="Torus")||n.find(z=>z.adapter.name==="Phantom")||n.find(z=>z.readyState===_e.Loadable)||E[0],[B,n,E]),k=Y.useCallback(()=>{y(!1),setTimeout(()=>i(!1),150)},[i]),R=Y.useCallback(z=>{z.preventDefault(),k()},[k]),D=Y.useCallback((z,L)=>{o(L),R(z)},[o,R]),F=Y.useCallback(()=>u(!c),[c]),O=Y.useCallback(z=>{const L=t.current;if(!L)return;const H=L.querySelectorAll("button"),j=H[0],q=H[H.length-1];z.shiftKey?document.activeElement===j&&(q.focus(),z.preventDefault()):document.activeElement===q&&(j.focus(),z.preventDefault())},[t]);return Y.useLayoutEffect(()=>{const z=H=>{H.key==="Escape"?k():H.key==="Tab"&&O(H)},{overflow:L}=window.getComputedStyle(document.body);return setTimeout(()=>y(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",z,!1),()=>{document.body.style.overflow=L,window.removeEventListener("keydown",z,!1)}},[k,O]),Y.useLayoutEffect(()=>x(document.querySelector(e)),[e]),m&&rr.createPortal(P.default.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${h&&"wallet-adapter-modal-fade-in"} ${r}`,ref:t,role:"dialog"},P.default.createElement("div",{className:"wallet-adapter-modal-container"},P.default.createElement("div",{className:"wallet-adapter-modal-wrapper"},P.default.createElement("button",{onClick:R,className:"wallet-adapter-modal-button-close"},P.default.createElement("svg",{width:"14",height:"14"},P.default.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),B.length?P.default.createElement(P.default.Fragment,null,P.default.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),P.default.createElement("ul",{className:"wallet-adapter-modal-list"},B.map(z=>P.default.createElement($s,{key:z.adapter.name,handleClick:L=>D(L,z.adapter.name),wallet:z})),E.length?P.default.createElement(nl,{expanded:c,id:"wallet-adapter-modal-collapse"},E.map(z=>P.default.createElement($s,{key:z.adapter.name,handleClick:L=>D(L,z.adapter.name),tabIndex:c?0:-1,wallet:z}))):null),E.length?P.default.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:F,tabIndex:0},P.default.createElement("span",null,c?"Less ":"More ","options"),P.default.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${c?"wallet-adapter-modal-list-more-icon-rotate":""}`},P.default.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):P.default.createElement(P.default.Fragment,null,P.default.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),P.default.createElement("div",{className:"wallet-adapter-modal-middle"},P.default.createElement(kg,null),P.default.createElement("button",{type:"button",className:"wallet-adapter-modal-middle-button",onClick:z=>D(z,C.adapter.name)},"Get started")),E.length?P.default.createElement(P.default.Fragment,null,P.default.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:F,tabIndex:0},P.default.createElement("span",null,c?"Hide ":"Already have a wallet? View ","options"),P.default.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${c?"wallet-adapter-modal-list-more-icon-rotate":""}`},P.default.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),P.default.createElement(nl,{expanded:c,id:"wallet-adapter-modal-collapse"},P.default.createElement("ul",{className:"wallet-adapter-modal-list"},E.map(z=>P.default.createElement($s,{key:z.adapter.name,handleClick:L=>D(L,z.adapter.name),tabIndex:c?0:-1,wallet:z}))))):null))),P.default.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:R})),m)},Og=({children:r,...e})=>{const[t,n]=Y.useState(!1);return P.default.createElement(el.Provider,{value:{visible:t,setVisible:n}},r,t&&P.default.createElement(Ng,{...e}))},Rg="logger/5.7.0";let rl=!1,il=!1;const no={debug:1,default:2,info:2,warning:3,error:4,off:5};let ol=no.default,Xs=null;function Lg(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}const sl=Lg();var Js;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(Js||(Js={}));var un;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(un||(un={}));const al="0123456789abcdef";class Xe{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();no[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(ol>no[n])&&console.log.apply(console,t)}debug(...e){this._log(Xe.levels.DEBUG,e)}info(...e){this._log(Xe.levels.INFO,e)}warn(...e){this._log(Xe.levels.WARNING,e)}makeError(e,t,n){if(il)return this.makeError("censored error",t,{});t||(t=Xe.errors.UNKNOWN_ERROR),n||(n={});const o=[];Object.keys(n).forEach(h=>{const y=n[h];try{if(y instanceof Uint8Array){let m="";for(let x=0;x<y.length;x++)m+=al[y[x]>>4],m+=al[y[x]&15];o.push(h+"=Uint8Array(0x"+m+")")}else o.push(h+"="+JSON.stringify(y))}catch{o.push(h+"="+JSON.stringify(n[h].toString()))}}),o.push(`code=${t}`),o.push(`version=${this.version}`);const i=e;let c="";switch(t){case un.NUMERIC_FAULT:{c="NUMERIC_FAULT";const h=e;switch(h){case"overflow":case"underflow":case"division-by-zero":c+="-"+h;break;case"negative-power":case"negative-width":c+="-unsupported";break;case"unbound-bitwise-result":c+="-unbound-result";break}break}case un.CALL_EXCEPTION:case un.INSUFFICIENT_FUNDS:case un.MISSING_NEW:case un.NONCE_EXPIRED:case un.REPLACEMENT_UNDERPRICED:case un.TRANSACTION_REPLACED:case un.UNPREDICTABLE_GAS_LIMIT:c=t;break}c&&(e+=" [ See: https://links.ethers.org/v5-errors-"+c+" ]"),o.length&&(e+=" ("+o.join(", ")+")");const u=new Error(e);return u.reason=i,u.code=t,Object.keys(n).forEach(function(h){u[h]=n[h]}),u}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,Xe.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,o){e||this.throwError(t,n,o)}assertArgument(e,t,n,o){e||this.throwArgumentError(t,n,o)}checkNormalize(e){sl&&this.throwError("platform missing String.prototype.normalize",Xe.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:sl})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Xe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Xe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,Xe.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,Xe.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",Xe.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Xe.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Xe.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Xs||(Xs=new Xe(Rg)),Xs}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Xe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),rl){if(!e)return;this.globalLogger().throwError("error censorship permanent",Xe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}il=!!e,rl=!!t}static setLogLevel(e){const t=no[e.toLowerCase()];if(t==null){Xe.globalLogger().warn("invalid log level - "+e);return}ol=t}static from(e){return new Xe(e)}}Xe.errors=un,Xe.levels=Js;const Ug="bytes/5.7.0",ea=new Xe(Ug);function Pg(r){return!!r.toHexString}function ro(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return ro(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function cl(r){return typeof r=="number"&&r==r&&r%1===0}function Dg(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!cl(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!cl(t)||t<0||t>=256)return!1}return!0}function ul(r,e){if(e||(e={}),typeof r=="number"){ea.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),ro(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Pg(r)&&(r=r.toHexString()),Fg(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":ea.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let o=0;o<t.length;o+=2)n.push(parseInt(t.substring(o,o+2),16));return ro(new Uint8Array(n))}return Dg(r)?ro(new Uint8Array(r)):ea.throwArgumentError("invalid arrayify value","value",r)}function Fg(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const zg="properties/5.7.0";globalThis&&globalThis.__awaiter,new Xe(zg);function io(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}class ll{constructor(e){io(this,"alphabet",e),io(this,"base",e.length),io(this,"_alphabetMap",{}),io(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=ul(e);if(t.length===0)return"";let n=[0];for(let i=0;i<t.length;++i){let c=t[i];for(let u=0;u<n.length;++u)c+=n[u]<<8,n[u]=c%this.base,c=c/this.base|0;for(;c>0;)n.push(c%this.base),c=c/this.base|0}let o="";for(let i=0;t[i]===0&&i<t.length-1;++i)o+=this._leader;for(let i=n.length-1;i>=0;--i)o+=this.alphabet[n[i]];return o}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let o=this._alphabetMap[e[n]];if(o===void 0)throw new Error("Non-base"+this.base+" character");let i=o;for(let c=0;c<t.length;++c)i+=t[c]*this.base,t[c]=i&255,i>>=8;for(;i>0;)t.push(i&255),i>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return ul(new Uint8Array(t.reverse()))}}new ll("abcdefghijklmnopqrstuvwxyz234567");const Hg=new ll("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Wg="Glow";class jg extends eo{constructor(e={}){if(super(),this.name=Wg,this.url="https://glow.app",this.icon="data:image/png;base64,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",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?_e.Unsupported:_e.NotDetected,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Ys),this.emit("disconnect"))},this._connecting=!1,this._wallet=null,this._publicKey=null,this._network=e.network||null,this._readyState!==_e.Unsupported){const t=n=>{typeof n.data=="object"&&n.data.__glow_loaded&&(this._readyState!==_e.Installed&&(this._readyState=_e.Installed,this.emit("readyStateChange",this._readyState)),window.removeEventListener("message",t))};window.addEventListener("message",t),Ji(()=>{var n;return(n=window.glowSolana)!=null&&n.isGlow?(window.removeEventListener("message",t),this._readyState!==_e.Installed&&(this._readyState=_e.Installed,this.emit("readyStateChange",this._readyState)),!0):!1})}}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isConnected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==_e.Installed)throw new ei;this._connecting=!0;const e=window.glowSolana;try{await e.connect()}catch(n){throw new ti(n==null?void 0:n.message,n)}if(!e.publicKey)throw new Vs;let t;try{t=new le(e.publicKey.toBytes())}catch(n){throw new ri(n==null?void 0:n.message,n)}e.on("disconnect",this._disconnected),this._wallet=e,this._publicKey=t,this.emit("connect",t)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new ni(t==null?void 0:t.message,t))}}this.emit("disconnect")}async sendTransaction(e,t,n={}){try{const o=this._wallet;if(!o)throw new ot;try{const{signers:i,...c}=n;e=await this.prepareTransaction(e,t,c),i!=null&&i.length&&e.partialSign(...i),c.preflightCommitment=c.preflightCommitment||t.commitment;const{signature:u}=await o.signAndSendTransaction(e,{...c,network:this._network});return u}catch(i){throw i instanceof kt?i:new xr(i==null?void 0:i.message,i)}}catch(o){throw this.emit("error",o),o}}async signTransaction(e){try{const t=this._wallet;if(!t)throw new ot;try{return await t.signTransaction(e,this._network)||e}catch(n){throw new Ht(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new ot;try{return await t.signAllTransactions(e,this._network)||e}catch(n){throw new Ht(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new ot;try{const{signature:n}=await t.signMessage(e);return n}catch(n){throw new Xi(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}}const Gg="Phantom";class qg extends eo{constructor(e={}){super(),this.name=Gg,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjM0IiB3aWR0aD0iMzQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iLjUiIHgyPSIuNSIgeTE9IjAiIHkyPSIxIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiM1MzRiYjEiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1NTFiZjkiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9Ii41IiB4Mj0iLjUiIHkxPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii44MiIvPjwvbGluZWFyR3JhZGllbnQ+PGNpcmNsZSBjeD0iMTciIGN5PSIxNyIgZmlsbD0idXJsKCNhKSIgcj0iMTciLz48cGF0aCBkPSJtMjkuMTcwMiAxNy4yMDcxaC0yLjk5NjljMC02LjEwNzQtNC45NjgzLTExLjA1ODE3LTExLjA5NzUtMTEuMDU4MTctNi4wNTMyNSAwLTEwLjk3NDYzIDQuODI5NTctMTEuMDk1MDggMTAuODMyMzctLjEyNDYxIDYuMjA1IDUuNzE3NTIgMTEuNTkzMiAxMS45NDUzOCAxMS41OTMyaC43ODM0YzUuNDkwNiAwIDEyLjg0OTctNC4yODI5IDEzLjk5OTUtOS41MDEzLjIxMjMtLjk2MTktLjU1MDItMS44NjYxLTEuNTM4OC0xLjg2NjF6bS0xOC41NDc5LjI3MjFjMCAuODE2Ny0uNjcwMzggMS40ODQ3LTEuNDkwMDEgMS40ODQ3LS44MTk2NCAwLTEuNDg5OTgtLjY2ODMtMS40ODk5OC0xLjQ4NDd2LTIuNDAxOWMwLS44MTY3LjY3MDM0LTEuNDg0NyAxLjQ4OTk4LTEuNDg0Ny44MTk2MyAwIDEuNDkwMDEuNjY4IDEuNDkwMDEgMS40ODQ3em01LjE3MzggMGMwIC44MTY3LS42NzAzIDEuNDg0Ny0xLjQ4OTkgMS40ODQ3LS44MTk3IDAtMS40OS0uNjY4My0xLjQ5LTEuNDg0N3YtMi40MDE5YzAtLjgxNjcuNjcwNi0xLjQ4NDcgMS40OS0xLjQ4NDcuODE5NiAwIDEuNDg5OS42NjggMS40ODk5IDEuNDg0N3oiIGZpbGw9InVybCgjYikiLz48L3N2Zz4K",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?_e.Unsupported:_e.NotDetected,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new Ys),this.emit("disconnect"))},this._accountChanged=t=>{const n=this._publicKey;if(!!n){try{t=new le(t.toBytes())}catch(o){this.emit("error",new ri(o==null?void 0:o.message,o));return}n.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==_e.Unsupported&&Ji(()=>{var t,n,o;return((n=(t=window.phantom)==null?void 0:t.solana)==null?void 0:n.isPhantom)||((o=window.solana)==null?void 0:o.isPhantom)?(this._readyState=_e.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isConnected)}get readyState(){return this._readyState}async connect(){var e;try{if(this.connected||this.connecting)return;if(this._readyState!==_e.Installed)throw new ei;this._connecting=!0;const t=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!t.isConnected)try{await t.connect()}catch(o){throw new ti(o==null?void 0:o.message,o)}if(!t.publicKey)throw new Vs;let n;try{n=new le(t.publicKey.toBytes())}catch(o){throw new ri(o==null?void 0:o.message,o)}t.on("disconnect",this._disconnected),t.on("accountChanged",this._accountChanged),this._wallet=t,this._publicKey=n,this.emit("connect",n)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new ni(t==null?void 0:t.message,t))}}this.emit("disconnect")}async sendTransaction(e,t,n={}){try{const o=this._wallet;if(!o)throw new ot;try{const{signers:i,...c}=n;e=await this.prepareTransaction(e,t,c),i!=null&&i.length&&e.partialSign(...i),c.preflightCommitment=c.preflightCommitment||t.commitment;const{signature:u}=await o.signAndSendTransaction(e,c);return u}catch(i){throw i instanceof kt?i:new xr(i==null?void 0:i.message,i)}}catch(o){throw this.emit("error",o),o}}async signTransaction(e){try{const t=this._wallet;if(!t)throw new ot;try{return await t.signTransaction(e)||e}catch(n){throw new Ht(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new ot;try{return await t.signAllTransactions(e)||e}catch(n){throw new Ht(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new ot;try{const{signature:n}=await t.signMessage(e);return n}catch(n){throw new Xi(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}}var oo=hr.exports.Buffer;function Qg(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=n}var c=r.length,u=r.charAt(0),h=Math.log(c)/Math.log(256),y=Math.log(256)/Math.log(c);function m(E){if((Array.isArray(E)||E instanceof Uint8Array)&&(E=oo.from(E)),!oo.isBuffer(E))throw new TypeError("Expected Buffer");if(E.length===0)return"";for(var C=0,k=0,R=0,D=E.length;R!==D&&E[R]===0;)R++,C++;for(var F=(D-R)*y+1>>>0,O=new Uint8Array(F);R!==D;){for(var z=E[R],L=0,H=F-1;(z!==0||L<k)&&H!==-1;H--,L++)z+=256*O[H]>>>0,O[H]=z%c>>>0,z=z/c>>>0;if(z!==0)throw new Error("Non-zero carry");k=L,R++}for(var j=F-k;j!==F&&O[j]===0;)j++;for(var q=u.repeat(C);j<F;++j)q+=r.charAt(O[j]);return q}function x(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return oo.alloc(0);for(var C=0,k=0,R=0;E[C]===u;)k++,C++;for(var D=(E.length-C)*h+1>>>0,F=new Uint8Array(D);E[C];){var O=e[E.charCodeAt(C)];if(O===255)return;for(var z=0,L=D-1;(O!==0||z<R)&&L!==-1;L--,z++)O+=c*F[L]>>>0,F[L]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");R=z,C++}for(var H=D-R;H!==D&&F[H]===0;)H++;var j=oo.allocUnsafe(k+(D-H));j.fill(0,0,k);for(var q=k;H!==D;)j[q++]=F[H++];return j}function B(E){var C=x(E);if(C)return C;throw new Error("Non-base"+c+" character")}return{encode:m,decodeUnsafe:x,decode:B}}var Kg=Qg,Yg=Kg,Vg="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",ii=Yg(Vg);const Zg="Slope";class $g extends eo{constructor(e={}){super(),this.name=Zg,this.url="https://slope.finance",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiByeD0iNjQiIGZpbGw9IiM2RTY2RkEiLz4KPHBhdGggZD0iTTI3Ljk0NzUgNTIuMTU5Nkw1MS45ODI2IDI4LjA1NzJMNzIuNjA5OCA3LjY1Mzg5QzczLjg3MzQgNi40MDQwMSA3Ni4wMTc4IDcuMjk5MSA3Ni4wMTc4IDkuMDc2NDJMNzYuMDE4NyA1Mi4xNTlMNTEuOTgzNiA3Ni4xMjY4TDI3Ljk0NzUgNTIuMTU5NloiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8zNzk1XzI1NTQzKSIvPgo8cGF0aCBkPSJNMTAwLjA1MyA3NS45OTNMNzYuMDE4IDUxLjk1OEw1MS45ODI5IDc1Ljk5MzFMNTEuOTgyOSAxMTguOTI0QzUxLjk4MjkgMTIwLjcwMyA1NC4xMzEyIDEyMS41OTcgNTUuMzkzNyAxMjAuMzQzTDEwMC4wNTMgNzUuOTkzWiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzM3OTVfMjU1NDMpIi8+CjxwYXRoIGQ9Ik0yNy45NDcgNTIuMTYwMUg0NC42ODM5QzQ4LjcxNDcgNTIuMTYwMSA1MS45ODIyIDU1LjQyNzYgNTEuOTgyMiA1OS40NTgzVjc2LjEyNjlIMzUuMjQ1M0MzMS4yMTQ2IDc2LjEyNjkgMjcuOTQ3IDcyLjg1OTQgMjcuOTQ3IDY4LjgyODdWNTIuMTYwMVoiIGZpbGw9IiNGMUYwRkYiLz4KPHBhdGggZD0iTTc2LjAxNzggNTIuMTYwMUg5Mi43NTQ3Qzk2Ljc4NTUgNTIuMTYwMSAxMDAuMDUzIDU1LjQyNzYgMTAwLjA1MyA1OS40NTgzVjc2LjEyNjlIODMuMzE2MUM3OS4yODU0IDc2LjEyNjkgNzYuMDE3OCA3Mi44NTk0IDc2LjAxNzggNjguODI4N1Y1Mi4xNjAxWiIgZmlsbD0iI0YxRjBGRiIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzM3OTVfMjU1NDMiIHgxPSI1MS45ODMxIiB5MT0iNy4wNzE1NSIgeDI9IjUxLjk4MzEiIHkyPSI3Ni4xMjY4IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNBOEFERkYiLz4KPHN0b3Agb2Zmc2V0PSIwLjY0ODU1NiIgc3RvcC1jb2xvcj0id2hpdGUiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzM3OTVfMjU1NDMiIHgxPSI3Ni4wMTgiIHkxPSI1MS45NTgiIHgyPSI3Ni4wMTgiIHkyPSIxMjAuOTI4IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIG9mZnNldD0iMC4yNjA3ODQiIHN0b3AtY29sb3I9IiNCNkJBRkYiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRTRFMkZGIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg==",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?_e.Unsupported:_e.NotDetected,this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==_e.Unsupported&&Ji(()=>typeof window.Slope=="function"||window.slopeApp?(this._readyState=_e.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==_e.Installed||typeof window.Slope!="function")throw new ei;this._connecting=!0;const e=new window.Slope;let t;try{({data:t}=await e.connect())}catch(o){throw new ti(o==null?void 0:o.message,o)}if(!t.publicKey)throw new Vs;let n;try{n=new le(t.publicKey)}catch(o){throw new ri(o==null?void 0:o.message,o)}this._wallet=e,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){this._wallet=null,this._publicKey=null;try{let t;try{({msg:t}=await e.disconnect())}catch(n){throw new ni(n==null?void 0:n.message,n)}if(t!=="ok")throw new ni(t)}catch(t){this.emit("error",t)}}this.emit("disconnect")}async signTransaction(e){try{const t=this._wallet;if(!t)throw new ot;try{const n=ii.encode(e.serializeMessage()),{msg:o,data:i}=await t.signTransaction(n);if(!i.publicKey||!i.signature)throw new Ht(o);const c=new le(i.publicKey),u=ii.decode(i.signature);return e.addSignature(c,u),e}catch(n){throw n instanceof kt?n:new Ht(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){var t;try{const n=this._wallet;if(!n)throw new ot;try{const o=e.map(y=>ii.encode(y.serializeMessage())),{msg:i,data:c}=await n.signAllTransactions(o),u=e.length;if(!c.publicKey||((t=c.signatures)==null?void 0:t.length)!==u)throw new Ht(i);const h=new le(c.publicKey);for(let y=0;y<u;y++)e[y].addSignature(h,ii.decode(c.signatures[y]));return e}catch(o){throw o instanceof kt?o:new Ht(o==null?void 0:o.message,o)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const t=this._wallet;if(!t)throw new ot;try{const n=await t.signMessage(e);return ii.decode(n.data.signature)}catch(n){throw new Xi(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}}const Xg="Solflare";class Jg extends eo{constructor(e={}){super(),this.name=Xg,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?_e.Unsupported:_e.Loadable,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Ys),this.emit("disconnect"))},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==_e.Unsupported&&Ji(()=>{var t;return((t=window.solflare)==null?void 0:t.isSolflare)||window.SolflareApp?(this._readyState=_e.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==_e.Loadable&&this._readyState!==_e.Installed)throw new ei;let e;try{e=(await Promise.resolve().then(()=>_y)).default}catch(o){throw new Eg(o==null?void 0:o.message,o)}let t;try{t=new e({network:this._config.network})}catch(o){throw new xg(o==null?void 0:o.message,o)}if(this._connecting=!0,!t.connected)try{await t.connect()}catch(o){throw new ti(o==null?void 0:o.message,o)}if(!t.publicKey)throw new ti;let n;try{n=new le(t.publicKey.toBytes())}catch(o){throw new ri(o==null?void 0:o.message,o)}t.on("disconnect",this._disconnected),this._wallet=t,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new ni(t==null?void 0:t.message,t))}}this.emit("disconnect")}async signTransaction(e){try{const t=this._wallet;if(!t)throw new ot;try{return await t.signTransaction(e)||e}catch(n){throw new Ht(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new ot;try{return await t.signAllTransactions(e)||e}catch(n){throw new Ht(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new ot;try{return await t.signMessage(e,"utf8")}catch(n){throw new Xi(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}}const Wy="";function ey({children:r}){const e=Zs.Mainnet,t=Y.useMemo(()=>bg(e),[e]),n=Y.useMemo(()=>[new qg,new jg,new $g,new Jg({network:e})],[e]);return P.default.createElement(Ag,{endpoint:t},P.default.createElement(Bg,{wallets:n,autoConnect:!0},P.default.createElement(Og,null,r)))}const ty={ethereum:"ETH",solana:"SOL",polygon:"MATIC",avalanche:"AVAX",flow:"FLOW"};function ny({projectData:r,appId:e,hasUser:t,logger:n}){var L;const[o,i]=Y.useState(!1),[c,u]=Y.useState(!1),[h,y]=Y.useState(""),{setVisible:m}=tl(),{connected:x,publicKey:B,signMessage:E,disconnect:C}=Zu(),k=Y.useRef(!1),R=Y.useRef(!1),D=Y.useMemo(()=>{var q;if(!(r!=null&&r.wallet))return[];const{wallet:H}=r;y((q=r.userInfo)!=null&&q.walletAddress?Ia(r.userInfo.walletAddress):"");const j=[];if(H!=null&&H.isBalanceRequired){const he=P.default.createElement(P.default.Fragment,null,"Have at least",P.default.createElement("strong",null," "+H.balance+" "+ty[r.chain]+" "),"in your wallet");j.push(he)}if(H!=null&&H.isNftRequired){const{nftCollection:he}=H,Me=P.default.createElement(P.default.Fragment,null,"Hold an NFT from"," ",P.default.createElement("strong",null,P.default.createElement("a",{href:he==null?void 0:he.url,target:"_blank",rel:"noreferrer"},he==null?void 0:he.name)));j.push(Me)}return j},[r]);Y.useEffect(()=>{async function H(){var j;if(!(!R.current||((j=r==null?void 0:r.userInfo)==null?void 0:j.walletAddress)||!x||!B||!E||k.current))try{k.current=!0,i(!0);const q=B.toBase58(),{nonce:he}=await _l({appId:e,address:q}),Me=new TextEncoder().encode(he),ye=Hg.encode(await E(Me));await Ml({address:q,signature:ye,appId:e}),y(Ia(B.toString())),n==null||n.info("HypeDayReact: Wallet connected","hype03",{address:B.toString(),projectId:r==null?void 0:r.id,chain:r==null?void 0:r.chain})}catch(q){C(),q.message!=="User rejected the request."&&q.name!==ot.name&&(console.error("error",q),n==null||n.error("HypeDayReact: Error connecting wallet","hype02",q))}finally{i(!1),k.current=!1,R.current=!1}}H()},[n,e,r,i,x,B,E,C]);const F=()=>{h||(m(!0),R.current=!0)},O=()=>{const j=new URLSearchParams(window.location.search).get("phantomApp");if(fo()&&!j)return u(!0);F()},z=async()=>{try{const H=new URLSearchParams;H.append("phantomApp","1"),H.append("ref","hypeday");const j="https://phantom.app/ul/browse/"+encodeURIComponent(window.location.href+"?"+H.toString());window.open(j,"_blank")}catch(H){console.error(H)}};return((L=r==null?void 0:r.wallet)==null?void 0:L.required)===!1?null:P.default.createElement(P.default.Fragment,null,P.default.createElement(Xa,{isOpen:c,onRequestClose:()=>u(!1),title:"Open in Phantom Mobile App?"},P.default.createElement("button",{className:"hypeday-button hypeday-modal-button",onClick:z},"Yes"),P.default.createElement("button",{className:"hypeday-button hypeday-modal-button",onClick:()=>{u(!1),F()}},"Other ways to connect")),P.default.createElement(co,{title:"Wallet",onClick:O,info:D,isLoading:o,rightText:h,buttonDisabled:!t}))}function ry({projectData:r,appId:e,hasUser:t,logger:n}){return P.default.createElement(ey,null,P.default.createElement(ny,{projectData:r,appId:e,hasUser:t,logger:n}))}const jy="",iy={[ln.willOpen]:"Registration opening soon",[ln.alwaysOpen]:"Register",[ln.willClose]:"Register",[ln.closed]:"Registration is closed"};function oy({projectData:r,appId:e,hasUser:t,inputRef:n,logger:o}){var C,k,R,D,F,O,z,L,H;const[i,c]=Y.useState(!1),[u,h]=Y.useState(""),[y,m]=Y.useState(!1),{status:x}=uo();Y.useEffect(()=>{var j;m(!!((j=r==null?void 0:r.userInfo)!=null&&j.registered))},[r]);const B=async()=>{var j;if(!(!e||!t||!(r!=null&&r.id)||y))try{h(""),c(!0);const{error:q}=await Bl({appId:e,projectId:r.id,customField:((j=n==null?void 0:n.current)==null?void 0:j.value)||""});if(q)return console.error("Register error",q),o==null||o.error("HypeDayReact: Error registering user","hype06",q),h(q.message);m(!0),o==null||o.info("HypeDayReact: User registered","hype07",{projectId:r==null?void 0:r.id,chain:r==null?void 0:r.chain})}catch(q){console.error(q),o==null||o.error("HypeDayReact: Error registering user","hype08",q)}finally{c(!1)}},E=i||x===ln.closed||x===ln.willOpen||!t||((C=r==null?void 0:r.discord)==null?void 0:C.enabled)&&!((R=(k=r==null?void 0:r.userInfo)==null?void 0:k.discord)!=null&&R.username)||((D=r==null?void 0:r.discord2)==null?void 0:D.enabled)&&!((O=(F=r==null?void 0:r.userInfo)==null?void 0:F.discord)!=null&&O.username)||((z=r==null?void 0:r.twitter)==null?void 0:z.enabled)&&!((H=(L=r==null?void 0:r.userInfo)==null?void 0:L.twitter)!=null&&H.username);return P.default.createElement(P.default.Fragment,null,P.default.createElement("button",{className:"hypeday-register-button",onClick:B,disabled:E},i&&P.default.createElement("div",{className:"hypeday-spinner hypeday-btn-spinner"}),P.default.createElement("span",{style:{visibility:i?"hidden":"initial"}},y?"Registered! \u{1F389}":iy[x])),!!u&&P.default.createElement("span",{className:"hypeday-register-error"},u))}function sy({projectData:r}){return r!=null&&r.showLink?P.default.createElement("div",{style:{fontSize:"0.8em",width:"100%",display:"flex",justifyContent:"flex-end",paddingTop:12}},P.default.createElement("span",null,"Powered by"," ",P.default.createElement("a",{href:"https://hype.day",target:"_blank",rel:"noreferrer",className:"hypeday-a-text-decoration-none"},"Hype.Day"))):null}function ay({appId:r,projectId:e,userToken:t,testing:n=!1,logger:o}){const[i,c]=Y.useState(),[u,h]=Y.useState(!0),[y,m]=Y.useState(""),x=Y.useRef(null),{setData:B}=uo(),E=Y.useCallback(async()=>{if(!e||!r){console.error("HypeDayReact: projectId and appId props are required.");return}h(!0),m(""),Il({appId:r,projectId:e}).then(C=>{c(C),B(C)}).catch(C=>{o==null||o.error("HypeDayReact: Error fetching project data","hype01",C),console.error("HypeDayReact: Error fetching project data",C),m(C.message||"Something went wrong. Please check your connection.")}).finally(()=>h(!1))},[r,B,e,o]);return Y.useEffect(()=>{Sl(t)},[t]),Y.useEffect(()=>{xl(n)},[n]),Y.useEffect(()=>{E()},[E]),u?P.default.createElement("div",{className:"hypeday-wrapper",style:{display:"flex",justifyContent:"center"}},P.default.createElement("div",{className:"hypeday-spinner"})):y?P.default.createElement("div",{className:"hypeday-wrapper"},P.default.createElement("span",{className:"hypeday-error"},y),P.default.createElement("button",{className:"hypeday-button",onClick:E},"Retry")):P.default.createElement("div",{className:"hypeday-wrapper"},P.default.createElement(Nl,null),P.default.createElement(ry,{projectData:i,appId:r,hasUser:!!t,logger:o}),P.default.createElement(Qf,{projectData:i,appId:r,hasUser:!!t,logger:o}),P.default.createElement(Tl,{projectData:i,appId:r,hasUser:!!t,logger:o}),P.default.createElement(Cl,{projectData:i,ref:x}),P.default.createElement(oy,{projectData:i,appId:r,hasUser:!!t,logger:o,inputRef:x}),P.default.createElement(sy,{projectData:i}))}function cy(r){return P.default.createElement(kl,null,P.default.createElement(ay,{...r}))}var uy=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fl=function(r){uy(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Oi),so=hr.exports.Buffer;function ly(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=n}var c=r.length,u=r.charAt(0),h=Math.log(c)/Math.log(256),y=Math.log(256)/Math.log(c);function m(E){if((Array.isArray(E)||E instanceof Uint8Array)&&(E=so.from(E)),!so.isBuffer(E))throw new TypeError("Expected Buffer");if(E.length===0)return"";for(var C=0,k=0,R=0,D=E.length;R!==D&&E[R]===0;)R++,C++;for(var F=(D-R)*y+1>>>0,O=new Uint8Array(F);R!==D;){for(var z=E[R],L=0,H=F-1;(z!==0||L<k)&&H!==-1;H--,L++)z+=256*O[H]>>>0,O[H]=z%c>>>0,z=z/c>>>0;if(z!==0)throw new Error("Non-zero carry");k=L,R++}for(var j=F-k;j!==F&&O[j]===0;)j++;for(var q=u.repeat(C);j<F;++j)q+=r.charAt(O[j]);return q}function x(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return so.alloc(0);for(var C=0,k=0,R=0;E[C]===u;)k++,C++;for(var D=(E.length-C)*h+1>>>0,F=new Uint8Array(D);E[C];){var O=e[E.charCodeAt(C)];if(O===255)return;for(var z=0,L=D-1;(O!==0||z<R)&&L!==-1;L--,z++)O+=c*F[L]>>>0,F[L]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");R=z,C++}for(var H=D-R;H!==D&&F[H]===0;)H++;var j=so.allocUnsafe(k+(D-H));j.fill(0,0,k);for(var q=k;H!==D;)j[q++]=F[H++];return j}function B(E){var C=x(E);if(C)return C;throw new Error("Non-base"+c+" character")}return{encode:m,decodeUnsafe:x,decode:B}}var fy=ly,hy=fy,dy="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Wt=hy(dy);class py extends Oi{constructor(e,t){var n;if(super(),n=this,this._handleMessage=o=>{if(this._injectedProvider&&o.source===window||o.origin===this._providerUrl.origin&&o.source===this._popup){if(o.data.method==="connected"){const i=new le(o.data.params.publicKey);(!this._publicKey||!this._publicKey.equals(i))&&(this._publicKey&&!this._publicKey.equals(i)&&this._handleDisconnect(),this._publicKey=i,this._autoApprove=!!o.data.params.autoApprove,this.emit("connect",this._publicKey))}else if(o.data.method==="disconnected")this._handleDisconnect();else if((o.data.result||o.data.error)&&this._responsePromises.has(o.data.id)){const[i,c]=this._responsePromises.get(o.data.id);o.data.result?i(o.data.result):c(new Error(o.data.error))}}},this._handleConnect=()=>(this._handlerAdded||(this._handlerAdded=!0,window.addEventListener("message",this._handleMessage),window.addEventListener("beforeunload",this.disconnect)),this._injectedProvider?new Promise(o=>{this._sendRequest("connect",{}),o()}):(window.name="parent",this._popup=window.open(this._providerUrl.toString(),"_blank","location,resizable,width=460,height=675"),new Promise(o=>{this.once("connect",o)}))),this._handleDisconnect=()=>{this._handlerAdded&&(this._handlerAdded=!1,window.removeEventListener("message",this._handleMessage),window.removeEventListener("beforeunload",this.disconnect)),this._publicKey&&(this._publicKey=null,this.emit("disconnect")),this._responsePromises.forEach(([o,i],c)=>{this._responsePromises.delete(c),i("Wallet disconnected")})},this._sendRequest=async function(o,i){if(o!=="connect"&&!n.connected)throw new Error("Wallet not connected");const c=n._nextRequestId;return++n._nextRequestId,new Promise((u,h)=>{n._responsePromises.set(c,[u,h]),n._injectedProvider?n._injectedProvider.postMessage({jsonrpc:"2.0",id:c,method:o,params:{network:n._network,...i}}):(n._popup.postMessage({jsonrpc:"2.0",id:c,method:o,params:i},n._providerUrl.origin),n.autoApprove||n._popup.focus())})},this.connect=()=>(this._popup&&this._popup.close(),this._handleConnect()),this.disconnect=async function(){n._injectedProvider&&await n._sendRequest("disconnect",{}),n._popup&&n._popup.close(),n._handleDisconnect()},this.sign=async function(o,i){if(!(o instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");const c=await n._sendRequest("sign",{data:o,display:i}),u=Wt.decode(c.signature),h=new le(c.publicKey);return{signature:u,publicKey:h}},this.signTransaction=async function(o){const i=await n._sendRequest("signTransaction",{message:Wt.encode(o.serializeMessage())}),c=Wt.decode(i.signature),u=new le(i.publicKey);return o.addSignature(u,c),o},this.signAllTransactions=async function(o){const i=await n._sendRequest("signAllTransactions",{messages:o.map(h=>Wt.encode(h.serializeMessage()))}),c=i.signatures.map(h=>Wt.decode(h)),u=new le(i.publicKey);return o=o.map((h,y)=>(h.addSignature(u,c[y]),h)),o},yy(e))this._injectedProvider=e;else if(gy(e))this._providerUrl=new URL(e),this._providerUrl.hash=new URLSearchParams({origin:window.location.origin,network:t}).toString();else throw new Error("provider parameter must be an injected provider or a URL string.");this._network=t,this._publicKey=null,this._autoApprove=!1,this._popup=null,this._handlerAdded=!1,this._nextRequestId=1,this._responsePromises=new Map}get publicKey(){return this._publicKey}get connected(){return this._publicKey!==null}get autoApprove(){return this._autoApprove}}function gy(r){return typeof r=="string"}function yy(r){return wy(r)&&my(r.postMessage)}function wy(r){return typeof r=="object"&&r!==null}function my(r){return typeof r=="function"}var by=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Sr=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(c){c(i)})}return new(t||(t=Promise))(function(i,c){function u(m){try{y(n.next(m))}catch(x){c(x)}}function h(m){try{y(n.throw(m))}catch(x){c(x)}}function y(m){m.done?i(m.value):o(m.value).then(u,h)}y((n=n.apply(r,e||[])).next())})},Ir=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(y){return function(m){return h([y,m])}}function h(y){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(i=y[0]&2?o.return:y[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,y[1])).done)return i;switch(o=0,i&&(y=[y[0]&2,i.value]),y[0]){case 0:case 1:i=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,o=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!i||y[1]>i[0]&&y[1]<i[3])){t.label=y[1];break}if(y[0]===6&&t.label<i[1]){t.label=i[1],i=y;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(y);break}i[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(r,t)}catch(m){y=[6,m],o=0}finally{n=i=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},vy=function(r){by(e,r);function e(t,n,o){var i=r.call(this)||this;return i._instance=null,i.handleMessage=function(c){},i._sendRequest=function(c,u){return Sr(i,void 0,void 0,function(){return Ir(this,function(h){switch(h.label){case 0:return this._instance.sendRequest?[4,this._instance.sendRequest(c,u)]:[3,2];case 1:return[2,h.sent()];case 2:return this._instance._sendRequest?[4,this._instance._sendRequest(c,u)]:[3,4];case 3:return[2,h.sent()];case 4:throw new Error("Unsupported version of `@project-serum/sol-wallet-adapter`")}})})},i._handleConnect=function(){i.emit("connect")},i._handleDisconnect=function(){window.clearInterval(i._pollTimer),i.emit("disconnect")},i._network=n,i._provider=o,i}return Object.defineProperty(e.prototype,"publicKey",{get:function(){return this._instance.publicKey||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connected",{get:function(){return this._instance.connected||!1},enumerable:!1,configurable:!0}),e.prototype.connect=function(){return Sr(this,void 0,void 0,function(){var t=this;return Ir(this,function(n){switch(n.label){case 0:return this._instance=new py(this._provider,this._network),this._instance.on("connect",this._handleConnect),this._instance.on("disconnect",this._handleDisconnect),this._pollTimer=window.setInterval(function(){var o,i;((i=(o=t._instance)===null||o===void 0?void 0:o._popup)===null||i===void 0?void 0:i.closed)!==!1&&t._handleDisconnect()},200),[4,this._instance.connect()];case 1:return n.sent(),[2]}})})},e.prototype.disconnect=function(){return Sr(this,void 0,void 0,function(){return Ir(this,function(t){switch(t.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return this._instance.removeAllListeners("connect"),this._instance.removeAllListeners("disconnect"),[4,this._instance.disconnect()];case 1:return t.sent(),[2]}})})},e.prototype.signTransaction=function(t){return Sr(this,void 0,void 0,function(){var n;return Ir(this,function(o){switch(o.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._sendRequest("signTransaction",{message:Wt.encode(t)})];case 1:return n=o.sent(),[2,Wt.decode(n.signature)]}})})},e.prototype.signAllTransactions=function(t){return Sr(this,void 0,void 0,function(){var n;return Ir(this,function(o){switch(o.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._sendRequest("signAllTransactions",{messages:t.map(function(i){return Wt.encode(i)})})];case 1:return n=o.sent(),[2,n.signatures.map(function(i){return Wt.decode(i)})]}})})},e.prototype.signMessage=function(t,n){return n===void 0&&(n="hex"),Sr(this,void 0,void 0,function(){var o;return Ir(this,function(i){switch(i.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._instance.sign(t,n)];case 1:return o=i.sent().signature,[2,Uint8Array.from(o)]}})})},e}(fl),Ay=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ta=globalThis&&globalThis.__assign||function(){return ta=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},ta.apply(this,arguments)},oi=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(c){c(i)})}return new(t||(t=Promise))(function(i,c){function u(m){try{y(n.next(m))}catch(x){c(x)}}function h(m){try{y(n.throw(m))}catch(x){c(x)}}function y(m){m.done?i(m.value):o(m.value).then(u,h)}y((n=n.apply(r,e||[])).next())})},si=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(y){return function(m){return h([y,m])}}function h(y){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(i=y[0]&2?o.return:y[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,y[1])).done)return i;switch(o=0,i&&(y=[y[0]&2,i.value]),y[0]){case 0:case 1:i=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,o=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!i||y[1]>i[0]&&y[1]<i[3])){t.label=y[1];break}if(y[0]===6&&t.label<i[1]){t.label=i[1],i=y;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(y);break}i[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(r,t)}catch(m){y=[6,m],o=0}finally{n=i=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Ey=function(r){Ay(e,r);function e(t,n){var o=this,i;return o=r.call(this)||this,o._publicKey=null,o._messageHandlers={},o.handleMessage=function(c){if(o._messageHandlers[c.id]){var u=o._messageHandlers[c.id],h=u.resolve,y=u.reject;delete o._messageHandlers[c.id],c.error?y(c.error):h(c.result)}},o._sendMessage=function(c){if(!o.connected)throw new Error("Wallet not connected");return new Promise(function(u,h){var y,m,x=cu();o._messageHandlers[x]={resolve:u,reject:h},(m=(y=o._iframe)===null||y===void 0?void 0:y.contentWindow)===null||m===void 0||m.postMessage({channel:"solflareWalletAdapterToIframe",data:ta({id:x},c)},"*")})},o._iframe=t,o._publicKey=new le((i=n==null?void 0:n.toString)===null||i===void 0?void 0:i.call(n)),o}return Object.defineProperty(e.prototype,"publicKey",{get:function(){return this._publicKey||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connected",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.connect=function(){return oi(this,void 0,void 0,function(){return si(this,function(t){return[2]})})},e.prototype.disconnect=function(){return oi(this,void 0,void 0,function(){return si(this,function(t){switch(t.label){case 0:return[4,this._sendMessage({method:"disconnect"})];case 1:return t.sent(),[2]}})})},e.prototype.signTransaction=function(t){return oi(this,void 0,void 0,function(){var n,o;return si(this,function(i){switch(i.label){case 0:if(!this.connected)throw new Error("Wallet not connected");i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._sendMessage({method:"signTransaction",params:{message:Wt.encode(t)}})];case 2:return n=i.sent().signature,[2,Wt.decode(n)];case 3:throw o=i.sent(),console.log(o),new Error("Failed to sign transaction");case 4:return[2]}})})},e.prototype.signAllTransactions=function(t){return oi(this,void 0,void 0,function(){var n,o;return si(this,function(i){switch(i.label){case 0:if(!this.connected)throw new Error("Wallet not connected");i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._sendMessage({method:"signAllTransactions",params:{messages:t.map(function(c){return Wt.encode(c)})}})];case 2:return n=i.sent().signatures,[2,n.map(function(c){return Wt.decode(c)})];case 3:throw o=i.sent(),console.log(o),new Error("Failed to sign transactions");case 4:return[2]}})})},e.prototype.signMessage=function(t,n){return n===void 0&&(n="hex"),oi(this,void 0,void 0,function(){var o,i;return si(this,function(c){switch(c.label){case 0:if(!this.connected)throw new Error("Wallet not connected");c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this._sendMessage({method:"signMessage",params:{data:t,display:n}})];case 2:return o=c.sent(),[2,Uint8Array.from(Wt.decode(o))];case 3:throw i=c.sent(),console.log(i),new Error("Failed to sign message");case 4:return[2]}})})},e}(fl);function ao(r){return r.version===void 0}var xy=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tr=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(c){c(i)})}return new(t||(t=Promise))(function(i,c){function u(m){try{y(n.next(m))}catch(x){c(x)}}function h(m){try{y(n.throw(m))}catch(x){c(x)}}function y(m){m.done?i(m.value):o(m.value).then(u,h)}y((n=n.apply(r,e||[])).next())})},nr=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(y){return function(m){return h([y,m])}}function h(y){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(i=y[0]&2?o.return:y[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,y[1])).done)return i;switch(o=0,i&&(y=[y[0]&2,i.value]),y[0]){case 0:case 1:i=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,o=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!i||y[1]>i[0]&&y[1]<i[3])){t.label=y[1];break}if(y[0]===6&&t.label<i[1]){t.label=i[1],i=y;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(y);break}i[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(r,t)}catch(m){y=[6,m],o=0}finally{n=i=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Sy=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Iy=function(r){xy(e,r);function e(t){var n=r.call(this)||this;return n._network="mainnet-beta",n._provider=null,n._adapterInstance=null,n._element=null,n._iframe=null,n._connectHandler=null,n._flutterHandlerInterval=null,n._handleEvent=function(o){var i,c,u;switch(o.type){case"connect_native_web":{n._collapseIframe(),n._adapterInstance=new vy(n._iframe,n._network,((i=o.data)===null||i===void 0?void 0:i.provider)||n._provider||"https://solflare.com/provider"),n._adapterInstance.on("connect",n._webConnected),n._adapterInstance.on("disconnect",n._webDisconnected),n._adapterInstance.connect(),n._setPreferredAdapter("native_web");return}case"connect":{n._collapseIframe(),n._adapterInstance=new Ey(n._iframe,((c=o.data)===null||c===void 0?void 0:c.publicKey)||""),n._adapterInstance.connect(),n._setPreferredAdapter((u=o.data)===null||u===void 0?void 0:u.adapter),n._connectHandler&&(n._connectHandler.resolve(),n._connectHandler=null),n.emit("connect",n.publicKey);return}case"disconnect":{n._connectHandler&&(n._connectHandler.reject(),n._connectHandler=null),n._disconnected(),n.emit("disconnect");return}case"collapse":{n._collapseIframe();return}default:return}},n._handleResize=function(o){o.resizeMode==="full"?o.params.mode==="fullscreen"?n._expandIframe():o.params.mode==="hide"&&n._collapseIframe():o.resizeMode==="coordinates"&&n._iframe&&(n._iframe.style.top=isFinite(o.params.top)?"".concat(o.params.top,"px"):"",n._iframe.style.bottom=isFinite(o.params.bottom)?"".concat(o.params.bottom,"px"):"",n._iframe.style.left=isFinite(o.params.left)?"".concat(o.params.left,"px"):"",n._iframe.style.right=isFinite(o.params.right)?"".concat(o.params.right,"px"):"",n._iframe.style.width=isFinite(o.params.width)?"".concat(o.params.width,"px"):o.params.width,n._iframe.style.height=isFinite(o.params.height)?"".concat(o.params.height,"px"):o.params.height)},n._handleMessage=function(o){var i;if(((i=o.data)===null||i===void 0?void 0:i.channel)==="solflareIframeToWalletAdapter"){var c=o.data.data||{};c.type==="event"?n._handleEvent(c.event):c.type==="resize"?n._handleResize(c):c.type==="response"&&n._adapterInstance&&n._adapterInstance.handleMessage(c)}},n._removeElement=function(){n._flutterHandlerInterval!==null&&(clearInterval(n._flutterHandlerInterval),n._flutterHandlerInterval=null),n._element&&(n._element.remove(),n._element=null)},n._removeDanglingElements=function(){var o,i,c=document.getElementsByClassName("solflare-wallet-adapter-iframe");try{for(var u=Sy(c),h=u.next();!h.done;h=u.next()){var y=h.value;y.parentElement&&y.remove()}}catch(m){o={error:m}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}},n._injectElement=function(){n._removeElement(),n._removeDanglingElements();var o="".concat(e.IFRAME_URL,"?cluster=").concat(encodeURIComponent(n._network),"&origin=").concat(encodeURIComponent(window.location.origin),"&version=1"),i=n._getPreferredAdapter();i&&(o+="&adapter=".concat(encodeURIComponent(i))),n._element=document.createElement("div"),n._element.className="solflare-wallet-adapter-iframe",n._element.innerHTML=`
      <iframe src='`.concat(o,`' style='position: fixed; top: 0; bottom: 0; left: 0; right: 0; width: 100%; height: 100%; border: none; border-radius: 0; z-index: 99999; color-scheme: auto;' allowtransparency='true'></iframe>
    `),document.body.appendChild(n._element),n._iframe=n._element.querySelector("iframe"),window.fromFlutter=n._handleMobileMessage,n._flutterHandlerInterval=setInterval(function(){window.fromFlutter=n._handleMobileMessage},100),window.addEventListener("message",n._handleMessage,!1)},n._collapseIframe=function(){n._iframe&&(n._iframe.style.top="",n._iframe.style.right="",n._iframe.style.height="2px",n._iframe.style.width="2px")},n._expandIframe=function(){n._iframe&&(n._iframe.style.top="0px",n._iframe.style.bottom="0px",n._iframe.style.left="0px",n._iframe.style.right="0px",n._iframe.style.width="100%",n._iframe.style.height="100%")},n._getPreferredAdapter=function(){return localStorage&&localStorage.getItem("solflarePreferredWalletAdapter")||null},n._setPreferredAdapter=function(o){localStorage&&o&&localStorage.setItem("solflarePreferredWalletAdapter",o)},n._clearPreferredAdapter=function(){localStorage&&localStorage.removeItem("solflarePreferredWalletAdapter")},n._webConnected=function(){n._connectHandler&&(n._connectHandler.resolve(),n._connectHandler=null),n.emit("connect",n.publicKey)},n._webDisconnected=function(){n._connectHandler&&(n._connectHandler.reject(),n._connectHandler=null),n._disconnected(),n.emit("disconnect")},n._disconnected=function(){window.removeEventListener("message",n._handleMessage,!1),n._removeElement(),n._clearPreferredAdapter(),n._adapterInstance=null},n._handleMobileMessage=function(o){var i,c;(c=(i=n._iframe)===null||i===void 0?void 0:i.contentWindow)===null||c===void 0||c.postMessage({channel:"solflareMobileToIframe",data:o},"*")},t!=null&&t.network&&(n._network=t==null?void 0:t.network),t!=null&&t.provider&&(n._provider=t==null?void 0:t.provider),n}return Object.defineProperty(e.prototype,"publicKey",{get:function(){var t;return((t=this._adapterInstance)===null||t===void 0?void 0:t.publicKey)||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isConnected",{get:function(){var t;return!!(!((t=this._adapterInstance)===null||t===void 0)&&t.connected)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connected",{get:function(){return this.isConnected},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoApprove",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.connect=function(){return tr(this,void 0,void 0,function(){var t=this;return nr(this,function(n){switch(n.label){case 0:return this.connected?[2]:(this._injectElement(),[4,new Promise(function(o,i){t._connectHandler={resolve:o,reject:i}})]);case 1:return n.sent(),[2]}})})},e.prototype.disconnect=function(){return tr(this,void 0,void 0,function(){return nr(this,function(t){switch(t.label){case 0:return this._adapterInstance?[4,this._adapterInstance.disconnect()]:[2];case 1:return t.sent(),this._disconnected(),this.emit("disconnect"),[2]}})})},e.prototype.signTransaction=function(t){return tr(this,void 0,void 0,function(){var n,o,i,c,u=this;return nr(this,function(h){switch(h.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return n=ao(t)?t.serializeMessage():t.message.serialize(),[4,this._adapterInstance.signTransaction(n)];case 1:return o=h.sent(),ao(t)?t.addSignature(this.publicKey,Buffer.from(o)):(i=t.message.staticAccountKeys.slice(0,t.message.header.numRequiredSignatures),c=i.findIndex(function(y){return y.equals(u.publicKey)}),c>=0&&(t.signatures[c]=o)),[2,t]}})})},e.prototype.signAllTransactions=function(t){return tr(this,void 0,void 0,function(){var n,o,i,c,u,h,y=this;return nr(this,function(m){switch(m.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return n=t.map(function(x){return ao(x)?x.serializeMessage():x.message.serialize()}),[4,this._adapterInstance.signAllTransactions(n)];case 1:for(o=m.sent(),i=0;i<t.length;i++)c=t[i],ao(c)?c.addSignature(this.publicKey,Buffer.from(o[i])):(u=c.message.staticAccountKeys.slice(0,c.message.header.numRequiredSignatures),h=u.findIndex(function(x){return x.equals(y.publicKey)}),h>=0&&(c.signatures[h]=o[i]));return[2,t]}})})},e.prototype.signMessage=function(t,n){return n===void 0&&(n="utf8"),tr(this,void 0,void 0,function(){return nr(this,function(o){switch(o.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._adapterInstance.signMessage(t,n)];case 1:return[2,o.sent()]}})})},e.prototype.sign=function(t,n){return n===void 0&&(n="utf8"),tr(this,void 0,void 0,function(){return nr(this,function(o){switch(o.label){case 0:return[4,this.signMessage(t,n)];case 1:return[2,o.sent()]}})})},e.prototype.detectWallet=function(t){var n;return t===void 0&&(t=10),tr(this,void 0,void 0,function(){return nr(this,function(o){return window.SolflareApp||((n=window.solflare)===null||n===void 0?void 0:n.isSolflare)?[2,!0]:[2,new Promise(function(i){var c,u;c=setInterval(function(){var h;(window.SolflareApp||((h=window.solflare)===null||h===void 0?void 0:h.isSolflare))&&(clearInterval(c),clearTimeout(u),i(!0))},500),u=setTimeout(function(){clearInterval(c),i(!1)},t*1e3)})]})})},e.IFRAME_URL="https://connect.solflare.com/",e}(Oi);const _y=Object.freeze(Object.defineProperty({__proto__:null,default:Iy},Symbol.toStringTag,{value:"Module"}));return cy});
