(function(Y,sr){typeof exports=="object"&&typeof module<"u"?module.exports=sr(require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["react","react-dom"],sr):(Y=typeof globalThis<"u"?globalThis:Y||self,Y.HypeDayReact=sr(Y.React,Y.ReactDOM))})(this,function(Y,sr){"use strict";const O=(r=>r&&typeof r=="object"&&"default"in r?r:{default:r})(Y),or="https://api.hype.day",Sn=new Headers({"Content-Type":"application/json"});function Zc(r){r?Sn.set("Authorization",`Bearer ${r}`):Sn.delete("Authorization")}function ar(r){return r.text().then(e=>{if(e==="OK")return e;const t=e&&JSON.parse(e);if(!r.ok){const n=t&&t.message||r.statusText;return Promise.reject(n)}return t})}function Xc({appId:r,projectId:e}){const t={method:"GET",headers:Sn};return fetch(`${or}/getProject?`+new URLSearchParams({appid:r,projectid:e}),t).then(ar)}function Jc(r){const e="solana",t={method:"POST",headers:Sn,body:JSON.stringify({chain:e,...r})};return fetch(`${or}/addWallet`,t).then(ar)}function $c(r){const e="solana",t={method:"POST",headers:Sn,body:JSON.stringify({chain:e,...r})};return fetch(`${or}/verifyWallet`,t).then(ar)}function Mo({provider:r,appId:e,projectId:t,returnUrl:n}){const s={method:"POST",headers:Sn,body:JSON.stringify({appId:e,projectId:t,returnUrl:n})};return fetch(`${or}/${r==="twitter"?"t":"d"}GetUrlForApp`,s).then(ar)}function eu({appId:r,projectId:e,customField:t}){const n={method:"POST",headers:Sn,body:JSON.stringify({appId:r,projectId:e,customField:t})};return fetch(`${or}/validateForAppProject`,n).then(ar)}function ki({title:r,rightText:e,buttonDisabled:t=!1,onClick:n,info:s,isLoading:i=!1,showButton:c=!0}){return O.default.createElement("section",{className:"hypeday-section"},O.default.createElement("header",{className:"hypeday-section-header"},O.default.createElement("h3",{className:"hypeday-h3"},r),c&&O.default.createElement("button",{className:"hypeday-button",onClick:n,disabled:i||t,title:t?"Please login first":void 0},i&&O.default.createElement("div",{className:"hypeday-spinner hypeday-btn-spinner"}),O.default.createElement("span",{style:{visibility:i?"hidden":"initial"}},e||"Connect"))),s.map((u,h)=>O.default.createElement("span",{key:h,className:"hypeday-info"},u)))}function tu({projectData:r,appId:e,hasUser:t}){var u,h,w,m;const[n,s]=Y.useState(!1),i=Y.useMemo(()=>{var T,C;if(!((T=r==null?void 0:r.discord)!=null&&T.enabled)&&!((C=r==null?void 0:r.discord2)!=null&&C.enabled))return[];const{discord:I,discord2:N}=r,B=[];I!=null&&I.enabled&&B.push(I),N!=null&&N.enabled&&B.push(N);const k=[];return B.forEach(U=>{var D;if(U.isServerRequired){const L=O.default.createElement(O.default.Fragment,null,"Join the"," ",O.default.createElement("a",{href:U==null?void 0:U.serverLink,target:"_blank",rel:"noreferrer"},O.default.createElement("strong",null,U==null?void 0:U.serverDisplayName))," ","server on Discord",U.isShouldJoinBeforeRequired?O.default.createElement(O.default.Fragment,null," ","before"," ",O.default.createElement("strong",null,new Date((U==null?void 0:U.shouldJoinBefore)||"").toLocaleString())):null);k.push(L)}if(U.isRoleRequired){const L=O.default.createElement(O.default.Fragment,null,'and have the "',(D=U==null?void 0:U.roleDisplayNames)==null?void 0:D.join(", "),'" role(s)');k.push(L)}}),k},[r]),c=async()=>{if(!(!e||!t||!(r!=null&&r.id)))try{s(!0);const{url:I}=await Mo({provider:"discord",appId:e,projectId:r.id,returnUrl:window.location.href});window.location.assign(I)}catch(I){console.error(I)}finally{s(!1)}};return!((u=r==null?void 0:r.discord)!=null&&u.enabled)&&!((h=r==null?void 0:r.discord2)!=null&&h.enabled)?null:O.default.createElement(ki,{title:"Discord",onClick:c,info:i,rightText:(m=(w=r==null?void 0:r.userInfo)==null?void 0:w.discord)==null?void 0:m.username,buttonDisabled:!t,isLoading:n})}const nu=O.default.forwardRef(function({projectData:e},t){var s;if(!((s=e==null?void 0:e.customfield)!=null&&s.enabled))return null;const{customfield:n}=e;return O.default.createElement("section",{className:"hypeday-section"},O.default.createElement("header",{className:"hypeday-section-header"},O.default.createElement("h3",{className:"hypeday-h3"},"Open Response")),O.default.createElement("span",{className:"hypeday-info"},n.labels[0]),O.default.createElement("input",{className:"hypeday-input",type:"text",placeholder:n.labels[0],ref:t}))});function _o({dateString:r,message:e}){const[t,n]=Y.useState(!1),[s,i]=Y.useState(0),[c,u]=Y.useState(0),[h,w]=Y.useState(0),[m,I]=Y.useState(0);return Y.useEffect(()=>{const N=new Date(r).getTime(),B=setInterval(()=>{const k=new Date().getTime(),T=N-k,C=Math.floor(T/(1e3*60*60*24)),U=Math.floor(T%(1e3*60*60*24)/(1e3*60*60)),D=Math.floor(T%(1e3*60*60)/(1e3*60)),L=Math.floor(T%(1e3*60)/1e3);if(T<=0){clearInterval(B),n(!0),i(0),u(0),w(0),I(0);return}i(C),u(U),w(D),I(L)},1e3);return()=>clearInterval(B)},[r]),!t&&!s&&!c&&!h&&!m?O.default.createElement("span",{style:{visibility:"hidden"}},"Calculating.."):t?O.default.createElement(O.default.Fragment,null,e):O.default.createElement(O.default.Fragment,null,s>0&&`${s} days, `,c>0&&`${c} hours, `,h>0&&`${h} minutes, `,m>0&&`${m} seconds`)}function Ci({children:r,title:e}){return O.default.createElement("section",{className:"hypeday-section"},O.default.createElement("header",{className:"hypeday-section-header"},O.default.createElement("h3",{className:"hypeday-h3"},e)),O.default.createElement("span",{className:"hypeday-info"},r))}function ru({projectData:r}){var s,i,c,u,h,w,m,I,N,B,k,T;const[e,t]=Y.useState(),n=((s=r==null?void 0:r.signupAccess)==null?void 0:s.isEndDateRequired)&&((i=r==null?void 0:r.signupAccess)==null?void 0:i.endDate)&&new Date((c=r==null?void 0:r.signupAccess)==null?void 0:c.endDate).getTime()<Date.now();return Y.useEffect(()=>{var C,U,D,L;(C=r==null?void 0:r.signupAccess)!=null&&C.isStartDateRequired&&t(!!(((U=r==null?void 0:r.signupAccess)==null?void 0:U.isStartDateRequired)&&((D=r==null?void 0:r.signupAccess)==null?void 0:D.startDate)&&new Date((L=r==null?void 0:r.signupAccess)==null?void 0:L.startDate).getTime()>Date.now()))},[r]),Y.useEffect(()=>{var C,U;if(e&&((C=r==null?void 0:r.signupAccess)==null?void 0:C.startDate)){const D=setTimeout(()=>t(!1),new Date((U=r==null?void 0:r.signupAccess)==null?void 0:U.startDate).getTime()-Date.now());return()=>clearTimeout(D)}},[e,(u=r==null?void 0:r.signupAccess)==null?void 0:u.startDate]),n&&((h=r.signupAccess)==null?void 0:h.endDate)?O.default.createElement(Ci,{title:"Registration is closed"},"Registration is closed on"," ",(m=new Date((w=r.signupAccess)==null?void 0:w.endDate))==null?void 0:m.toUTCString(),". Thank you for your interest."):e&&((I=r==null?void 0:r.signupAccess)==null?void 0:I.startDate)?O.default.createElement(Ci,{title:"Registration starts in:"},O.default.createElement(_o,{dateString:(N=r==null?void 0:r.signupAccess)==null?void 0:N.startDate,message:"Registration is open."})):!n&&!e&&((B=r==null?void 0:r.signupAccess)==null?void 0:B.isEndDateRequired)&&((k=r==null?void 0:r.signupAccess)==null?void 0:k.endDate)?O.default.createElement(Ci,{title:"Registration ends in:"},O.default.createElement(_o,{dateString:(T=r==null?void 0:r.signupAccess)==null?void 0:T.endDate,message:"Registration is closed."})):null}function iu({projectData:r,appId:e,hasUser:t}){var u,h,w;const[n,s]=Y.useState(!1),i=Y.useMemo(()=>{var N,B;if(!((N=r==null?void 0:r.twitter)!=null&&N.enabled))return[];const{twitter:m}=r,I=[];if(m!=null&&m.isAccountCreatedRequired){const k=O.default.createElement(O.default.Fragment,null,"Have an account created before"," ",O.default.createElement("strong",null,new Date((m==null?void 0:m.accountCreated)||"").toLocaleDateString()));I.push(k)}if(m!=null&&m.isFollowRequired){const k=(B=m==null?void 0:m.follow)==null?void 0:B.split(","),T=O.default.createElement(O.default.Fragment,null,"Follow these account(s):",O.default.createElement("ul",null,k==null?void 0:k.map(C=>O.default.createElement("li",{key:C},O.default.createElement("a",{href:`https://twitter.com/${C.trim()}`,target:"_blank",rel:"noreferrer"},O.default.createElement("strong",null,"@",C))))));I.push(T)}if(m!=null&&m.isMinFollowersRequired){const k=O.default.createElement(O.default.Fragment,null,"Have at least ",O.default.createElement("b",null,m.minFollowers," follower(s)"));I.push(k)}if(m!=null&&m.isRetweetRequired){const k=O.default.createElement(O.default.Fragment,null,"Retweet"," ",O.default.createElement("a",{href:m.retweetUrl,target:"_blank",rel:"noreferrer"},O.default.createElement("strong",null,"this tweet")));I.push(k)}return I},[r]),c=async()=>{if(!(!e||!t||!(r!=null&&r.id)))try{s(!0);const{url:m}=await Mo({provider:"twitter",appId:e,projectId:r.id,returnUrl:window.location.href});window.location.assign(m)}catch(m){console.error(m)}finally{s(!1)}};return(u=r==null?void 0:r.twitter)!=null&&u.enabled?O.default.createElement(ki,{title:"Twitter",onClick:c,info:i,rightText:(w=(h=r==null?void 0:r.userInfo)==null?void 0:h.twitter)==null?void 0:w.username,buttonDisabled:!t,isLoading:n}):null}var Vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ni(r){var e=r.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var s=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return r[n]}})}),t}var pe={},cr={};cr.byteLength=au,cr.toByteArray=uu,cr.fromByteArray=hu;for(var $t=[],Gt=[],su=typeof Uint8Array<"u"?Uint8Array:Array,Li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zn=0,ou=Li.length;zn<ou;++zn)$t[zn]=Li[zn],Gt[Li.charCodeAt(zn)]=zn;Gt["-".charCodeAt(0)]=62,Gt["_".charCodeAt(0)]=63;function To(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function au(r){var e=To(r),t=e[0],n=e[1];return(t+n)*3/4-n}function cu(r,e,t){return(e+t)*3/4-t}function uu(r){var e,t=To(r),n=t[0],s=t[1],i=new su(cu(r,n,s)),c=0,u=s>0?n-4:n,h;for(h=0;h<u;h+=4)e=Gt[r.charCodeAt(h)]<<18|Gt[r.charCodeAt(h+1)]<<12|Gt[r.charCodeAt(h+2)]<<6|Gt[r.charCodeAt(h+3)],i[c++]=e>>16&255,i[c++]=e>>8&255,i[c++]=e&255;return s===2&&(e=Gt[r.charCodeAt(h)]<<2|Gt[r.charCodeAt(h+1)]>>4,i[c++]=e&255),s===1&&(e=Gt[r.charCodeAt(h)]<<10|Gt[r.charCodeAt(h+1)]<<4|Gt[r.charCodeAt(h+2)]>>2,i[c++]=e>>8&255,i[c++]=e&255),i}function lu(r){return $t[r>>18&63]+$t[r>>12&63]+$t[r>>6&63]+$t[r&63]}function fu(r,e,t){for(var n,s=[],i=e;i<t;i+=3)n=(r[i]<<16&16711680)+(r[i+1]<<8&65280)+(r[i+2]&255),s.push(lu(n));return s.join("")}function hu(r){for(var e,t=r.length,n=t%3,s=[],i=16383,c=0,u=t-n;c<u;c+=i)s.push(fu(r,c,c+i>u?u:c+i));return n===1?(e=r[t-1],s.push($t[e>>2]+$t[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],s.push($t[e>>10]+$t[e>>4&63]+$t[e<<2&63]+"=")),s.join("")}var Fr={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Fr.read=function(r,e,t,n,s){var i,c,u=s*8-n-1,h=(1<<u)-1,w=h>>1,m=-7,I=t?s-1:0,N=t?-1:1,B=r[e+I];for(I+=N,i=B&(1<<-m)-1,B>>=-m,m+=u;m>0;i=i*256+r[e+I],I+=N,m-=8);for(c=i&(1<<-m)-1,i>>=-m,m+=n;m>0;c=c*256+r[e+I],I+=N,m-=8);if(i===0)i=1-w;else{if(i===h)return c?NaN:(B?-1:1)*(1/0);c=c+Math.pow(2,n),i=i-w}return(B?-1:1)*c*Math.pow(2,i-n)},Fr.write=function(r,e,t,n,s,i){var c,u,h,w=i*8-s-1,m=(1<<w)-1,I=m>>1,N=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,B=n?0:i-1,k=n?1:-1,T=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,c=m):(c=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-c))<1&&(c--,h*=2),c+I>=1?e+=N/h:e+=N*Math.pow(2,1-I),e*h>=2&&(c++,h/=2),c+I>=m?(u=0,c=m):c+I>=1?(u=(e*h-1)*Math.pow(2,s),c=c+I):(u=e*Math.pow(2,I-1)*Math.pow(2,s),c=0));s>=8;r[t+B]=u&255,B+=k,u/=256,s-=8);for(c=c<<s|u,w+=s;w>0;r[t+B]=c&255,B+=k,c/=256,w-=8);r[t+B-k]|=T*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=cr,t=Fr,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=u,r.SlowBuffer=D,r.INSPECT_MAX_BYTES=50;const s=2147483647;r.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=i(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const f=new Uint8Array(1),o={foo:function(){return 42}};return Object.setPrototypeOf(o,Uint8Array.prototype),Object.setPrototypeOf(f,o),f.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function c(f){if(f>s)throw new RangeError('The value "'+f+'" is invalid for option "size"');const o=new Uint8Array(f);return Object.setPrototypeOf(o,u.prototype),o}function u(f,o,a){if(typeof f=="number"){if(typeof o=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return I(f)}return h(f,o,a)}u.poolSize=8192;function h(f,o,a){if(typeof f=="string")return N(f,o);if(ArrayBuffer.isView(f))return k(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(Ge(f,ArrayBuffer)||f&&Ge(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ge(f,SharedArrayBuffer)||f&&Ge(f.buffer,SharedArrayBuffer)))return T(f,o,a);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const d=f.valueOf&&f.valueOf();if(d!=null&&d!==f)return u.from(d,o,a);const y=C(f);if(y)return y;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return u.from(f[Symbol.toPrimitive]("string"),o,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}u.from=function(f,o,a){return h(f,o,a)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function w(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function m(f,o,a){return w(f),f<=0?c(f):o!==void 0?typeof a=="string"?c(f).fill(o,a):c(f).fill(o):c(f)}u.alloc=function(f,o,a){return m(f,o,a)};function I(f){return w(f),c(f<0?0:U(f)|0)}u.allocUnsafe=function(f){return I(f)},u.allocUnsafeSlow=function(f){return I(f)};function N(f,o){if((typeof o!="string"||o==="")&&(o="utf8"),!u.isEncoding(o))throw new TypeError("Unknown encoding: "+o);const a=L(f,o)|0;let d=c(a);const y=d.write(f,o);return y!==a&&(d=d.slice(0,y)),d}function B(f){const o=f.length<0?0:U(f.length)|0,a=c(o);for(let d=0;d<o;d+=1)a[d]=f[d]&255;return a}function k(f){if(Ge(f,Uint8Array)){const o=new Uint8Array(f);return T(o.buffer,o.byteOffset,o.byteLength)}return B(f)}function T(f,o,a){if(o<0||f.byteLength<o)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<o+(a||0))throw new RangeError('"length" is outside of buffer bounds');let d;return o===void 0&&a===void 0?d=new Uint8Array(f):a===void 0?d=new Uint8Array(f,o):d=new Uint8Array(f,o,a),Object.setPrototypeOf(d,u.prototype),d}function C(f){if(u.isBuffer(f)){const o=U(f.length)|0,a=c(o);return a.length===0||f.copy(a,0,0,o),a}if(f.length!==void 0)return typeof f.length!="number"||Ne(f.length)?c(0):B(f);if(f.type==="Buffer"&&Array.isArray(f.data))return B(f.data)}function U(f){if(f>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return f|0}function D(f){return+f!=f&&(f=0),u.alloc(+f)}u.isBuffer=function(o){return o!=null&&o._isBuffer===!0&&o!==u.prototype},u.compare=function(o,a){if(Ge(o,Uint8Array)&&(o=u.from(o,o.offset,o.byteLength)),Ge(a,Uint8Array)&&(a=u.from(a,a.offset,a.byteLength)),!u.isBuffer(o)||!u.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(o===a)return 0;let d=o.length,y=a.length;for(let b=0,_=Math.min(d,y);b<_;++b)if(o[b]!==a[b]){d=o[b],y=a[b];break}return d<y?-1:y<d?1:0},u.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(o,a){if(!Array.isArray(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return u.alloc(0);let d;if(a===void 0)for(a=0,d=0;d<o.length;++d)a+=o[d].length;const y=u.allocUnsafe(a);let b=0;for(d=0;d<o.length;++d){let _=o[d];if(Ge(_,Uint8Array))b+_.length>y.length?(u.isBuffer(_)||(_=u.from(_)),_.copy(y,b)):Uint8Array.prototype.set.call(y,_,b);else if(u.isBuffer(_))_.copy(y,b);else throw new TypeError('"list" argument must be an Array of Buffers');b+=_.length}return y};function L(f,o){if(u.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||Ge(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);const a=f.length,d=arguments.length>2&&arguments[2]===!0;if(!d&&a===0)return 0;let y=!1;for(;;)switch(o){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return Ce(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return Fe(f).length;default:if(y)return d?-1:Ce(f).length;o=(""+o).toLowerCase(),y=!0}}u.byteLength=L;function z(f,o,a){let d=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,o>>>=0,a<=o))return"";for(f||(f="utf8");;)switch(f){case"hex":return R(this,o,a);case"utf8":case"utf-8":return l(this,o,a);case"ascii":return x(this,o,a);case"latin1":case"binary":return S(this,o,a);case"base64":return E(this,o,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,o,a);default:if(d)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),d=!0}}u.prototype._isBuffer=!0;function P(f,o,a){const d=f[o];f[o]=f[a],f[a]=d}u.prototype.swap16=function(){const o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let a=0;a<o;a+=2)P(this,a,a+1);return this},u.prototype.swap32=function(){const o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let a=0;a<o;a+=4)P(this,a,a+3),P(this,a+1,a+2);return this},u.prototype.swap64=function(){const o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let a=0;a<o;a+=8)P(this,a,a+7),P(this,a+1,a+6),P(this,a+2,a+5),P(this,a+3,a+4);return this},u.prototype.toString=function(){const o=this.length;return o===0?"":arguments.length===0?l(this,0,o):z.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(o){if(!u.isBuffer(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:u.compare(this,o)===0},u.prototype.inspect=function(){let o="";const a=r.INSPECT_MAX_BYTES;return o=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(o+=" ... "),"<Buffer "+o+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(o,a,d,y,b){if(Ge(o,Uint8Array)&&(o=u.from(o,o.offset,o.byteLength)),!u.isBuffer(o))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof o);if(a===void 0&&(a=0),d===void 0&&(d=o?o.length:0),y===void 0&&(y=0),b===void 0&&(b=this.length),a<0||d>o.length||y<0||b>this.length)throw new RangeError("out of range index");if(y>=b&&a>=d)return 0;if(y>=b)return-1;if(a>=d)return 1;if(a>>>=0,d>>>=0,y>>>=0,b>>>=0,this===o)return 0;let _=b-y,V=d-a;const ee=Math.min(_,V),$=this.slice(y,b),fe=o.slice(a,d);for(let Z=0;Z<ee;++Z)if($[Z]!==fe[Z]){_=$[Z],V=fe[Z];break}return _<V?-1:V<_?1:0};function W(f,o,a,d,y){if(f.length===0)return-1;if(typeof a=="string"?(d=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,Ne(a)&&(a=y?0:f.length-1),a<0&&(a=f.length+a),a>=f.length){if(y)return-1;a=f.length-1}else if(a<0)if(y)a=0;else return-1;if(typeof o=="string"&&(o=u.from(o,d)),u.isBuffer(o))return o.length===0?-1:Q(f,o,a,d,y);if(typeof o=="number")return o=o&255,typeof Uint8Array.prototype.indexOf=="function"?y?Uint8Array.prototype.indexOf.call(f,o,a):Uint8Array.prototype.lastIndexOf.call(f,o,a):Q(f,[o],a,d,y);throw new TypeError("val must be string, number or Buffer")}function Q(f,o,a,d,y){let b=1,_=f.length,V=o.length;if(d!==void 0&&(d=String(d).toLowerCase(),d==="ucs2"||d==="ucs-2"||d==="utf16le"||d==="utf-16le")){if(f.length<2||o.length<2)return-1;b=2,_/=2,V/=2,a/=2}function ee(fe,Z){return b===1?fe[Z]:fe.readUInt16BE(Z*b)}let $;if(y){let fe=-1;for($=a;$<_;$++)if(ee(f,$)===ee(o,fe===-1?0:$-fe)){if(fe===-1&&(fe=$),$-fe+1===V)return fe*b}else fe!==-1&&($-=$-fe),fe=-1}else for(a+V>_&&(a=_-V),$=a;$>=0;$--){let fe=!0;for(let Z=0;Z<V;Z++)if(ee(f,$+Z)!==ee(o,Z)){fe=!1;break}if(fe)return $}return-1}u.prototype.includes=function(o,a,d){return this.indexOf(o,a,d)!==-1},u.prototype.indexOf=function(o,a,d){return W(this,o,a,d,!0)},u.prototype.lastIndexOf=function(o,a,d){return W(this,o,a,d,!1)};function j(f,o,a,d){a=Number(a)||0;const y=f.length-a;d?(d=Number(d),d>y&&(d=y)):d=y;const b=o.length;d>b/2&&(d=b/2);let _;for(_=0;_<d;++_){const V=parseInt(o.substr(_*2,2),16);if(Ne(V))return _;f[a+_]=V}return _}function me(f,o,a,d){return _e(Ce(o,f.length-a),f,a,d)}function Le(f,o,a,d){return _e(He(o),f,a,d)}function ge(f,o,a,d){return _e(Fe(o),f,a,d)}function Re(f,o,a,d){return _e(ir(o,f.length-a),f,a,d)}u.prototype.write=function(o,a,d,y){if(a===void 0)y="utf8",d=this.length,a=0;else if(d===void 0&&typeof a=="string")y=a,d=this.length,a=0;else if(isFinite(a))a=a>>>0,isFinite(d)?(d=d>>>0,y===void 0&&(y="utf8")):(y=d,d=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const b=this.length-a;if((d===void 0||d>b)&&(d=b),o.length>0&&(d<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");y||(y="utf8");let _=!1;for(;;)switch(y){case"hex":return j(this,o,a,d);case"utf8":case"utf-8":return me(this,o,a,d);case"ascii":case"latin1":case"binary":return Le(this,o,a,d);case"base64":return ge(this,o,a,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Re(this,o,a,d);default:if(_)throw new TypeError("Unknown encoding: "+y);y=(""+y).toLowerCase(),_=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(f,o,a){return o===0&&a===f.length?e.fromByteArray(f):e.fromByteArray(f.slice(o,a))}function l(f,o,a){a=Math.min(f.length,a);const d=[];let y=o;for(;y<a;){const b=f[y];let _=null,V=b>239?4:b>223?3:b>191?2:1;if(y+V<=a){let ee,$,fe,Z;switch(V){case 1:b<128&&(_=b);break;case 2:ee=f[y+1],(ee&192)===128&&(Z=(b&31)<<6|ee&63,Z>127&&(_=Z));break;case 3:ee=f[y+1],$=f[y+2],(ee&192)===128&&($&192)===128&&(Z=(b&15)<<12|(ee&63)<<6|$&63,Z>2047&&(Z<55296||Z>57343)&&(_=Z));break;case 4:ee=f[y+1],$=f[y+2],fe=f[y+3],(ee&192)===128&&($&192)===128&&(fe&192)===128&&(Z=(b&15)<<18|(ee&63)<<12|($&63)<<6|fe&63,Z>65535&&Z<1114112&&(_=Z))}}_===null?(_=65533,V=1):_>65535&&(_-=65536,d.push(_>>>10&1023|55296),_=56320|_&1023),d.push(_),y+=V}return A(d)}const g=4096;function A(f){const o=f.length;if(o<=g)return String.fromCharCode.apply(String,f);let a="",d=0;for(;d<o;)a+=String.fromCharCode.apply(String,f.slice(d,d+=g));return a}function x(f,o,a){let d="";a=Math.min(f.length,a);for(let y=o;y<a;++y)d+=String.fromCharCode(f[y]&127);return d}function S(f,o,a){let d="";a=Math.min(f.length,a);for(let y=o;y<a;++y)d+=String.fromCharCode(f[y]);return d}function R(f,o,a){const d=f.length;(!o||o<0)&&(o=0),(!a||a<0||a>d)&&(a=d);let y="";for(let b=o;b<a;++b)y+=We[f[b]];return y}function F(f,o,a){const d=f.slice(o,a);let y="";for(let b=0;b<d.length-1;b+=2)y+=String.fromCharCode(d[b]+d[b+1]*256);return y}u.prototype.slice=function(o,a){const d=this.length;o=~~o,a=a===void 0?d:~~a,o<0?(o+=d,o<0&&(o=0)):o>d&&(o=d),a<0?(a+=d,a<0&&(a=0)):a>d&&(a=d),a<o&&(a=o);const y=this.subarray(o,a);return Object.setPrototypeOf(y,u.prototype),y};function v(f,o,a){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+o>a)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(o,a,d){o=o>>>0,a=a>>>0,d||v(o,a,this.length);let y=this[o],b=1,_=0;for(;++_<a&&(b*=256);)y+=this[o+_]*b;return y},u.prototype.readUintBE=u.prototype.readUIntBE=function(o,a,d){o=o>>>0,a=a>>>0,d||v(o,a,this.length);let y=this[o+--a],b=1;for(;a>0&&(b*=256);)y+=this[o+--a]*b;return y},u.prototype.readUint8=u.prototype.readUInt8=function(o,a){return o=o>>>0,a||v(o,1,this.length),this[o]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(o,a){return o=o>>>0,a||v(o,2,this.length),this[o]|this[o+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(o,a){return o=o>>>0,a||v(o,2,this.length),this[o]<<8|this[o+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(o,a){return o=o>>>0,a||v(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(o,a){return o=o>>>0,a||v(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])},u.prototype.readBigUInt64LE=tt(function(o){o=o>>>0,Ct(o,"offset");const a=this[o],d=this[o+7];(a===void 0||d===void 0)&&Ie(o,this.length-8);const y=a+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24,b=this[++o]+this[++o]*2**8+this[++o]*2**16+d*2**24;return BigInt(y)+(BigInt(b)<<BigInt(32))}),u.prototype.readBigUInt64BE=tt(function(o){o=o>>>0,Ct(o,"offset");const a=this[o],d=this[o+7];(a===void 0||d===void 0)&&Ie(o,this.length-8);const y=a*2**24+this[++o]*2**16+this[++o]*2**8+this[++o],b=this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+d;return(BigInt(y)<<BigInt(32))+BigInt(b)}),u.prototype.readIntLE=function(o,a,d){o=o>>>0,a=a>>>0,d||v(o,a,this.length);let y=this[o],b=1,_=0;for(;++_<a&&(b*=256);)y+=this[o+_]*b;return b*=128,y>=b&&(y-=Math.pow(2,8*a)),y},u.prototype.readIntBE=function(o,a,d){o=o>>>0,a=a>>>0,d||v(o,a,this.length);let y=a,b=1,_=this[o+--y];for(;y>0&&(b*=256);)_+=this[o+--y]*b;return b*=128,_>=b&&(_-=Math.pow(2,8*a)),_},u.prototype.readInt8=function(o,a){return o=o>>>0,a||v(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]},u.prototype.readInt16LE=function(o,a){o=o>>>0,a||v(o,2,this.length);const d=this[o]|this[o+1]<<8;return d&32768?d|4294901760:d},u.prototype.readInt16BE=function(o,a){o=o>>>0,a||v(o,2,this.length);const d=this[o+1]|this[o]<<8;return d&32768?d|4294901760:d},u.prototype.readInt32LE=function(o,a){return o=o>>>0,a||v(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},u.prototype.readInt32BE=function(o,a){return o=o>>>0,a||v(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},u.prototype.readBigInt64LE=tt(function(o){o=o>>>0,Ct(o,"offset");const a=this[o],d=this[o+7];(a===void 0||d===void 0)&&Ie(o,this.length-8);const y=this[o+4]+this[o+5]*2**8+this[o+6]*2**16+(d<<24);return(BigInt(y)<<BigInt(32))+BigInt(a+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24)}),u.prototype.readBigInt64BE=tt(function(o){o=o>>>0,Ct(o,"offset");const a=this[o],d=this[o+7];(a===void 0||d===void 0)&&Ie(o,this.length-8);const y=(a<<24)+this[++o]*2**16+this[++o]*2**8+this[++o];return(BigInt(y)<<BigInt(32))+BigInt(this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+d)}),u.prototype.readFloatLE=function(o,a){return o=o>>>0,a||v(o,4,this.length),t.read(this,o,!0,23,4)},u.prototype.readFloatBE=function(o,a){return o=o>>>0,a||v(o,4,this.length),t.read(this,o,!1,23,4)},u.prototype.readDoubleLE=function(o,a){return o=o>>>0,a||v(o,8,this.length),t.read(this,o,!0,52,8)},u.prototype.readDoubleBE=function(o,a){return o=o>>>0,a||v(o,8,this.length),t.read(this,o,!1,52,8)};function p(f,o,a,d,y,b){if(!u.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>y||o<b)throw new RangeError('"value" argument is out of bounds');if(a+d>f.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(o,a,d,y){if(o=+o,a=a>>>0,d=d>>>0,!y){const V=Math.pow(2,8*d)-1;p(this,o,a,d,V,0)}let b=1,_=0;for(this[a]=o&255;++_<d&&(b*=256);)this[a+_]=o/b&255;return a+d},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(o,a,d,y){if(o=+o,a=a>>>0,d=d>>>0,!y){const V=Math.pow(2,8*d)-1;p(this,o,a,d,V,0)}let b=d-1,_=1;for(this[a+b]=o&255;--b>=0&&(_*=256);)this[a+b]=o/_&255;return a+d},u.prototype.writeUint8=u.prototype.writeUInt8=function(o,a,d){return o=+o,a=a>>>0,d||p(this,o,a,1,255,0),this[a]=o&255,a+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(o,a,d){return o=+o,a=a>>>0,d||p(this,o,a,2,65535,0),this[a]=o&255,this[a+1]=o>>>8,a+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(o,a,d){return o=+o,a=a>>>0,d||p(this,o,a,2,65535,0),this[a]=o>>>8,this[a+1]=o&255,a+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(o,a,d){return o=+o,a=a>>>0,d||p(this,o,a,4,4294967295,0),this[a+3]=o>>>24,this[a+2]=o>>>16,this[a+1]=o>>>8,this[a]=o&255,a+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(o,a,d){return o=+o,a=a>>>0,d||p(this,o,a,4,4294967295,0),this[a]=o>>>24,this[a+1]=o>>>16,this[a+2]=o>>>8,this[a+3]=o&255,a+4};function M(f,o,a,d,y){Oe(o,d,y,f,a,7);let b=Number(o&BigInt(4294967295));f[a++]=b,b=b>>8,f[a++]=b,b=b>>8,f[a++]=b,b=b>>8,f[a++]=b;let _=Number(o>>BigInt(32)&BigInt(4294967295));return f[a++]=_,_=_>>8,f[a++]=_,_=_>>8,f[a++]=_,_=_>>8,f[a++]=_,a}function te(f,o,a,d,y){Oe(o,d,y,f,a,7);let b=Number(o&BigInt(4294967295));f[a+7]=b,b=b>>8,f[a+6]=b,b=b>>8,f[a+5]=b,b=b>>8,f[a+4]=b;let _=Number(o>>BigInt(32)&BigInt(4294967295));return f[a+3]=_,_=_>>8,f[a+2]=_,_=_>>8,f[a+1]=_,_=_>>8,f[a]=_,a+8}u.prototype.writeBigUInt64LE=tt(function(o,a=0){return M(this,o,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=tt(function(o,a=0){return te(this,o,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(o,a,d,y){if(o=+o,a=a>>>0,!y){const ee=Math.pow(2,8*d-1);p(this,o,a,d,ee-1,-ee)}let b=0,_=1,V=0;for(this[a]=o&255;++b<d&&(_*=256);)o<0&&V===0&&this[a+b-1]!==0&&(V=1),this[a+b]=(o/_>>0)-V&255;return a+d},u.prototype.writeIntBE=function(o,a,d,y){if(o=+o,a=a>>>0,!y){const ee=Math.pow(2,8*d-1);p(this,o,a,d,ee-1,-ee)}let b=d-1,_=1,V=0;for(this[a+b]=o&255;--b>=0&&(_*=256);)o<0&&V===0&&this[a+b+1]!==0&&(V=1),this[a+b]=(o/_>>0)-V&255;return a+d},u.prototype.writeInt8=function(o,a,d){return o=+o,a=a>>>0,d||p(this,o,a,1,127,-128),o<0&&(o=255+o+1),this[a]=o&255,a+1},u.prototype.writeInt16LE=function(o,a,d){return o=+o,a=a>>>0,d||p(this,o,a,2,32767,-32768),this[a]=o&255,this[a+1]=o>>>8,a+2},u.prototype.writeInt16BE=function(o,a,d){return o=+o,a=a>>>0,d||p(this,o,a,2,32767,-32768),this[a]=o>>>8,this[a+1]=o&255,a+2},u.prototype.writeInt32LE=function(o,a,d){return o=+o,a=a>>>0,d||p(this,o,a,4,2147483647,-2147483648),this[a]=o&255,this[a+1]=o>>>8,this[a+2]=o>>>16,this[a+3]=o>>>24,a+4},u.prototype.writeInt32BE=function(o,a,d){return o=+o,a=a>>>0,d||p(this,o,a,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),this[a]=o>>>24,this[a+1]=o>>>16,this[a+2]=o>>>8,this[a+3]=o&255,a+4},u.prototype.writeBigInt64LE=tt(function(o,a=0){return M(this,o,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=tt(function(o,a=0){return te(this,o,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function oe(f,o,a,d,y,b){if(a+d>f.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function ue(f,o,a,d,y){return o=+o,a=a>>>0,y||oe(f,o,a,4),t.write(f,o,a,d,23,4),a+4}u.prototype.writeFloatLE=function(o,a,d){return ue(this,o,a,!0,d)},u.prototype.writeFloatBE=function(o,a,d){return ue(this,o,a,!1,d)};function Ue(f,o,a,d,y){return o=+o,a=a>>>0,y||oe(f,o,a,8),t.write(f,o,a,d,52,8),a+8}u.prototype.writeDoubleLE=function(o,a,d){return Ue(this,o,a,!0,d)},u.prototype.writeDoubleBE=function(o,a,d){return Ue(this,o,a,!1,d)},u.prototype.copy=function(o,a,d,y){if(!u.isBuffer(o))throw new TypeError("argument should be a Buffer");if(d||(d=0),!y&&y!==0&&(y=this.length),a>=o.length&&(a=o.length),a||(a=0),y>0&&y<d&&(y=d),y===d||o.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(d<0||d>=this.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("sourceEnd out of bounds");y>this.length&&(y=this.length),o.length-a<y-d&&(y=o.length-a+d);const b=y-d;return this===o&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a,d,y):Uint8Array.prototype.set.call(o,this.subarray(d,y),a),b},u.prototype.fill=function(o,a,d,y){if(typeof o=="string"){if(typeof a=="string"?(y=a,a=0,d=this.length):typeof d=="string"&&(y=d,d=this.length),y!==void 0&&typeof y!="string")throw new TypeError("encoding must be a string");if(typeof y=="string"&&!u.isEncoding(y))throw new TypeError("Unknown encoding: "+y);if(o.length===1){const _=o.charCodeAt(0);(y==="utf8"&&_<128||y==="latin1")&&(o=_)}}else typeof o=="number"?o=o&255:typeof o=="boolean"&&(o=Number(o));if(a<0||this.length<a||this.length<d)throw new RangeError("Out of range index");if(d<=a)return this;a=a>>>0,d=d===void 0?this.length:d>>>0,o||(o=0);let b;if(typeof o=="number")for(b=a;b<d;++b)this[b]=o;else{const _=u.isBuffer(o)?o:u.from(o,y),V=_.length;if(V===0)throw new TypeError('The value "'+o+'" is invalid for argument "value"');for(b=0;b<d-a;++b)this[b+a]=_[b%V]}return this};const de={};function Se(f,o,a){de[f]=class extends a{constructor(){super(),Object.defineProperty(this,"message",{value:o.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:y,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}}}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(f,o){return`The "${f}" argument must be of type number. Received type ${typeof o}`},TypeError),Se("ERR_OUT_OF_RANGE",function(f,o,a){let d=`The value of "${f}" is out of range.`,y=a;return Number.isInteger(a)&&Math.abs(a)>2**32?y=Bn(String(a)):typeof a=="bigint"&&(y=String(a),(a>BigInt(2)**BigInt(32)||a<-(BigInt(2)**BigInt(32)))&&(y=Bn(y)),y+="n"),d+=` It must be ${o}. Received ${y}`,d},RangeError);function Bn(f){let o="",a=f.length;const d=f[0]==="-"?1:0;for(;a>=d+4;a-=3)o=`_${f.slice(a-3,a)}${o}`;return`${f.slice(0,a)}${o}`}function Pe(f,o,a){Ct(o,"offset"),(f[o]===void 0||f[o+a]===void 0)&&Ie(o,f.length-(a+1))}function Oe(f,o,a,d,y,b){if(f>a||f<o){const _=typeof o=="bigint"?"n":"";let V;throw b>3?o===0||o===BigInt(0)?V=`>= 0${_} and < 2${_} ** ${(b+1)*8}${_}`:V=`>= -(2${_} ** ${(b+1)*8-1}${_}) and < 2 ** ${(b+1)*8-1}${_}`:V=`>= ${o}${_} and <= ${a}${_}`,new de.ERR_OUT_OF_RANGE("value",V,f)}Pe(d,y,b)}function Ct(f,o){if(typeof f!="number")throw new de.ERR_INVALID_ARG_TYPE(o,"number",f)}function Ie(f,o,a){throw Math.floor(f)!==f?(Ct(f,a),new de.ERR_OUT_OF_RANGE(a||"offset","an integer",f)):o<0?new de.ERR_BUFFER_OUT_OF_BOUNDS:new de.ERR_OUT_OF_RANGE(a||"offset",`>= ${a?1:0} and <= ${o}`,f)}const ze=/[^+/0-9A-Za-z-_]/g;function rr(f){if(f=f.split("=")[0],f=f.trim().replace(ze,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function Ce(f,o){o=o||1/0;let a;const d=f.length;let y=null;const b=[];for(let _=0;_<d;++_){if(a=f.charCodeAt(_),a>55295&&a<57344){if(!y){if(a>56319){(o-=3)>-1&&b.push(239,191,189);continue}else if(_+1===d){(o-=3)>-1&&b.push(239,191,189);continue}y=a;continue}if(a<56320){(o-=3)>-1&&b.push(239,191,189),y=a;continue}a=(y-55296<<10|a-56320)+65536}else y&&(o-=3)>-1&&b.push(239,191,189);if(y=null,a<128){if((o-=1)<0)break;b.push(a)}else if(a<2048){if((o-=2)<0)break;b.push(a>>6|192,a&63|128)}else if(a<65536){if((o-=3)<0)break;b.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((o-=4)<0)break;b.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return b}function He(f){const o=[];for(let a=0;a<f.length;++a)o.push(f.charCodeAt(a)&255);return o}function ir(f,o){let a,d,y;const b=[];for(let _=0;_<f.length&&!((o-=2)<0);++_)a=f.charCodeAt(_),d=a>>8,y=a%256,b.push(y),b.push(d);return b}function Fe(f){return e.toByteArray(rr(f))}function _e(f,o,a,d){let y;for(y=0;y<d&&!(y+a>=o.length||y>=f.length);++y)o[y+a]=f[y];return y}function Ge(f,o){return f instanceof o||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===o.name}function Ne(f){return f!==f}const We=function(){const f="0123456789abcdef",o=new Array(256);for(let a=0;a<16;++a){const d=a*16;for(let y=0;y<16;++y)o[d+y]=f[a]+f[y]}return o}();function tt(f){return typeof BigInt>"u"?Qe:f}function Qe(){throw new Error("BigInt not supported")}})(pe);function Ri(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function du(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}function ko(r,...e){if(!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function pu(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ri(r.outputLen),Ri(r.blockLen)}function gu(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function wu(r,e){ko(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const Dt={number:Ri,bool:du,bytes:ko,hash:pu,exists:gu,output:wu};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yu=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),Ui=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),en=(r,e)=>r<<32-e|r>>>e;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function mu(r){if(typeof r!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof r}`);return new TextEncoder().encode(r)}function ur(r){if(typeof r=="string"&&(r=mu(r)),!(r instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof r})`);return r}class Oi{clone(){return this._cloneInto()}}function lr(r){const e=n=>r().update(ur(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function Au(r){const e=(n,s)=>r(s).update(ur(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}function bu(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const s=BigInt(32),i=BigInt(4294967295),c=Number(t>>s&i),u=Number(t&i),h=n?4:0,w=n?0:4;r.setUint32(e+h,c,n),r.setUint32(e+w,u,n)}class Co extends Oi{constructor(e,t,n,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ui(this.buffer)}update(e){Dt.exists(this);const{view:t,buffer:n,blockLen:s}=this;e=ur(e);const i=e.length;for(let c=0;c<i;){const u=Math.min(s-this.pos,i-c);if(u===s){const h=Ui(e);for(;s<=i-c;c+=s)this.process(h,c);continue}n.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Dt.exists(this),Dt.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:s,isLE:i}=this;let{pos:c}=this;t[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(n,0),c=0);for(let h=c;h<s;h++)t[h]=0;bu(n,s-8,BigInt(this.length*8),i),this.process(n,0);const u=Ui(e);this.get().forEach((h,w)=>u.setUint32(4*w,h,i))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:s,finished:i,destroyed:c,pos:u}=this;return e.length=s,e.pos=u,e.finished=i,e.destroyed=c,s%t&&e.buffer.set(n),e}}const Dr=BigInt(2**32-1),Fi=BigInt(32);function No(r,e=!1){return e?{h:Number(r&Dr),l:Number(r>>Fi&Dr)}:{h:Number(r>>Fi&Dr)|0,l:Number(r&Dr)|0}}function vu(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let s=0;s<r.length;s++){const{h:i,l:c}=No(r[s],e);[t[s],n[s]]=[i,c]}return[t,n]}const xu=(r,e)=>BigInt(r>>>0)<<Fi|BigInt(e>>>0),Eu=(r,e,t)=>r>>>t,Iu=(r,e,t)=>r<<32-t|e>>>t,Bu=(r,e,t)=>r>>>t|e<<32-t,Su=(r,e,t)=>r<<32-t|e>>>t,Mu=(r,e,t)=>r<<64-t|e>>>t-32,_u=(r,e,t)=>r>>>t-32|e<<64-t,Tu=(r,e)=>e,ku=(r,e)=>r,Cu=(r,e,t)=>r<<t|e>>>32-t,Nu=(r,e,t)=>e<<t|r>>>32-t,Lu=(r,e,t)=>e<<t-32|r>>>64-t,Ru=(r,e,t)=>r<<t-32|e>>>64-t;function Uu(r,e,t,n){const s=(e>>>0)+(n>>>0);return{h:r+t+(s/2**32|0)|0,l:s|0}}const he={fromBig:No,split:vu,toBig:xu,shrSH:Eu,shrSL:Iu,rotrSH:Bu,rotrSL:Su,rotrBH:Mu,rotrBL:_u,rotr32H:Tu,rotr32L:ku,rotlSH:Cu,rotlSL:Nu,rotlBH:Lu,rotlBL:Ru,add:Uu,add3L:(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),add3H:(r,e,t,n)=>e+t+n+(r/2**32|0)|0,add4L:(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),add4H:(r,e,t,n,s)=>e+t+n+s+(r/2**32|0)|0,add5H:(r,e,t,n,s,i)=>e+t+n+s+i+(r/2**32|0)|0,add5L:(r,e,t,n,s)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(s>>>0)},[Ou,Fu]=he.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),ln=new Uint32Array(80),fn=new Uint32Array(80);class Di extends Co{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:s,Ch:i,Cl:c,Dh:u,Dl:h,Eh:w,El:m,Fh:I,Fl:N,Gh:B,Gl:k,Hh:T,Hl:C}=this;return[e,t,n,s,i,c,u,h,w,m,I,N,B,k,T,C]}set(e,t,n,s,i,c,u,h,w,m,I,N,B,k,T,C){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=c|0,this.Dh=u|0,this.Dl=h|0,this.Eh=w|0,this.El=m|0,this.Fh=I|0,this.Fl=N|0,this.Gh=B|0,this.Gl=k|0,this.Hh=T|0,this.Hl=C|0}process(e,t){for(let L=0;L<16;L++,t+=4)ln[L]=e.getUint32(t),fn[L]=e.getUint32(t+=4);for(let L=16;L<80;L++){const z=ln[L-15]|0,P=fn[L-15]|0,W=he.rotrSH(z,P,1)^he.rotrSH(z,P,8)^he.shrSH(z,P,7),Q=he.rotrSL(z,P,1)^he.rotrSL(z,P,8)^he.shrSL(z,P,7),j=ln[L-2]|0,me=fn[L-2]|0,Le=he.rotrSH(j,me,19)^he.rotrBH(j,me,61)^he.shrSH(j,me,6),ge=he.rotrSL(j,me,19)^he.rotrBL(j,me,61)^he.shrSL(j,me,6),Re=he.add4L(Q,ge,fn[L-7],fn[L-16]),E=he.add4H(Re,W,Le,ln[L-7],ln[L-16]);ln[L]=E|0,fn[L]=Re|0}let{Ah:n,Al:s,Bh:i,Bl:c,Ch:u,Cl:h,Dh:w,Dl:m,Eh:I,El:N,Fh:B,Fl:k,Gh:T,Gl:C,Hh:U,Hl:D}=this;for(let L=0;L<80;L++){const z=he.rotrSH(I,N,14)^he.rotrSH(I,N,18)^he.rotrBH(I,N,41),P=he.rotrSL(I,N,14)^he.rotrSL(I,N,18)^he.rotrBL(I,N,41),W=I&B^~I&T,Q=N&k^~N&C,j=he.add5L(D,P,Q,Fu[L],fn[L]),me=he.add5H(j,U,z,W,Ou[L],ln[L]),Le=j|0,ge=he.rotrSH(n,s,28)^he.rotrBH(n,s,34)^he.rotrBH(n,s,39),Re=he.rotrSL(n,s,28)^he.rotrBL(n,s,34)^he.rotrBL(n,s,39),E=n&i^n&u^i&u,l=s&c^s&h^c&h;U=T|0,D=C|0,T=B|0,C=k|0,B=I|0,k=N|0,{h:I,l:N}=he.add(w|0,m|0,me|0,Le|0),w=u|0,m=h|0,u=i|0,h=c|0,i=n|0,c=s|0;const g=he.add3L(Le,Re,l);n=he.add3H(g,me,ge,E),s=g|0}({h:n,l:s}=he.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:c}=he.add(this.Bh|0,this.Bl|0,i|0,c|0),{h:u,l:h}=he.add(this.Ch|0,this.Cl|0,u|0,h|0),{h:w,l:m}=he.add(this.Dh|0,this.Dl|0,w|0,m|0),{h:I,l:N}=he.add(this.Eh|0,this.El|0,I|0,N|0),{h:B,l:k}=he.add(this.Fh|0,this.Fl|0,B|0,k|0),{h:T,l:C}=he.add(this.Gh|0,this.Gl|0,T|0,C|0),{h:U,l:D}=he.add(this.Hh|0,this.Hl|0,U|0,D|0),this.set(n,s,i,c,u,h,w,m,I,N,B,k,T,C,U,D)}roundClean(){ln.fill(0),fn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Du extends Di{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Pu extends Di{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const zu=lr(()=>new Di);lr(()=>new Du),lr(()=>new Pu);const Pi=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}));/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const vt=BigInt(0),be=BigInt(1),Hn=BigInt(2),Lo=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),De=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:Lo,n:Lo,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),Ro=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),fr=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");const Hu=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Gu=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Wu=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Qu=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class xe{constructor(e,t,n,s){this.x=e,this.y=t,this.z=n,this.t=s}static fromAffine(e){if(!(e instanceof Ye))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Ye.ZERO)?xe.ZERO:new xe(e.x,e.y,be,K(e.x*e.y))}static toAffineBatch(e){const t=qu(e.map(n=>n.z));return e.map((n,s)=>n.toAffine(t[s]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){Uo(e);const{x:t,y:n,z:s}=this,{x:i,y:c,z:u}=e,h=K(t*u),w=K(i*s),m=K(n*u),I=K(c*s);return h===w&&m===I}negate(){return new xe(K(-this.x),this.y,this.z,K(-this.t))}double(){const{x:e,y:t,z:n}=this,{a:s}=De,i=K(e*e),c=K(t*t),u=K(Hn*K(n*n)),h=K(s*i),w=e+t,m=K(K(w*w)-i-c),I=h+c,N=I-u,B=h-c,k=K(m*N),T=K(I*B),C=K(m*B),U=K(N*I);return new xe(k,T,U,C)}add(e){Uo(e);const{x:t,y:n,z:s,t:i}=this,{x:c,y:u,z:h,t:w}=e,m=K((n-t)*(u+c)),I=K((n+t)*(u-c)),N=K(I-m);if(N===vt)return this.double();const B=K(s*Hn*w),k=K(i*Hn*h),T=k+B,C=I+m,U=k-B,D=K(T*N),L=K(C*U),z=K(T*U),P=K(N*C);return new xe(D,L,P,z)}subtract(e){return this.add(e.negate())}precomputeWindow(e){const t=1+256/e,n=[];let s=this,i=s;for(let c=0;c<t;c++){i=s,n.push(i);for(let u=1;u<2**(e-1);u++)i=i.add(s),n.push(i);s=i.double()}return n}wNAF(e,t){!t&&this.equals(xe.BASE)&&(t=Ye.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let s=t&&Gi.get(t);s||(s=this.precomputeWindow(n),t&&n!==1&&(s=xe.normalizeZ(s),Gi.set(t,s)));let i=xe.ZERO,c=xe.ZERO;const u=1+256/n,h=2**(n-1),w=BigInt(2**n-1),m=2**n,I=BigInt(n);for(let N=0;N<u;N++){const B=N*h;let k=Number(e&w);if(e>>=I,k>h&&(k-=m,e+=be),k===0){let T=s[B];N%2&&(T=T.negate()),c=c.add(T)}else{let T=s[B+Math.abs(k)-1];k<0&&(T=T.negate()),i=i.add(T)}}return xe.normalizeZ([i,c])[0]}multiply(e,t){return this.wNAF(Hr(e,De.l),t)}multiplyUnsafe(e){let t=Hr(e,De.l,!1);const n=xe.BASE,s=xe.ZERO;if(t===vt)return s;if(this.equals(s)||t===be)return this;if(this.equals(n))return this.wNAF(t);let i=s,c=this;for(;t>vt;)t&be&&(i=i.add(c)),c=c.double(),t>>=be;return i}isSmallOrder(){return this.multiplyUnsafe(De.h).equals(xe.ZERO)}isTorsionFree(){return this.multiplyUnsafe(De.l).equals(xe.ZERO)}toAffine(e=Pr(this.z)){const{x:t,y:n,z:s}=this,i=K(t*e),c=K(n*e);if(K(s*e)!==be)throw new Error("invZ was invalid");return new Ye(i,c)}fromRistrettoBytes(){Hi()}toRistrettoBytes(){Hi()}fromRistrettoHash(){Hi()}}xe.BASE=new xe(De.Gx,De.Gy,be,K(De.Gx*De.Gy)),xe.ZERO=new xe(vt,be,be,vt);function Uo(r){if(!(r instanceof xe))throw new TypeError("ExtendedPoint expected")}function zi(r){if(!(r instanceof Wt))throw new TypeError("RistrettoPoint expected")}function Hi(){throw new Error("Legacy method: switch to RistrettoPoint")}class Wt{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){const{d:t}=De,n=K(fr*e*e),s=K((n+be)*Wu);let i=BigInt(-1);const c=K((i-t*n)*K(n+t));let{isValid:u,value:h}=Ki(s,c),w=K(h*e);hn(w)||(w=K(-w)),u||(h=w),u||(i=n);const m=K(i*(n-be)*Qu-c),I=h*h,N=K((h+h)*c),B=K(m*Hu),k=K(be-I),T=K(be+I);return new xe(K(N*T),K(k*B),K(B*T),K(N*k))}static hashToCurve(e){e=dn(e,64);const t=Qi(e.slice(0,32)),n=this.calcElligatorRistrettoMap(t),s=Qi(e.slice(32,64)),i=this.calcElligatorRistrettoMap(s);return new Wt(n.add(i))}static fromHex(e){e=dn(e,32);const{a:t,d:n}=De,s="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=Qi(e);if(!Vu(pr(i),e)||hn(i))throw new Error(s);const c=K(i*i),u=K(be+t*c),h=K(be-t*c),w=K(u*u),m=K(h*h),I=K(t*n*w-m),{isValid:N,value:B}=Do(K(I*m)),k=K(B*h),T=K(B*k*I);let C=K((i+i)*k);hn(C)&&(C=K(-C));const U=K(u*T),D=K(C*U);if(!N||hn(D)||U===vt)throw new Error(s);return new Wt(new xe(C,U,be,D))}toRawBytes(){let{x:e,y:t,z:n,t:s}=this.ep;const i=K(K(n+t)*K(n-t)),c=K(e*t),u=K(c*c),{value:h}=Do(K(i*u)),w=K(h*i),m=K(h*c),I=K(w*m*s);let N;if(hn(s*I)){let k=K(t*fr),T=K(e*fr);e=k,t=T,N=K(w*Gu)}else N=m;hn(e*I)&&(t=K(-t));let B=K((n-t)*N);return hn(B)&&(B=K(-B)),pr(B)}toHex(){return dr(this.toRawBytes())}toString(){return this.toHex()}equals(e){zi(e);const t=this.ep,n=e.ep,s=K(t.x*n.y)===K(t.y*n.x),i=K(t.y*n.y)===K(t.x*n.x);return s||i}add(e){return zi(e),new Wt(this.ep.add(e.ep))}subtract(e){return zi(e),new Wt(this.ep.subtract(e.ep))}multiply(e){return new Wt(this.ep.multiply(e))}multiplyUnsafe(e){return new Wt(this.ep.multiplyUnsafe(e))}}Wt.BASE=new Wt(xe.BASE),Wt.ZERO=new Wt(xe.ZERO);const Gi=new WeakMap;class Ye{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,Gi.delete(this)}static fromHex(e,t=!0){const{d:n,P:s}=De;e=dn(e,32);const i=e.slice();i[31]=e[31]&-129;const c=gr(i);if(t&&c>=s)throw new Error("Expected 0 < hex < P");if(!t&&c>=Ro)throw new Error("Expected 0 < hex < 2**256");const u=K(c*c),h=K(u-be),w=K(n*u+be);let{isValid:m,value:I}=Ki(h,w);if(!m)throw new Error("Point.fromHex: invalid y coordinate");const N=(I&be)===be;return(e[31]&128)!==0!==N&&(I=K(-I)),new Ye(I,c)}static async fromPrivateKey(e){return(await Ho(e)).point}toRawBytes(){const e=pr(this.y);return e[31]|=this.x&be?128:0,e}toHex(){return dr(this.toRawBytes())}toX25519(){const{y:e}=this,t=K((be+e)*Pr(be-e));return pr(t)}isTorsionFree(){return xe.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Ye(K(-this.x),this.y)}add(e){return xe.fromAffine(this).add(xe.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return xe.fromAffine(this).multiply(e,this).toAffine()}}Ye.BASE=new Ye(De.Gx,De.Gy),Ye.ZERO=new Ye(vt,be);class hr{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=dn(e,64),n=Ye.fromHex(t.slice(0,32),!1),s=gr(t.slice(32,64));return new hr(n,s)}assertValidity(){const{r:e,s:t}=this;if(!(e instanceof Ye))throw new Error("Expected Point instance");return Hr(t,De.l,!1),this}toRawBytes(){const e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(pr(this.s),32),e}toHex(){return dr(this.toRawBytes())}}function Oo(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(r.length===1)return r[0];const e=r.reduce((n,s)=>n+s.length,0),t=new Uint8Array(e);for(let n=0,s=0;n<r.length;n++){const i=r[n];t.set(i,s),s+=i.length}return t}const Ku=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function dr(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=Ku[r[t]];return e}function Wi(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){const n=t*2,s=r.slice(n,n+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[t]=i}return e}function Fo(r){const t=r.toString(16).padStart(64,"0");return Wi(t)}function pr(r){return Fo(r).reverse()}function hn(r){return(K(r)&be)===be}function gr(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+dr(Uint8Array.from(r).reverse()))}const ju=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Qi(r){return K(gr(r)&ju)}function K(r,e=De.P){const t=r%e;return t>=vt?t:e+t}function Pr(r,e=De.P){if(r===vt||e<=vt)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=K(r,e),n=e,s=vt,i=be;for(;t!==vt;){const u=n/t,h=n%t,w=s-i*u;n=t,t=h,s=i,i=w}if(n!==be)throw new Error("invert: does not exist");return K(s,e)}function qu(r,e=De.P){const t=new Array(r.length),n=r.reduce((i,c,u)=>c===vt?i:(t[u]=i,K(i*c,e)),be),s=Pr(n,e);return r.reduceRight((i,c,u)=>c===vt?i:(t[u]=K(i*t[u],e),K(i*c,e)),s),t}function tn(r,e){const{P:t}=De;let n=r;for(;e-- >vt;)n*=n,n%=t;return n}function Yu(r){const{P:e}=De,t=BigInt(5),n=BigInt(10),s=BigInt(20),i=BigInt(40),c=BigInt(80),h=r*r%e*r%e,w=tn(h,Hn)*h%e,m=tn(w,be)*r%e,I=tn(m,t)*m%e,N=tn(I,n)*I%e,B=tn(N,s)*N%e,k=tn(B,i)*B%e,T=tn(k,c)*k%e,C=tn(T,c)*k%e,U=tn(C,n)*I%e;return{pow_p_5_8:tn(U,Hn)*r%e,b2:h}}function Ki(r,e){const t=K(e*e*e),n=K(t*t*e),s=Yu(r*n).pow_p_5_8;let i=K(r*t*s);const c=K(e*i*i),u=i,h=K(i*fr),w=c===r,m=c===K(-r),I=c===K(-r*fr);return w&&(i=u),(m||I)&&(i=h),hn(i)&&(i=K(-i)),{isValid:w||m,value:i}}function Do(r){return Ki(be,r)}function zr(r){return K(gr(r),De.l)}function Vu(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function dn(r,e){const t=r instanceof Uint8Array?Uint8Array.from(r):Wi(r);if(typeof e=="number"&&t.length!==e)throw new Error(`Expected ${e} bytes`);return t}function Hr(r,e,t=!0){if(!e)throw new TypeError("Specify max value");if(typeof r=="number"&&Number.isSafeInteger(r)&&(r=BigInt(r)),typeof r=="bigint"&&r<e){if(t){if(vt<r)return r}else if(vt<=r)return r}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function Zu(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function Po(r){if(r=typeof r=="bigint"||typeof r=="number"?Fo(Hr(r,Ro)):dn(r),r.length!==32)throw new Error("Expected 32 bytes");return r}function zo(r){const e=Zu(r.slice(0,32)),t=r.slice(32,64),n=zr(e),s=Ye.BASE.multiply(n),i=s.toRawBytes();return{head:e,prefix:t,scalar:n,point:s,pointBytes:i}}let wr;function Gr(...r){if(typeof wr!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return wr(...r)}async function Ho(r){return zo(await Gn.sha512(Po(r)))}function ji(r){return zo(Gr(Po(r)))}function Xu(r){return ji(r).pointBytes}function Ju(r,e){r=dn(r);const{prefix:t,scalar:n,pointBytes:s}=ji(e),i=zr(Gr(t,r)),c=Ye.BASE.multiply(i),u=zr(Gr(c.toRawBytes(),s,r)),h=K(i+u*n,De.l);return new hr(c,h).toRawBytes()}function $u(r,e,t){e=dn(e),t instanceof Ye||(t=Ye.fromHex(t,!1));const{r:n,s}=r instanceof hr?r.assertValidity():hr.fromHex(r),i=xe.BASE.multiplyUnsafe(s);return{r:n,s,SB:i,pub:t,msg:e}}function el(r,e,t,n){const s=zr(n),i=xe.fromAffine(r).multiplyUnsafe(s);return xe.fromAffine(e).add(i).subtract(t).multiplyUnsafe(De.h).equals(xe.ZERO)}function tl(r,e,t){const{r:n,SB:s,msg:i,pub:c}=$u(r,e,t),u=Gr(n.toRawBytes(),c.toRawBytes(),i);return el(c,n,s,u)}const Go={getExtendedPublicKey:ji,getPublicKey:Xu,sign:Ju,verify:tl};Ye.BASE._setWindowSize(8);const pn={node:Pi,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Gn={bytesToHex:dr,hexToBytes:Wi,concatBytes:Oo,getExtendedPublicKey:Ho,mod:K,invert:Pr,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:r=>{if(r=dn(r),r.length<40||r.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return K(gr(r),De.l-be)+be},randomBytes:(r=32)=>{if(pn.web)return pn.web.getRandomValues(new Uint8Array(r));if(pn.node){const{randomBytes:e}=pn.node;return new Uint8Array(e(r).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Gn.randomBytes(32),sha512:async(...r)=>{const e=Oo(...r);if(pn.web){const t=await pn.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}else{if(pn.node)return Uint8Array.from(pn.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(r=8,e=Ye.BASE){const t=e.equals(Ye.BASE)?e:new Ye(e.x,e.y);return t._setWindowSize(r),t.multiply(Hn),t},sha512Sync:void 0};Object.defineProperties(Gn,{sha512Sync:{configurable:!1,get(){return wr},set(r){wr||(wr=r)}}});var qi={exports:{}};const nl=Ni(Pi);(function(r){(function(e,t){function n(E,l){if(!E)throw new Error(l||"Assertion failed")}function s(E,l){E.super_=l;var g=function(){};g.prototype=l.prototype,E.prototype=new g,E.prototype.constructor=E}function i(E,l,g){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((l==="le"||l==="be")&&(g=l,l=10),this._init(E||0,l||10,g||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=nl.Buffer}catch{}i.isBN=function(l){return l instanceof i?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===i.wordSize&&Array.isArray(l.words)},i.max=function(l,g){return l.cmp(g)>0?l:g},i.min=function(l,g){return l.cmp(g)<0?l:g},i.prototype._init=function(l,g,A){if(typeof l=="number")return this._initNumber(l,g,A);if(typeof l=="object")return this._initArray(l,g,A);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),l=l.toString().replace(/\s+/g,"");var x=0;l[0]==="-"&&(x++,this.negative=1),x<l.length&&(g===16?this._parseHex(l,x,A):(this._parseBase(l,g,x),A==="le"&&this._initArray(this.toArray(),g,A)))},i.prototype._initNumber=function(l,g,A){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(n(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),g,A)},i.prototype._initArray=function(l,g,A){if(n(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S,R,F=0;if(A==="be")for(x=l.length-1,S=0;x>=0;x-=3)R=l[x]|l[x-1]<<8|l[x-2]<<16,this.words[S]|=R<<F&67108863,this.words[S+1]=R>>>26-F&67108863,F+=24,F>=26&&(F-=26,S++);else if(A==="le")for(x=0,S=0;x<l.length;x+=3)R=l[x]|l[x+1]<<8|l[x+2]<<16,this.words[S]|=R<<F&67108863,this.words[S+1]=R>>>26-F&67108863,F+=24,F>=26&&(F-=26,S++);return this._strip()};function u(E,l){var g=E.charCodeAt(l);if(g>=48&&g<=57)return g-48;if(g>=65&&g<=70)return g-55;if(g>=97&&g<=102)return g-87;n(!1,"Invalid character in "+E)}function h(E,l,g){var A=u(E,g);return g-1>=l&&(A|=u(E,g-1)<<4),A}i.prototype._parseHex=function(l,g,A){this.length=Math.ceil((l.length-g)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S=0,R=0,F;if(A==="be")for(x=l.length-1;x>=g;x-=2)F=h(l,g,x)<<S,this.words[R]|=F&67108863,S>=18?(S-=18,R+=1,this.words[R]|=F>>>26):S+=8;else{var v=l.length-g;for(x=v%2===0?g+1:g;x<l.length;x+=2)F=h(l,g,x)<<S,this.words[R]|=F&67108863,S>=18?(S-=18,R+=1,this.words[R]|=F>>>26):S+=8}this._strip()};function w(E,l,g,A){for(var x=0,S=0,R=Math.min(E.length,g),F=l;F<R;F++){var v=E.charCodeAt(F)-48;x*=A,v>=49?S=v-49+10:v>=17?S=v-17+10:S=v,n(v>=0&&S<A,"Invalid character"),x+=S}return x}i.prototype._parseBase=function(l,g,A){this.words=[0],this.length=1;for(var x=0,S=1;S<=67108863;S*=g)x++;x--,S=S/g|0;for(var R=l.length-A,F=R%x,v=Math.min(R,R-F)+A,p=0,M=A;M<v;M+=x)p=w(l,M,M+x,g),this.imuln(S),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(F!==0){var te=1;for(p=w(l,M,l.length,g),M=0;M<F;M++)te*=g;this.imuln(te),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this._strip()},i.prototype.copy=function(l){l.words=new Array(this.length);for(var g=0;g<this.length;g++)l.words[g]=this.words[g];l.length=this.length,l.negative=this.negative,l.red=this.red};function m(E,l){E.words=l.words,E.length=l.length,E.negative=l.negative,E.red=l.red}if(i.prototype._move=function(l){m(l,this)},i.prototype.clone=function(){var l=new i(null);return this.copy(l),l},i.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=I}catch{i.prototype.inspect=I}else i.prototype.inspect=I;function I(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var N=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],B=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(l,g){l=l||10,g=g|0||1;var A;if(l===16||l==="hex"){A="";for(var x=0,S=0,R=0;R<this.length;R++){var F=this.words[R],v=((F<<x|S)&16777215).toString(16);S=F>>>24-x&16777215,x+=2,x>=26&&(x-=26,R--),S!==0||R!==this.length-1?A=N[6-v.length]+v+A:A=v+A}for(S!==0&&(A=S.toString(16)+A);A.length%g!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(l===(l|0)&&l>=2&&l<=36){var p=B[l],M=k[l];A="";var te=this.clone();for(te.negative=0;!te.isZero();){var oe=te.modrn(M).toString(l);te=te.idivn(M),te.isZero()?A=oe+A:A=N[p-oe.length]+oe+A}for(this.isZero()&&(A="0"+A);A.length%g!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},i.prototype.toJSON=function(){return this.toString(16,2)},c&&(i.prototype.toBuffer=function(l,g){return this.toArrayLike(c,l,g)}),i.prototype.toArray=function(l,g){return this.toArrayLike(Array,l,g)};var T=function(l,g){return l.allocUnsafe?l.allocUnsafe(g):new l(g)};i.prototype.toArrayLike=function(l,g,A){this._strip();var x=this.byteLength(),S=A||Math.max(1,x);n(x<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0");var R=T(l,S),F=g==="le"?"LE":"BE";return this["_toArrayLike"+F](R,x),R},i.prototype._toArrayLikeLE=function(l,g){for(var A=0,x=0,S=0,R=0;S<this.length;S++){var F=this.words[S]<<R|x;l[A++]=F&255,A<l.length&&(l[A++]=F>>8&255),A<l.length&&(l[A++]=F>>16&255),R===6?(A<l.length&&(l[A++]=F>>24&255),x=0,R=0):(x=F>>>24,R+=2)}if(A<l.length)for(l[A++]=x;A<l.length;)l[A++]=0},i.prototype._toArrayLikeBE=function(l,g){for(var A=l.length-1,x=0,S=0,R=0;S<this.length;S++){var F=this.words[S]<<R|x;l[A--]=F&255,A>=0&&(l[A--]=F>>8&255),A>=0&&(l[A--]=F>>16&255),R===6?(A>=0&&(l[A--]=F>>24&255),x=0,R=0):(x=F>>>24,R+=2)}if(A>=0)for(l[A--]=x;A>=0;)l[A--]=0},Math.clz32?i.prototype._countBits=function(l){return 32-Math.clz32(l)}:i.prototype._countBits=function(l){var g=l,A=0;return g>=4096&&(A+=13,g>>>=13),g>=64&&(A+=7,g>>>=7),g>=8&&(A+=4,g>>>=4),g>=2&&(A+=2,g>>>=2),A+g},i.prototype._zeroBits=function(l){if(l===0)return 26;var g=l,A=0;return(g&8191)===0&&(A+=13,g>>>=13),(g&127)===0&&(A+=7,g>>>=7),(g&15)===0&&(A+=4,g>>>=4),(g&3)===0&&(A+=2,g>>>=2),(g&1)===0&&A++,A},i.prototype.bitLength=function(){var l=this.words[this.length-1],g=this._countBits(l);return(this.length-1)*26+g};function C(E){for(var l=new Array(E.bitLength()),g=0;g<l.length;g++){var A=g/26|0,x=g%26;l[g]=E.words[A]>>>x&1}return l}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,g=0;g<this.length;g++){var A=this._zeroBits(this.words[g]);if(l+=A,A!==26)break}return l},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},i.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var g=0;g<l.length;g++)this.words[g]=this.words[g]|l.words[g];return this._strip()},i.prototype.ior=function(l){return n((this.negative|l.negative)===0),this.iuor(l)},i.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},i.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},i.prototype.iuand=function(l){var g;this.length>l.length?g=l:g=this;for(var A=0;A<g.length;A++)this.words[A]=this.words[A]&l.words[A];return this.length=g.length,this._strip()},i.prototype.iand=function(l){return n((this.negative|l.negative)===0),this.iuand(l)},i.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},i.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},i.prototype.iuxor=function(l){var g,A;this.length>l.length?(g=this,A=l):(g=l,A=this);for(var x=0;x<A.length;x++)this.words[x]=g.words[x]^A.words[x];if(this!==g)for(;x<g.length;x++)this.words[x]=g.words[x];return this.length=g.length,this._strip()},i.prototype.ixor=function(l){return n((this.negative|l.negative)===0),this.iuxor(l)},i.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},i.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},i.prototype.inotn=function(l){n(typeof l=="number"&&l>=0);var g=Math.ceil(l/26)|0,A=l%26;this._expand(g),A>0&&g--;for(var x=0;x<g;x++)this.words[x]=~this.words[x]&67108863;return A>0&&(this.words[x]=~this.words[x]&67108863>>26-A),this._strip()},i.prototype.notn=function(l){return this.clone().inotn(l)},i.prototype.setn=function(l,g){n(typeof l=="number"&&l>=0);var A=l/26|0,x=l%26;return this._expand(A+1),g?this.words[A]=this.words[A]|1<<x:this.words[A]=this.words[A]&~(1<<x),this._strip()},i.prototype.iadd=function(l){var g;if(this.negative!==0&&l.negative===0)return this.negative=0,g=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,g=this.isub(l),l.negative=1,g._normSign();var A,x;this.length>l.length?(A=this,x=l):(A=l,x=this);for(var S=0,R=0;R<x.length;R++)g=(A.words[R]|0)+(x.words[R]|0)+S,this.words[R]=g&67108863,S=g>>>26;for(;S!==0&&R<A.length;R++)g=(A.words[R]|0)+S,this.words[R]=g&67108863,S=g>>>26;if(this.length=A.length,S!==0)this.words[this.length]=S,this.length++;else if(A!==this)for(;R<A.length;R++)this.words[R]=A.words[R];return this},i.prototype.add=function(l){var g;return l.negative!==0&&this.negative===0?(l.negative=0,g=this.sub(l),l.negative^=1,g):l.negative===0&&this.negative!==0?(this.negative=0,g=l.sub(this),this.negative=1,g):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},i.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var g=this.iadd(l);return l.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var A=this.cmp(l);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,S;A>0?(x=this,S=l):(x=l,S=this);for(var R=0,F=0;F<S.length;F++)g=(x.words[F]|0)-(S.words[F]|0)+R,R=g>>26,this.words[F]=g&67108863;for(;R!==0&&F<x.length;F++)g=(x.words[F]|0)+R,R=g>>26,this.words[F]=g&67108863;if(R===0&&F<x.length&&x!==this)for(;F<x.length;F++)this.words[F]=x.words[F];return this.length=Math.max(this.length,F),x!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(l){return this.clone().isub(l)};function U(E,l,g){g.negative=l.negative^E.negative;var A=E.length+l.length|0;g.length=A,A=A-1|0;var x=E.words[0]|0,S=l.words[0]|0,R=x*S,F=R&67108863,v=R/67108864|0;g.words[0]=F;for(var p=1;p<A;p++){for(var M=v>>>26,te=v&67108863,oe=Math.min(p,l.length-1),ue=Math.max(0,p-E.length+1);ue<=oe;ue++){var Ue=p-ue|0;x=E.words[Ue]|0,S=l.words[ue]|0,R=x*S+te,M+=R/67108864|0,te=R&67108863}g.words[p]=te|0,v=M|0}return v!==0?g.words[p]=v|0:g.length--,g._strip()}var D=function(l,g,A){var x=l.words,S=g.words,R=A.words,F=0,v,p,M,te=x[0]|0,oe=te&8191,ue=te>>>13,Ue=x[1]|0,de=Ue&8191,Se=Ue>>>13,Bn=x[2]|0,Pe=Bn&8191,Oe=Bn>>>13,Ct=x[3]|0,Ie=Ct&8191,ze=Ct>>>13,rr=x[4]|0,Ce=rr&8191,He=rr>>>13,ir=x[5]|0,Fe=ir&8191,_e=ir>>>13,Ge=x[6]|0,Ne=Ge&8191,We=Ge>>>13,tt=x[7]|0,Qe=tt&8191,f=tt>>>13,o=x[8]|0,a=o&8191,d=o>>>13,y=x[9]|0,b=y&8191,_=y>>>13,V=S[0]|0,ee=V&8191,$=V>>>13,fe=S[1]|0,Z=fe&8191,nt=fe>>>13,Gc=S[2]|0,rt=Gc&8191,it=Gc>>>13,Wc=S[3]|0,st=Wc&8191,ot=Wc>>>13,Qc=S[4]|0,at=Qc&8191,ct=Qc>>>13,Kc=S[5]|0,ut=Kc&8191,lt=Kc>>>13,jc=S[6]|0,ft=jc&8191,ht=jc>>>13,qc=S[7]|0,dt=qc&8191,pt=qc>>>13,Yc=S[8]|0,gt=Yc&8191,wt=Yc>>>13,Vc=S[9]|0,yt=Vc&8191,mt=Vc>>>13;A.negative=l.negative^g.negative,A.length=19,v=Math.imul(oe,ee),p=Math.imul(oe,$),p=p+Math.imul(ue,ee)|0,M=Math.imul(ue,$);var ao=(F+v|0)+((p&8191)<<13)|0;F=(M+(p>>>13)|0)+(ao>>>26)|0,ao&=67108863,v=Math.imul(de,ee),p=Math.imul(de,$),p=p+Math.imul(Se,ee)|0,M=Math.imul(Se,$),v=v+Math.imul(oe,Z)|0,p=p+Math.imul(oe,nt)|0,p=p+Math.imul(ue,Z)|0,M=M+Math.imul(ue,nt)|0;var co=(F+v|0)+((p&8191)<<13)|0;F=(M+(p>>>13)|0)+(co>>>26)|0,co&=67108863,v=Math.imul(Pe,ee),p=Math.imul(Pe,$),p=p+Math.imul(Oe,ee)|0,M=Math.imul(Oe,$),v=v+Math.imul(de,Z)|0,p=p+Math.imul(de,nt)|0,p=p+Math.imul(Se,Z)|0,M=M+Math.imul(Se,nt)|0,v=v+Math.imul(oe,rt)|0,p=p+Math.imul(oe,it)|0,p=p+Math.imul(ue,rt)|0,M=M+Math.imul(ue,it)|0;var uo=(F+v|0)+((p&8191)<<13)|0;F=(M+(p>>>13)|0)+(uo>>>26)|0,uo&=67108863,v=Math.imul(Ie,ee),p=Math.imul(Ie,$),p=p+Math.imul(ze,ee)|0,M=Math.imul(ze,$),v=v+Math.imul(Pe,Z)|0,p=p+Math.imul(Pe,nt)|0,p=p+Math.imul(Oe,Z)|0,M=M+Math.imul(Oe,nt)|0,v=v+Math.imul(de,rt)|0,p=p+Math.imul(de,it)|0,p=p+Math.imul(Se,rt)|0,M=M+Math.imul(Se,it)|0,v=v+Math.imul(oe,st)|0,p=p+Math.imul(oe,ot)|0,p=p+Math.imul(ue,st)|0,M=M+Math.imul(ue,ot)|0;var lo=(F+v|0)+((p&8191)<<13)|0;F=(M+(p>>>13)|0)+(lo>>>26)|0,lo&=67108863,v=Math.imul(Ce,ee),p=Math.imul(Ce,$),p=p+Math.imul(He,ee)|0,M=Math.imul(He,$),v=v+Math.imul(Ie,Z)|0,p=p+Math.imul(Ie,nt)|0,p=p+Math.imul(ze,Z)|0,M=M+Math.imul(ze,nt)|0,v=v+Math.imul(Pe,rt)|0,p=p+Math.imul(Pe,it)|0,p=p+Math.imul(Oe,rt)|0,M=M+Math.imul(Oe,it)|0,v=v+Math.imul(de,st)|0,p=p+Math.imul(de,ot)|0,p=p+Math.imul(Se,st)|0,M=M+Math.imul(Se,ot)|0,v=v+Math.imul(oe,at)|0,p=p+Math.imul(oe,ct)|0,p=p+Math.imul(ue,at)|0,M=M+Math.imul(ue,ct)|0;var fo=(F+v|0)+((p&8191)<<13)|0;F=(M+(p>>>13)|0)+(fo>>>26)|0,fo&=67108863,v=Math.imul(Fe,ee),p=Math.imul(Fe,$),p=p+Math.imul(_e,ee)|0,M=Math.imul(_e,$),v=v+Math.imul(Ce,Z)|0,p=p+Math.imul(Ce,nt)|0,p=p+Math.imul(He,Z)|0,M=M+Math.imul(He,nt)|0,v=v+Math.imul(Ie,rt)|0,p=p+Math.imul(Ie,it)|0,p=p+Math.imul(ze,rt)|0,M=M+Math.imul(ze,it)|0,v=v+Math.imul(Pe,st)|0,p=p+Math.imul(Pe,ot)|0,p=p+Math.imul(Oe,st)|0,M=M+Math.imul(Oe,ot)|0,v=v+Math.imul(de,at)|0,p=p+Math.imul(de,ct)|0,p=p+Math.imul(Se,at)|0,M=M+Math.imul(Se,ct)|0,v=v+Math.imul(oe,ut)|0,p=p+Math.imul(oe,lt)|0,p=p+Math.imul(ue,ut)|0,M=M+Math.imul(ue,lt)|0;var ho=(F+v|0)+((p&8191)<<13)|0;F=(M+(p>>>13)|0)+(ho>>>26)|0,ho&=67108863,v=Math.imul(Ne,ee),p=Math.imul(Ne,$),p=p+Math.imul(We,ee)|0,M=Math.imul(We,$),v=v+Math.imul(Fe,Z)|0,p=p+Math.imul(Fe,nt)|0,p=p+Math.imul(_e,Z)|0,M=M+Math.imul(_e,nt)|0,v=v+Math.imul(Ce,rt)|0,p=p+Math.imul(Ce,it)|0,p=p+Math.imul(He,rt)|0,M=M+Math.imul(He,it)|0,v=v+Math.imul(Ie,st)|0,p=p+Math.imul(Ie,ot)|0,p=p+Math.imul(ze,st)|0,M=M+Math.imul(ze,ot)|0,v=v+Math.imul(Pe,at)|0,p=p+Math.imul(Pe,ct)|0,p=p+Math.imul(Oe,at)|0,M=M+Math.imul(Oe,ct)|0,v=v+Math.imul(de,ut)|0,p=p+Math.imul(de,lt)|0,p=p+Math.imul(Se,ut)|0,M=M+Math.imul(Se,lt)|0,v=v+Math.imul(oe,ft)|0,p=p+Math.imul(oe,ht)|0,p=p+Math.imul(ue,ft)|0,M=M+Math.imul(ue,ht)|0;var po=(F+v|0)+((p&8191)<<13)|0;F=(M+(p>>>13)|0)+(po>>>26)|0,po&=67108863,v=Math.imul(Qe,ee),p=Math.imul(Qe,$),p=p+Math.imul(f,ee)|0,M=Math.imul(f,$),v=v+Math.imul(Ne,Z)|0,p=p+Math.imul(Ne,nt)|0,p=p+Math.imul(We,Z)|0,M=M+Math.imul(We,nt)|0,v=v+Math.imul(Fe,rt)|0,p=p+Math.imul(Fe,it)|0,p=p+Math.imul(_e,rt)|0,M=M+Math.imul(_e,it)|0,v=v+Math.imul(Ce,st)|0,p=p+Math.imul(Ce,ot)|0,p=p+Math.imul(He,st)|0,M=M+Math.imul(He,ot)|0,v=v+Math.imul(Ie,at)|0,p=p+Math.imul(Ie,ct)|0,p=p+Math.imul(ze,at)|0,M=M+Math.imul(ze,ct)|0,v=v+Math.imul(Pe,ut)|0,p=p+Math.imul(Pe,lt)|0,p=p+Math.imul(Oe,ut)|0,M=M+Math.imul(Oe,lt)|0,v=v+Math.imul(de,ft)|0,p=p+Math.imul(de,ht)|0,p=p+Math.imul(Se,ft)|0,M=M+Math.imul(Se,ht)|0,v=v+Math.imul(oe,dt)|0,p=p+Math.imul(oe,pt)|0,p=p+Math.imul(ue,dt)|0,M=M+Math.imul(ue,pt)|0;var go=(F+v|0)+((p&8191)<<13)|0;F=(M+(p>>>13)|0)+(go>>>26)|0,go&=67108863,v=Math.imul(a,ee),p=Math.imul(a,$),p=p+Math.imul(d,ee)|0,M=Math.imul(d,$),v=v+Math.imul(Qe,Z)|0,p=p+Math.imul(Qe,nt)|0,p=p+Math.imul(f,Z)|0,M=M+Math.imul(f,nt)|0,v=v+Math.imul(Ne,rt)|0,p=p+Math.imul(Ne,it)|0,p=p+Math.imul(We,rt)|0,M=M+Math.imul(We,it)|0,v=v+Math.imul(Fe,st)|0,p=p+Math.imul(Fe,ot)|0,p=p+Math.imul(_e,st)|0,M=M+Math.imul(_e,ot)|0,v=v+Math.imul(Ce,at)|0,p=p+Math.imul(Ce,ct)|0,p=p+Math.imul(He,at)|0,M=M+Math.imul(He,ct)|0,v=v+Math.imul(Ie,ut)|0,p=p+Math.imul(Ie,lt)|0,p=p+Math.imul(ze,ut)|0,M=M+Math.imul(ze,lt)|0,v=v+Math.imul(Pe,ft)|0,p=p+Math.imul(Pe,ht)|0,p=p+Math.imul(Oe,ft)|0,M=M+Math.imul(Oe,ht)|0,v=v+Math.imul(de,dt)|0,p=p+Math.imul(de,pt)|0,p=p+Math.imul(Se,dt)|0,M=M+Math.imul(Se,pt)|0,v=v+Math.imul(oe,gt)|0,p=p+Math.imul(oe,wt)|0,p=p+Math.imul(ue,gt)|0,M=M+Math.imul(ue,wt)|0;var wo=(F+v|0)+((p&8191)<<13)|0;F=(M+(p>>>13)|0)+(wo>>>26)|0,wo&=67108863,v=Math.imul(b,ee),p=Math.imul(b,$),p=p+Math.imul(_,ee)|0,M=Math.imul(_,$),v=v+Math.imul(a,Z)|0,p=p+Math.imul(a,nt)|0,p=p+Math.imul(d,Z)|0,M=M+Math.imul(d,nt)|0,v=v+Math.imul(Qe,rt)|0,p=p+Math.imul(Qe,it)|0,p=p+Math.imul(f,rt)|0,M=M+Math.imul(f,it)|0,v=v+Math.imul(Ne,st)|0,p=p+Math.imul(Ne,ot)|0,p=p+Math.imul(We,st)|0,M=M+Math.imul(We,ot)|0,v=v+Math.imul(Fe,at)|0,p=p+Math.imul(Fe,ct)|0,p=p+Math.imul(_e,at)|0,M=M+Math.imul(_e,ct)|0,v=v+Math.imul(Ce,ut)|0,p=p+Math.imul(Ce,lt)|0,p=p+Math.imul(He,ut)|0,M=M+Math.imul(He,lt)|0,v=v+Math.imul(Ie,ft)|0,p=p+Math.imul(Ie,ht)|0,p=p+Math.imul(ze,ft)|0,M=M+Math.imul(ze,ht)|0,v=v+Math.imul(Pe,dt)|0,p=p+Math.imul(Pe,pt)|0,p=p+Math.imul(Oe,dt)|0,M=M+Math.imul(Oe,pt)|0,v=v+Math.imul(de,gt)|0,p=p+Math.imul(de,wt)|0,p=p+Math.imul(Se,gt)|0,M=M+Math.imul(Se,wt)|0,v=v+Math.imul(oe,yt)|0,p=p+Math.imul(oe,mt)|0,p=p+Math.imul(ue,yt)|0,M=M+Math.imul(ue,mt)|0;var yo=(F+v|0)+((p&8191)<<13)|0;F=(M+(p>>>13)|0)+(yo>>>26)|0,yo&=67108863,v=Math.imul(b,Z),p=Math.imul(b,nt),p=p+Math.imul(_,Z)|0,M=Math.imul(_,nt),v=v+Math.imul(a,rt)|0,p=p+Math.imul(a,it)|0,p=p+Math.imul(d,rt)|0,M=M+Math.imul(d,it)|0,v=v+Math.imul(Qe,st)|0,p=p+Math.imul(Qe,ot)|0,p=p+Math.imul(f,st)|0,M=M+Math.imul(f,ot)|0,v=v+Math.imul(Ne,at)|0,p=p+Math.imul(Ne,ct)|0,p=p+Math.imul(We,at)|0,M=M+Math.imul(We,ct)|0,v=v+Math.imul(Fe,ut)|0,p=p+Math.imul(Fe,lt)|0,p=p+Math.imul(_e,ut)|0,M=M+Math.imul(_e,lt)|0,v=v+Math.imul(Ce,ft)|0,p=p+Math.imul(Ce,ht)|0,p=p+Math.imul(He,ft)|0,M=M+Math.imul(He,ht)|0,v=v+Math.imul(Ie,dt)|0,p=p+Math.imul(Ie,pt)|0,p=p+Math.imul(ze,dt)|0,M=M+Math.imul(ze,pt)|0,v=v+Math.imul(Pe,gt)|0,p=p+Math.imul(Pe,wt)|0,p=p+Math.imul(Oe,gt)|0,M=M+Math.imul(Oe,wt)|0,v=v+Math.imul(de,yt)|0,p=p+Math.imul(de,mt)|0,p=p+Math.imul(Se,yt)|0,M=M+Math.imul(Se,mt)|0;var mo=(F+v|0)+((p&8191)<<13)|0;F=(M+(p>>>13)|0)+(mo>>>26)|0,mo&=67108863,v=Math.imul(b,rt),p=Math.imul(b,it),p=p+Math.imul(_,rt)|0,M=Math.imul(_,it),v=v+Math.imul(a,st)|0,p=p+Math.imul(a,ot)|0,p=p+Math.imul(d,st)|0,M=M+Math.imul(d,ot)|0,v=v+Math.imul(Qe,at)|0,p=p+Math.imul(Qe,ct)|0,p=p+Math.imul(f,at)|0,M=M+Math.imul(f,ct)|0,v=v+Math.imul(Ne,ut)|0,p=p+Math.imul(Ne,lt)|0,p=p+Math.imul(We,ut)|0,M=M+Math.imul(We,lt)|0,v=v+Math.imul(Fe,ft)|0,p=p+Math.imul(Fe,ht)|0,p=p+Math.imul(_e,ft)|0,M=M+Math.imul(_e,ht)|0,v=v+Math.imul(Ce,dt)|0,p=p+Math.imul(Ce,pt)|0,p=p+Math.imul(He,dt)|0,M=M+Math.imul(He,pt)|0,v=v+Math.imul(Ie,gt)|0,p=p+Math.imul(Ie,wt)|0,p=p+Math.imul(ze,gt)|0,M=M+Math.imul(ze,wt)|0,v=v+Math.imul(Pe,yt)|0,p=p+Math.imul(Pe,mt)|0,p=p+Math.imul(Oe,yt)|0,M=M+Math.imul(Oe,mt)|0;var Ao=(F+v|0)+((p&8191)<<13)|0;F=(M+(p>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,v=Math.imul(b,st),p=Math.imul(b,ot),p=p+Math.imul(_,st)|0,M=Math.imul(_,ot),v=v+Math.imul(a,at)|0,p=p+Math.imul(a,ct)|0,p=p+Math.imul(d,at)|0,M=M+Math.imul(d,ct)|0,v=v+Math.imul(Qe,ut)|0,p=p+Math.imul(Qe,lt)|0,p=p+Math.imul(f,ut)|0,M=M+Math.imul(f,lt)|0,v=v+Math.imul(Ne,ft)|0,p=p+Math.imul(Ne,ht)|0,p=p+Math.imul(We,ft)|0,M=M+Math.imul(We,ht)|0,v=v+Math.imul(Fe,dt)|0,p=p+Math.imul(Fe,pt)|0,p=p+Math.imul(_e,dt)|0,M=M+Math.imul(_e,pt)|0,v=v+Math.imul(Ce,gt)|0,p=p+Math.imul(Ce,wt)|0,p=p+Math.imul(He,gt)|0,M=M+Math.imul(He,wt)|0,v=v+Math.imul(Ie,yt)|0,p=p+Math.imul(Ie,mt)|0,p=p+Math.imul(ze,yt)|0,M=M+Math.imul(ze,mt)|0;var bo=(F+v|0)+((p&8191)<<13)|0;F=(M+(p>>>13)|0)+(bo>>>26)|0,bo&=67108863,v=Math.imul(b,at),p=Math.imul(b,ct),p=p+Math.imul(_,at)|0,M=Math.imul(_,ct),v=v+Math.imul(a,ut)|0,p=p+Math.imul(a,lt)|0,p=p+Math.imul(d,ut)|0,M=M+Math.imul(d,lt)|0,v=v+Math.imul(Qe,ft)|0,p=p+Math.imul(Qe,ht)|0,p=p+Math.imul(f,ft)|0,M=M+Math.imul(f,ht)|0,v=v+Math.imul(Ne,dt)|0,p=p+Math.imul(Ne,pt)|0,p=p+Math.imul(We,dt)|0,M=M+Math.imul(We,pt)|0,v=v+Math.imul(Fe,gt)|0,p=p+Math.imul(Fe,wt)|0,p=p+Math.imul(_e,gt)|0,M=M+Math.imul(_e,wt)|0,v=v+Math.imul(Ce,yt)|0,p=p+Math.imul(Ce,mt)|0,p=p+Math.imul(He,yt)|0,M=M+Math.imul(He,mt)|0;var vo=(F+v|0)+((p&8191)<<13)|0;F=(M+(p>>>13)|0)+(vo>>>26)|0,vo&=67108863,v=Math.imul(b,ut),p=Math.imul(b,lt),p=p+Math.imul(_,ut)|0,M=Math.imul(_,lt),v=v+Math.imul(a,ft)|0,p=p+Math.imul(a,ht)|0,p=p+Math.imul(d,ft)|0,M=M+Math.imul(d,ht)|0,v=v+Math.imul(Qe,dt)|0,p=p+Math.imul(Qe,pt)|0,p=p+Math.imul(f,dt)|0,M=M+Math.imul(f,pt)|0,v=v+Math.imul(Ne,gt)|0,p=p+Math.imul(Ne,wt)|0,p=p+Math.imul(We,gt)|0,M=M+Math.imul(We,wt)|0,v=v+Math.imul(Fe,yt)|0,p=p+Math.imul(Fe,mt)|0,p=p+Math.imul(_e,yt)|0,M=M+Math.imul(_e,mt)|0;var xo=(F+v|0)+((p&8191)<<13)|0;F=(M+(p>>>13)|0)+(xo>>>26)|0,xo&=67108863,v=Math.imul(b,ft),p=Math.imul(b,ht),p=p+Math.imul(_,ft)|0,M=Math.imul(_,ht),v=v+Math.imul(a,dt)|0,p=p+Math.imul(a,pt)|0,p=p+Math.imul(d,dt)|0,M=M+Math.imul(d,pt)|0,v=v+Math.imul(Qe,gt)|0,p=p+Math.imul(Qe,wt)|0,p=p+Math.imul(f,gt)|0,M=M+Math.imul(f,wt)|0,v=v+Math.imul(Ne,yt)|0,p=p+Math.imul(Ne,mt)|0,p=p+Math.imul(We,yt)|0,M=M+Math.imul(We,mt)|0;var Eo=(F+v|0)+((p&8191)<<13)|0;F=(M+(p>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,v=Math.imul(b,dt),p=Math.imul(b,pt),p=p+Math.imul(_,dt)|0,M=Math.imul(_,pt),v=v+Math.imul(a,gt)|0,p=p+Math.imul(a,wt)|0,p=p+Math.imul(d,gt)|0,M=M+Math.imul(d,wt)|0,v=v+Math.imul(Qe,yt)|0,p=p+Math.imul(Qe,mt)|0,p=p+Math.imul(f,yt)|0,M=M+Math.imul(f,mt)|0;var Io=(F+v|0)+((p&8191)<<13)|0;F=(M+(p>>>13)|0)+(Io>>>26)|0,Io&=67108863,v=Math.imul(b,gt),p=Math.imul(b,wt),p=p+Math.imul(_,gt)|0,M=Math.imul(_,wt),v=v+Math.imul(a,yt)|0,p=p+Math.imul(a,mt)|0,p=p+Math.imul(d,yt)|0,M=M+Math.imul(d,mt)|0;var Bo=(F+v|0)+((p&8191)<<13)|0;F=(M+(p>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,v=Math.imul(b,yt),p=Math.imul(b,mt),p=p+Math.imul(_,yt)|0,M=Math.imul(_,mt);var So=(F+v|0)+((p&8191)<<13)|0;return F=(M+(p>>>13)|0)+(So>>>26)|0,So&=67108863,R[0]=ao,R[1]=co,R[2]=uo,R[3]=lo,R[4]=fo,R[5]=ho,R[6]=po,R[7]=go,R[8]=wo,R[9]=yo,R[10]=mo,R[11]=Ao,R[12]=bo,R[13]=vo,R[14]=xo,R[15]=Eo,R[16]=Io,R[17]=Bo,R[18]=So,F!==0&&(R[19]=F,A.length++),A};Math.imul||(D=U);function L(E,l,g){g.negative=l.negative^E.negative,g.length=E.length+l.length;for(var A=0,x=0,S=0;S<g.length-1;S++){var R=x;x=0;for(var F=A&67108863,v=Math.min(S,l.length-1),p=Math.max(0,S-E.length+1);p<=v;p++){var M=S-p,te=E.words[M]|0,oe=l.words[p]|0,ue=te*oe,Ue=ue&67108863;R=R+(ue/67108864|0)|0,Ue=Ue+F|0,F=Ue&67108863,R=R+(Ue>>>26)|0,x+=R>>>26,R&=67108863}g.words[S]=F,A=R,R=x}return A!==0?g.words[S]=A:g.length--,g._strip()}function z(E,l,g){return L(E,l,g)}i.prototype.mulTo=function(l,g){var A,x=this.length+l.length;return this.length===10&&l.length===10?A=D(this,l,g):x<63?A=U(this,l,g):x<1024?A=L(this,l,g):A=z(this,l,g),A},i.prototype.mul=function(l){var g=new i(null);return g.words=new Array(this.length+l.length),this.mulTo(l,g)},i.prototype.mulf=function(l){var g=new i(null);return g.words=new Array(this.length+l.length),z(this,l,g)},i.prototype.imul=function(l){return this.clone().mulTo(l,this)},i.prototype.imuln=function(l){var g=l<0;g&&(l=-l),n(typeof l=="number"),n(l<67108864);for(var A=0,x=0;x<this.length;x++){var S=(this.words[x]|0)*l,R=(S&67108863)+(A&67108863);A>>=26,A+=S/67108864|0,A+=R>>>26,this.words[x]=R&67108863}return A!==0&&(this.words[x]=A,this.length++),g?this.ineg():this},i.prototype.muln=function(l){return this.clone().imuln(l)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(l){var g=C(l);if(g.length===0)return new i(1);for(var A=this,x=0;x<g.length&&g[x]===0;x++,A=A.sqr());if(++x<g.length)for(var S=A.sqr();x<g.length;x++,S=S.sqr())g[x]!==0&&(A=A.mul(S));return A},i.prototype.iushln=function(l){n(typeof l=="number"&&l>=0);var g=l%26,A=(l-g)/26,x=67108863>>>26-g<<26-g,S;if(g!==0){var R=0;for(S=0;S<this.length;S++){var F=this.words[S]&x,v=(this.words[S]|0)-F<<g;this.words[S]=v|R,R=F>>>26-g}R&&(this.words[S]=R,this.length++)}if(A!==0){for(S=this.length-1;S>=0;S--)this.words[S+A]=this.words[S];for(S=0;S<A;S++)this.words[S]=0;this.length+=A}return this._strip()},i.prototype.ishln=function(l){return n(this.negative===0),this.iushln(l)},i.prototype.iushrn=function(l,g,A){n(typeof l=="number"&&l>=0);var x;g?x=(g-g%26)/26:x=0;var S=l%26,R=Math.min((l-S)/26,this.length),F=67108863^67108863>>>S<<S,v=A;if(x-=R,x=Math.max(0,x),v){for(var p=0;p<R;p++)v.words[p]=this.words[p];v.length=R}if(R!==0)if(this.length>R)for(this.length-=R,p=0;p<this.length;p++)this.words[p]=this.words[p+R];else this.words[0]=0,this.length=1;var M=0;for(p=this.length-1;p>=0&&(M!==0||p>=x);p--){var te=this.words[p]|0;this.words[p]=M<<26-S|te>>>S,M=te&F}return v&&M!==0&&(v.words[v.length++]=M),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(l,g,A){return n(this.negative===0),this.iushrn(l,g,A)},i.prototype.shln=function(l){return this.clone().ishln(l)},i.prototype.ushln=function(l){return this.clone().iushln(l)},i.prototype.shrn=function(l){return this.clone().ishrn(l)},i.prototype.ushrn=function(l){return this.clone().iushrn(l)},i.prototype.testn=function(l){n(typeof l=="number"&&l>=0);var g=l%26,A=(l-g)/26,x=1<<g;if(this.length<=A)return!1;var S=this.words[A];return!!(S&x)},i.prototype.imaskn=function(l){n(typeof l=="number"&&l>=0);var g=l%26,A=(l-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(g!==0&&A++,this.length=Math.min(A,this.length),g!==0){var x=67108863^67108863>>>g<<g;this.words[this.length-1]&=x}return this._strip()},i.prototype.maskn=function(l){return this.clone().imaskn(l)},i.prototype.iaddn=function(l){return n(typeof l=="number"),n(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},i.prototype._iaddn=function(l){this.words[0]+=l;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},i.prototype.isubn=function(l){if(n(typeof l=="number"),n(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},i.prototype.addn=function(l){return this.clone().iaddn(l)},i.prototype.subn=function(l){return this.clone().isubn(l)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(l,g,A){var x=l.length+A,S;this._expand(x);var R,F=0;for(S=0;S<l.length;S++){R=(this.words[S+A]|0)+F;var v=(l.words[S]|0)*g;R-=v&67108863,F=(R>>26)-(v/67108864|0),this.words[S+A]=R&67108863}for(;S<this.length-A;S++)R=(this.words[S+A]|0)+F,F=R>>26,this.words[S+A]=R&67108863;if(F===0)return this._strip();for(n(F===-1),F=0,S=0;S<this.length;S++)R=-(this.words[S]|0)+F,F=R>>26,this.words[S]=R&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(l,g){var A=this.length-l.length,x=this.clone(),S=l,R=S.words[S.length-1]|0,F=this._countBits(R);A=26-F,A!==0&&(S=S.ushln(A),x.iushln(A),R=S.words[S.length-1]|0);var v=x.length-S.length,p;if(g!=="mod"){p=new i(null),p.length=v+1,p.words=new Array(p.length);for(var M=0;M<p.length;M++)p.words[M]=0}var te=x.clone()._ishlnsubmul(S,1,v);te.negative===0&&(x=te,p&&(p.words[v]=1));for(var oe=v-1;oe>=0;oe--){var ue=(x.words[S.length+oe]|0)*67108864+(x.words[S.length+oe-1]|0);for(ue=Math.min(ue/R|0,67108863),x._ishlnsubmul(S,ue,oe);x.negative!==0;)ue--,x.negative=0,x._ishlnsubmul(S,1,oe),x.isZero()||(x.negative^=1);p&&(p.words[oe]=ue)}return p&&p._strip(),x._strip(),g!=="div"&&A!==0&&x.iushrn(A),{div:p||null,mod:x}},i.prototype.divmod=function(l,g,A){if(n(!l.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,S,R;return this.negative!==0&&l.negative===0?(R=this.neg().divmod(l,g),g!=="mod"&&(x=R.div.neg()),g!=="div"&&(S=R.mod.neg(),A&&S.negative!==0&&S.iadd(l)),{div:x,mod:S}):this.negative===0&&l.negative!==0?(R=this.divmod(l.neg(),g),g!=="mod"&&(x=R.div.neg()),{div:x,mod:R.mod}):(this.negative&l.negative)!==0?(R=this.neg().divmod(l.neg(),g),g!=="div"&&(S=R.mod.neg(),A&&S.negative!==0&&S.isub(l)),{div:R.div,mod:S}):l.length>this.length||this.cmp(l)<0?{div:new i(0),mod:this}:l.length===1?g==="div"?{div:this.divn(l.words[0]),mod:null}:g==="mod"?{div:null,mod:new i(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new i(this.modrn(l.words[0]))}:this._wordDiv(l,g)},i.prototype.div=function(l){return this.divmod(l,"div",!1).div},i.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},i.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},i.prototype.divRound=function(l){var g=this.divmod(l);if(g.mod.isZero())return g.div;var A=g.div.negative!==0?g.mod.isub(l):g.mod,x=l.ushrn(1),S=l.andln(1),R=A.cmp(x);return R<0||S===1&&R===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},i.prototype.modrn=function(l){var g=l<0;g&&(l=-l),n(l<=67108863);for(var A=(1<<26)%l,x=0,S=this.length-1;S>=0;S--)x=(A*x+(this.words[S]|0))%l;return g?-x:x},i.prototype.modn=function(l){return this.modrn(l)},i.prototype.idivn=function(l){var g=l<0;g&&(l=-l),n(l<=67108863);for(var A=0,x=this.length-1;x>=0;x--){var S=(this.words[x]|0)+A*67108864;this.words[x]=S/l|0,A=S%l}return this._strip(),g?this.ineg():this},i.prototype.divn=function(l){return this.clone().idivn(l)},i.prototype.egcd=function(l){n(l.negative===0),n(!l.isZero());var g=this,A=l.clone();g.negative!==0?g=g.umod(l):g=g.clone();for(var x=new i(1),S=new i(0),R=new i(0),F=new i(1),v=0;g.isEven()&&A.isEven();)g.iushrn(1),A.iushrn(1),++v;for(var p=A.clone(),M=g.clone();!g.isZero();){for(var te=0,oe=1;(g.words[0]&oe)===0&&te<26;++te,oe<<=1);if(te>0)for(g.iushrn(te);te-- >0;)(x.isOdd()||S.isOdd())&&(x.iadd(p),S.isub(M)),x.iushrn(1),S.iushrn(1);for(var ue=0,Ue=1;(A.words[0]&Ue)===0&&ue<26;++ue,Ue<<=1);if(ue>0)for(A.iushrn(ue);ue-- >0;)(R.isOdd()||F.isOdd())&&(R.iadd(p),F.isub(M)),R.iushrn(1),F.iushrn(1);g.cmp(A)>=0?(g.isub(A),x.isub(R),S.isub(F)):(A.isub(g),R.isub(x),F.isub(S))}return{a:R,b:F,gcd:A.iushln(v)}},i.prototype._invmp=function(l){n(l.negative===0),n(!l.isZero());var g=this,A=l.clone();g.negative!==0?g=g.umod(l):g=g.clone();for(var x=new i(1),S=new i(0),R=A.clone();g.cmpn(1)>0&&A.cmpn(1)>0;){for(var F=0,v=1;(g.words[0]&v)===0&&F<26;++F,v<<=1);if(F>0)for(g.iushrn(F);F-- >0;)x.isOdd()&&x.iadd(R),x.iushrn(1);for(var p=0,M=1;(A.words[0]&M)===0&&p<26;++p,M<<=1);if(p>0)for(A.iushrn(p);p-- >0;)S.isOdd()&&S.iadd(R),S.iushrn(1);g.cmp(A)>=0?(g.isub(A),x.isub(S)):(A.isub(g),S.isub(x))}var te;return g.cmpn(1)===0?te=x:te=S,te.cmpn(0)<0&&te.iadd(l),te},i.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var g=this.clone(),A=l.clone();g.negative=0,A.negative=0;for(var x=0;g.isEven()&&A.isEven();x++)g.iushrn(1),A.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;A.isEven();)A.iushrn(1);var S=g.cmp(A);if(S<0){var R=g;g=A,A=R}else if(S===0||A.cmpn(1)===0)break;g.isub(A)}while(!0);return A.iushln(x)},i.prototype.invm=function(l){return this.egcd(l).a.umod(l)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(l){return this.words[0]&l},i.prototype.bincn=function(l){n(typeof l=="number");var g=l%26,A=(l-g)/26,x=1<<g;if(this.length<=A)return this._expand(A+1),this.words[A]|=x,this;for(var S=x,R=A;S!==0&&R<this.length;R++){var F=this.words[R]|0;F+=S,S=F>>>26,F&=67108863,this.words[R]=F}return S!==0&&(this.words[R]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(l){var g=l<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var A;if(this.length>1)A=1;else{g&&(l=-l),n(l<=67108863,"Number is too big");var x=this.words[0]|0;A=x===l?0:x<l?-1:1}return this.negative!==0?-A|0:A},i.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var g=this.ucmp(l);return this.negative!==0?-g|0:g},i.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var g=0,A=this.length-1;A>=0;A--){var x=this.words[A]|0,S=l.words[A]|0;if(x!==S){x<S?g=-1:x>S&&(g=1);break}}return g},i.prototype.gtn=function(l){return this.cmpn(l)===1},i.prototype.gt=function(l){return this.cmp(l)===1},i.prototype.gten=function(l){return this.cmpn(l)>=0},i.prototype.gte=function(l){return this.cmp(l)>=0},i.prototype.ltn=function(l){return this.cmpn(l)===-1},i.prototype.lt=function(l){return this.cmp(l)===-1},i.prototype.lten=function(l){return this.cmpn(l)<=0},i.prototype.lte=function(l){return this.cmp(l)<=0},i.prototype.eqn=function(l){return this.cmpn(l)===0},i.prototype.eq=function(l){return this.cmp(l)===0},i.red=function(l){return new ge(l)},i.prototype.toRed=function(l){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(l){return this.red=l,this},i.prototype.forceRed=function(l){return n(!this.red,"Already a number in reduction context"),this._forceRed(l)},i.prototype.redAdd=function(l){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},i.prototype.redIAdd=function(l){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},i.prototype.redSub=function(l){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},i.prototype.redISub=function(l){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},i.prototype.redShl=function(l){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},i.prototype.redMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},i.prototype.redIMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(l){return n(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var P={k256:null,p224:null,p192:null,p25519:null};function W(E,l){this.name=E,this.p=new i(l,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var l=new i(null);return l.words=new Array(Math.ceil(this.n/13)),l},W.prototype.ireduce=function(l){var g=l,A;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),A=g.bitLength();while(A>this.n);var x=A<this.n?-1:g.ucmp(this.p);return x===0?(g.words[0]=0,g.length=1):x>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},W.prototype.split=function(l,g){l.iushrn(this.n,0,g)},W.prototype.imulK=function(l){return l.imul(this.k)};function Q(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(Q,W),Q.prototype.split=function(l,g){for(var A=4194303,x=Math.min(l.length,9),S=0;S<x;S++)g.words[S]=l.words[S];if(g.length=x,l.length<=9){l.words[0]=0,l.length=1;return}var R=l.words[9];for(g.words[g.length++]=R&A,S=10;S<l.length;S++){var F=l.words[S]|0;l.words[S-10]=(F&A)<<4|R>>>22,R=F}R>>>=22,l.words[S-10]=R,R===0&&l.length>10?l.length-=10:l.length-=9},Q.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var g=0,A=0;A<l.length;A++){var x=l.words[A]|0;g+=x*977,l.words[A]=g&67108863,g=x*64+(g/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function j(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(j,W);function me(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(me,W);function Le(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(Le,W),Le.prototype.imulK=function(l){for(var g=0,A=0;A<l.length;A++){var x=(l.words[A]|0)*19+g,S=x&67108863;x>>>=26,l.words[A]=S,g=x}return g!==0&&(l.words[l.length++]=g),l},i._prime=function(l){if(P[l])return P[l];var g;if(l==="k256")g=new Q;else if(l==="p224")g=new j;else if(l==="p192")g=new me;else if(l==="p25519")g=new Le;else throw new Error("Unknown prime "+l);return P[l]=g,g};function ge(E){if(typeof E=="string"){var l=i._prime(E);this.m=l.p,this.prime=l}else n(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}ge.prototype._verify1=function(l){n(l.negative===0,"red works only with positives"),n(l.red,"red works only with red numbers")},ge.prototype._verify2=function(l,g){n((l.negative|g.negative)===0,"red works only with positives"),n(l.red&&l.red===g.red,"red works only with red numbers")},ge.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(m(l,l.umod(this.m)._forceRed(this)),l)},ge.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},ge.prototype.add=function(l,g){this._verify2(l,g);var A=l.add(g);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},ge.prototype.iadd=function(l,g){this._verify2(l,g);var A=l.iadd(g);return A.cmp(this.m)>=0&&A.isub(this.m),A},ge.prototype.sub=function(l,g){this._verify2(l,g);var A=l.sub(g);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},ge.prototype.isub=function(l,g){this._verify2(l,g);var A=l.isub(g);return A.cmpn(0)<0&&A.iadd(this.m),A},ge.prototype.shl=function(l,g){return this._verify1(l),this.imod(l.ushln(g))},ge.prototype.imul=function(l,g){return this._verify2(l,g),this.imod(l.imul(g))},ge.prototype.mul=function(l,g){return this._verify2(l,g),this.imod(l.mul(g))},ge.prototype.isqr=function(l){return this.imul(l,l.clone())},ge.prototype.sqr=function(l){return this.mul(l,l)},ge.prototype.sqrt=function(l){if(l.isZero())return l.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var A=this.m.add(new i(1)).iushrn(2);return this.pow(l,A)}for(var x=this.m.subn(1),S=0;!x.isZero()&&x.andln(1)===0;)S++,x.iushrn(1);n(!x.isZero());var R=new i(1).toRed(this),F=R.redNeg(),v=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new i(2*p*p).toRed(this);this.pow(p,v).cmp(F)!==0;)p.redIAdd(F);for(var M=this.pow(p,x),te=this.pow(l,x.addn(1).iushrn(1)),oe=this.pow(l,x),ue=S;oe.cmp(R)!==0;){for(var Ue=oe,de=0;Ue.cmp(R)!==0;de++)Ue=Ue.redSqr();n(de<ue);var Se=this.pow(M,new i(1).iushln(ue-de-1));te=te.redMul(Se),M=Se.redSqr(),oe=oe.redMul(M),ue=de}return te},ge.prototype.invm=function(l){var g=l._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},ge.prototype.pow=function(l,g){if(g.isZero())return new i(1).toRed(this);if(g.cmpn(1)===0)return l.clone();var A=4,x=new Array(1<<A);x[0]=new i(1).toRed(this),x[1]=l;for(var S=2;S<x.length;S++)x[S]=this.mul(x[S-1],l);var R=x[0],F=0,v=0,p=g.bitLength()%26;for(p===0&&(p=26),S=g.length-1;S>=0;S--){for(var M=g.words[S],te=p-1;te>=0;te--){var oe=M>>te&1;if(R!==x[0]&&(R=this.sqr(R)),oe===0&&F===0){v=0;continue}F<<=1,F|=oe,v++,!(v!==A&&(S!==0||te!==0))&&(R=this.mul(R,x[F]),v=0,F=0)}p=26}return R},ge.prototype.convertTo=function(l){var g=l.umod(this.m);return g===l?g.clone():g},ge.prototype.convertFrom=function(l){var g=l.clone();return g.red=null,g},i.mont=function(l){return new Re(l)};function Re(E){ge.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(Re,ge),Re.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},Re.prototype.convertFrom=function(l){var g=this.imod(l.mul(this.rinv));return g.red=null,g},Re.prototype.imul=function(l,g){if(l.isZero()||g.isZero())return l.words[0]=0,l.length=1,l;var A=l.imul(g),x=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=A.isub(x).iushrn(this.shift),R=S;return S.cmp(this.m)>=0?R=S.isub(this.m):S.cmpn(0)<0&&(R=S.iadd(this.m)),R._forceRed(this)},Re.prototype.mul=function(l,g){if(l.isZero()||g.isZero())return new i(0)._forceRed(this);var A=l.mul(g),x=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=A.isub(x).iushrn(this.shift),R=S;return S.cmp(this.m)>=0?R=S.isub(this.m):S.cmpn(0)<0&&(R=S.iadd(this.m)),R._forceRed(this)},Re.prototype.invm=function(l){var g=this.imod(l._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(r,Vt)})(qi);const Wo=qi.exports;var Wn={exports:{}},Yi={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=cr,t=Fr,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=u,r.SlowBuffer=D,r.INSPECT_MAX_BYTES=50;const s=2147483647;r.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=i(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const f=new Uint8Array(1),o={foo:function(){return 42}};return Object.setPrototypeOf(o,Uint8Array.prototype),Object.setPrototypeOf(f,o),f.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function c(f){if(f>s)throw new RangeError('The value "'+f+'" is invalid for option "size"');const o=new Uint8Array(f);return Object.setPrototypeOf(o,u.prototype),o}function u(f,o,a){if(typeof f=="number"){if(typeof o=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return I(f)}return h(f,o,a)}u.poolSize=8192;function h(f,o,a){if(typeof f=="string")return N(f,o);if(ArrayBuffer.isView(f))return k(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(Ge(f,ArrayBuffer)||f&&Ge(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ge(f,SharedArrayBuffer)||f&&Ge(f.buffer,SharedArrayBuffer)))return T(f,o,a);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const d=f.valueOf&&f.valueOf();if(d!=null&&d!==f)return u.from(d,o,a);const y=C(f);if(y)return y;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return u.from(f[Symbol.toPrimitive]("string"),o,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}u.from=function(f,o,a){return h(f,o,a)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function w(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function m(f,o,a){return w(f),f<=0?c(f):o!==void 0?typeof a=="string"?c(f).fill(o,a):c(f).fill(o):c(f)}u.alloc=function(f,o,a){return m(f,o,a)};function I(f){return w(f),c(f<0?0:U(f)|0)}u.allocUnsafe=function(f){return I(f)},u.allocUnsafeSlow=function(f){return I(f)};function N(f,o){if((typeof o!="string"||o==="")&&(o="utf8"),!u.isEncoding(o))throw new TypeError("Unknown encoding: "+o);const a=L(f,o)|0;let d=c(a);const y=d.write(f,o);return y!==a&&(d=d.slice(0,y)),d}function B(f){const o=f.length<0?0:U(f.length)|0,a=c(o);for(let d=0;d<o;d+=1)a[d]=f[d]&255;return a}function k(f){if(Ge(f,Uint8Array)){const o=new Uint8Array(f);return T(o.buffer,o.byteOffset,o.byteLength)}return B(f)}function T(f,o,a){if(o<0||f.byteLength<o)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<o+(a||0))throw new RangeError('"length" is outside of buffer bounds');let d;return o===void 0&&a===void 0?d=new Uint8Array(f):a===void 0?d=new Uint8Array(f,o):d=new Uint8Array(f,o,a),Object.setPrototypeOf(d,u.prototype),d}function C(f){if(u.isBuffer(f)){const o=U(f.length)|0,a=c(o);return a.length===0||f.copy(a,0,0,o),a}if(f.length!==void 0)return typeof f.length!="number"||Ne(f.length)?c(0):B(f);if(f.type==="Buffer"&&Array.isArray(f.data))return B(f.data)}function U(f){if(f>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return f|0}function D(f){return+f!=f&&(f=0),u.alloc(+f)}u.isBuffer=function(o){return o!=null&&o._isBuffer===!0&&o!==u.prototype},u.compare=function(o,a){if(Ge(o,Uint8Array)&&(o=u.from(o,o.offset,o.byteLength)),Ge(a,Uint8Array)&&(a=u.from(a,a.offset,a.byteLength)),!u.isBuffer(o)||!u.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(o===a)return 0;let d=o.length,y=a.length;for(let b=0,_=Math.min(d,y);b<_;++b)if(o[b]!==a[b]){d=o[b],y=a[b];break}return d<y?-1:y<d?1:0},u.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(o,a){if(!Array.isArray(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return u.alloc(0);let d;if(a===void 0)for(a=0,d=0;d<o.length;++d)a+=o[d].length;const y=u.allocUnsafe(a);let b=0;for(d=0;d<o.length;++d){let _=o[d];if(Ge(_,Uint8Array))b+_.length>y.length?(u.isBuffer(_)||(_=u.from(_)),_.copy(y,b)):Uint8Array.prototype.set.call(y,_,b);else if(u.isBuffer(_))_.copy(y,b);else throw new TypeError('"list" argument must be an Array of Buffers');b+=_.length}return y};function L(f,o){if(u.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||Ge(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);const a=f.length,d=arguments.length>2&&arguments[2]===!0;if(!d&&a===0)return 0;let y=!1;for(;;)switch(o){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return Ce(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return Fe(f).length;default:if(y)return d?-1:Ce(f).length;o=(""+o).toLowerCase(),y=!0}}u.byteLength=L;function z(f,o,a){let d=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,o>>>=0,a<=o))return"";for(f||(f="utf8");;)switch(f){case"hex":return R(this,o,a);case"utf8":case"utf-8":return l(this,o,a);case"ascii":return x(this,o,a);case"latin1":case"binary":return S(this,o,a);case"base64":return E(this,o,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,o,a);default:if(d)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),d=!0}}u.prototype._isBuffer=!0;function P(f,o,a){const d=f[o];f[o]=f[a],f[a]=d}u.prototype.swap16=function(){const o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let a=0;a<o;a+=2)P(this,a,a+1);return this},u.prototype.swap32=function(){const o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let a=0;a<o;a+=4)P(this,a,a+3),P(this,a+1,a+2);return this},u.prototype.swap64=function(){const o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let a=0;a<o;a+=8)P(this,a,a+7),P(this,a+1,a+6),P(this,a+2,a+5),P(this,a+3,a+4);return this},u.prototype.toString=function(){const o=this.length;return o===0?"":arguments.length===0?l(this,0,o):z.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(o){if(!u.isBuffer(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:u.compare(this,o)===0},u.prototype.inspect=function(){let o="";const a=r.INSPECT_MAX_BYTES;return o=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(o+=" ... "),"<Buffer "+o+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(o,a,d,y,b){if(Ge(o,Uint8Array)&&(o=u.from(o,o.offset,o.byteLength)),!u.isBuffer(o))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof o);if(a===void 0&&(a=0),d===void 0&&(d=o?o.length:0),y===void 0&&(y=0),b===void 0&&(b=this.length),a<0||d>o.length||y<0||b>this.length)throw new RangeError("out of range index");if(y>=b&&a>=d)return 0;if(y>=b)return-1;if(a>=d)return 1;if(a>>>=0,d>>>=0,y>>>=0,b>>>=0,this===o)return 0;let _=b-y,V=d-a;const ee=Math.min(_,V),$=this.slice(y,b),fe=o.slice(a,d);for(let Z=0;Z<ee;++Z)if($[Z]!==fe[Z]){_=$[Z],V=fe[Z];break}return _<V?-1:V<_?1:0};function W(f,o,a,d,y){if(f.length===0)return-1;if(typeof a=="string"?(d=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,Ne(a)&&(a=y?0:f.length-1),a<0&&(a=f.length+a),a>=f.length){if(y)return-1;a=f.length-1}else if(a<0)if(y)a=0;else return-1;if(typeof o=="string"&&(o=u.from(o,d)),u.isBuffer(o))return o.length===0?-1:Q(f,o,a,d,y);if(typeof o=="number")return o=o&255,typeof Uint8Array.prototype.indexOf=="function"?y?Uint8Array.prototype.indexOf.call(f,o,a):Uint8Array.prototype.lastIndexOf.call(f,o,a):Q(f,[o],a,d,y);throw new TypeError("val must be string, number or Buffer")}function Q(f,o,a,d,y){let b=1,_=f.length,V=o.length;if(d!==void 0&&(d=String(d).toLowerCase(),d==="ucs2"||d==="ucs-2"||d==="utf16le"||d==="utf-16le")){if(f.length<2||o.length<2)return-1;b=2,_/=2,V/=2,a/=2}function ee(fe,Z){return b===1?fe[Z]:fe.readUInt16BE(Z*b)}let $;if(y){let fe=-1;for($=a;$<_;$++)if(ee(f,$)===ee(o,fe===-1?0:$-fe)){if(fe===-1&&(fe=$),$-fe+1===V)return fe*b}else fe!==-1&&($-=$-fe),fe=-1}else for(a+V>_&&(a=_-V),$=a;$>=0;$--){let fe=!0;for(let Z=0;Z<V;Z++)if(ee(f,$+Z)!==ee(o,Z)){fe=!1;break}if(fe)return $}return-1}u.prototype.includes=function(o,a,d){return this.indexOf(o,a,d)!==-1},u.prototype.indexOf=function(o,a,d){return W(this,o,a,d,!0)},u.prototype.lastIndexOf=function(o,a,d){return W(this,o,a,d,!1)};function j(f,o,a,d){a=Number(a)||0;const y=f.length-a;d?(d=Number(d),d>y&&(d=y)):d=y;const b=o.length;d>b/2&&(d=b/2);let _;for(_=0;_<d;++_){const V=parseInt(o.substr(_*2,2),16);if(Ne(V))return _;f[a+_]=V}return _}function me(f,o,a,d){return _e(Ce(o,f.length-a),f,a,d)}function Le(f,o,a,d){return _e(He(o),f,a,d)}function ge(f,o,a,d){return _e(Fe(o),f,a,d)}function Re(f,o,a,d){return _e(ir(o,f.length-a),f,a,d)}u.prototype.write=function(o,a,d,y){if(a===void 0)y="utf8",d=this.length,a=0;else if(d===void 0&&typeof a=="string")y=a,d=this.length,a=0;else if(isFinite(a))a=a>>>0,isFinite(d)?(d=d>>>0,y===void 0&&(y="utf8")):(y=d,d=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const b=this.length-a;if((d===void 0||d>b)&&(d=b),o.length>0&&(d<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");y||(y="utf8");let _=!1;for(;;)switch(y){case"hex":return j(this,o,a,d);case"utf8":case"utf-8":return me(this,o,a,d);case"ascii":case"latin1":case"binary":return Le(this,o,a,d);case"base64":return ge(this,o,a,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Re(this,o,a,d);default:if(_)throw new TypeError("Unknown encoding: "+y);y=(""+y).toLowerCase(),_=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(f,o,a){return o===0&&a===f.length?e.fromByteArray(f):e.fromByteArray(f.slice(o,a))}function l(f,o,a){a=Math.min(f.length,a);const d=[];let y=o;for(;y<a;){const b=f[y];let _=null,V=b>239?4:b>223?3:b>191?2:1;if(y+V<=a){let ee,$,fe,Z;switch(V){case 1:b<128&&(_=b);break;case 2:ee=f[y+1],(ee&192)===128&&(Z=(b&31)<<6|ee&63,Z>127&&(_=Z));break;case 3:ee=f[y+1],$=f[y+2],(ee&192)===128&&($&192)===128&&(Z=(b&15)<<12|(ee&63)<<6|$&63,Z>2047&&(Z<55296||Z>57343)&&(_=Z));break;case 4:ee=f[y+1],$=f[y+2],fe=f[y+3],(ee&192)===128&&($&192)===128&&(fe&192)===128&&(Z=(b&15)<<18|(ee&63)<<12|($&63)<<6|fe&63,Z>65535&&Z<1114112&&(_=Z))}}_===null?(_=65533,V=1):_>65535&&(_-=65536,d.push(_>>>10&1023|55296),_=56320|_&1023),d.push(_),y+=V}return A(d)}const g=4096;function A(f){const o=f.length;if(o<=g)return String.fromCharCode.apply(String,f);let a="",d=0;for(;d<o;)a+=String.fromCharCode.apply(String,f.slice(d,d+=g));return a}function x(f,o,a){let d="";a=Math.min(f.length,a);for(let y=o;y<a;++y)d+=String.fromCharCode(f[y]&127);return d}function S(f,o,a){let d="";a=Math.min(f.length,a);for(let y=o;y<a;++y)d+=String.fromCharCode(f[y]);return d}function R(f,o,a){const d=f.length;(!o||o<0)&&(o=0),(!a||a<0||a>d)&&(a=d);let y="";for(let b=o;b<a;++b)y+=We[f[b]];return y}function F(f,o,a){const d=f.slice(o,a);let y="";for(let b=0;b<d.length-1;b+=2)y+=String.fromCharCode(d[b]+d[b+1]*256);return y}u.prototype.slice=function(o,a){const d=this.length;o=~~o,a=a===void 0?d:~~a,o<0?(o+=d,o<0&&(o=0)):o>d&&(o=d),a<0?(a+=d,a<0&&(a=0)):a>d&&(a=d),a<o&&(a=o);const y=this.subarray(o,a);return Object.setPrototypeOf(y,u.prototype),y};function v(f,o,a){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+o>a)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(o,a,d){o=o>>>0,a=a>>>0,d||v(o,a,this.length);let y=this[o],b=1,_=0;for(;++_<a&&(b*=256);)y+=this[o+_]*b;return y},u.prototype.readUintBE=u.prototype.readUIntBE=function(o,a,d){o=o>>>0,a=a>>>0,d||v(o,a,this.length);let y=this[o+--a],b=1;for(;a>0&&(b*=256);)y+=this[o+--a]*b;return y},u.prototype.readUint8=u.prototype.readUInt8=function(o,a){return o=o>>>0,a||v(o,1,this.length),this[o]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(o,a){return o=o>>>0,a||v(o,2,this.length),this[o]|this[o+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(o,a){return o=o>>>0,a||v(o,2,this.length),this[o]<<8|this[o+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(o,a){return o=o>>>0,a||v(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(o,a){return o=o>>>0,a||v(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])},u.prototype.readBigUInt64LE=tt(function(o){o=o>>>0,Ct(o,"offset");const a=this[o],d=this[o+7];(a===void 0||d===void 0)&&Ie(o,this.length-8);const y=a+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24,b=this[++o]+this[++o]*2**8+this[++o]*2**16+d*2**24;return BigInt(y)+(BigInt(b)<<BigInt(32))}),u.prototype.readBigUInt64BE=tt(function(o){o=o>>>0,Ct(o,"offset");const a=this[o],d=this[o+7];(a===void 0||d===void 0)&&Ie(o,this.length-8);const y=a*2**24+this[++o]*2**16+this[++o]*2**8+this[++o],b=this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+d;return(BigInt(y)<<BigInt(32))+BigInt(b)}),u.prototype.readIntLE=function(o,a,d){o=o>>>0,a=a>>>0,d||v(o,a,this.length);let y=this[o],b=1,_=0;for(;++_<a&&(b*=256);)y+=this[o+_]*b;return b*=128,y>=b&&(y-=Math.pow(2,8*a)),y},u.prototype.readIntBE=function(o,a,d){o=o>>>0,a=a>>>0,d||v(o,a,this.length);let y=a,b=1,_=this[o+--y];for(;y>0&&(b*=256);)_+=this[o+--y]*b;return b*=128,_>=b&&(_-=Math.pow(2,8*a)),_},u.prototype.readInt8=function(o,a){return o=o>>>0,a||v(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]},u.prototype.readInt16LE=function(o,a){o=o>>>0,a||v(o,2,this.length);const d=this[o]|this[o+1]<<8;return d&32768?d|4294901760:d},u.prototype.readInt16BE=function(o,a){o=o>>>0,a||v(o,2,this.length);const d=this[o+1]|this[o]<<8;return d&32768?d|4294901760:d},u.prototype.readInt32LE=function(o,a){return o=o>>>0,a||v(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},u.prototype.readInt32BE=function(o,a){return o=o>>>0,a||v(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},u.prototype.readBigInt64LE=tt(function(o){o=o>>>0,Ct(o,"offset");const a=this[o],d=this[o+7];(a===void 0||d===void 0)&&Ie(o,this.length-8);const y=this[o+4]+this[o+5]*2**8+this[o+6]*2**16+(d<<24);return(BigInt(y)<<BigInt(32))+BigInt(a+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24)}),u.prototype.readBigInt64BE=tt(function(o){o=o>>>0,Ct(o,"offset");const a=this[o],d=this[o+7];(a===void 0||d===void 0)&&Ie(o,this.length-8);const y=(a<<24)+this[++o]*2**16+this[++o]*2**8+this[++o];return(BigInt(y)<<BigInt(32))+BigInt(this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+d)}),u.prototype.readFloatLE=function(o,a){return o=o>>>0,a||v(o,4,this.length),t.read(this,o,!0,23,4)},u.prototype.readFloatBE=function(o,a){return o=o>>>0,a||v(o,4,this.length),t.read(this,o,!1,23,4)},u.prototype.readDoubleLE=function(o,a){return o=o>>>0,a||v(o,8,this.length),t.read(this,o,!0,52,8)},u.prototype.readDoubleBE=function(o,a){return o=o>>>0,a||v(o,8,this.length),t.read(this,o,!1,52,8)};function p(f,o,a,d,y,b){if(!u.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>y||o<b)throw new RangeError('"value" argument is out of bounds');if(a+d>f.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(o,a,d,y){if(o=+o,a=a>>>0,d=d>>>0,!y){const V=Math.pow(2,8*d)-1;p(this,o,a,d,V,0)}let b=1,_=0;for(this[a]=o&255;++_<d&&(b*=256);)this[a+_]=o/b&255;return a+d},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(o,a,d,y){if(o=+o,a=a>>>0,d=d>>>0,!y){const V=Math.pow(2,8*d)-1;p(this,o,a,d,V,0)}let b=d-1,_=1;for(this[a+b]=o&255;--b>=0&&(_*=256);)this[a+b]=o/_&255;return a+d},u.prototype.writeUint8=u.prototype.writeUInt8=function(o,a,d){return o=+o,a=a>>>0,d||p(this,o,a,1,255,0),this[a]=o&255,a+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(o,a,d){return o=+o,a=a>>>0,d||p(this,o,a,2,65535,0),this[a]=o&255,this[a+1]=o>>>8,a+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(o,a,d){return o=+o,a=a>>>0,d||p(this,o,a,2,65535,0),this[a]=o>>>8,this[a+1]=o&255,a+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(o,a,d){return o=+o,a=a>>>0,d||p(this,o,a,4,4294967295,0),this[a+3]=o>>>24,this[a+2]=o>>>16,this[a+1]=o>>>8,this[a]=o&255,a+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(o,a,d){return o=+o,a=a>>>0,d||p(this,o,a,4,4294967295,0),this[a]=o>>>24,this[a+1]=o>>>16,this[a+2]=o>>>8,this[a+3]=o&255,a+4};function M(f,o,a,d,y){Oe(o,d,y,f,a,7);let b=Number(o&BigInt(4294967295));f[a++]=b,b=b>>8,f[a++]=b,b=b>>8,f[a++]=b,b=b>>8,f[a++]=b;let _=Number(o>>BigInt(32)&BigInt(4294967295));return f[a++]=_,_=_>>8,f[a++]=_,_=_>>8,f[a++]=_,_=_>>8,f[a++]=_,a}function te(f,o,a,d,y){Oe(o,d,y,f,a,7);let b=Number(o&BigInt(4294967295));f[a+7]=b,b=b>>8,f[a+6]=b,b=b>>8,f[a+5]=b,b=b>>8,f[a+4]=b;let _=Number(o>>BigInt(32)&BigInt(4294967295));return f[a+3]=_,_=_>>8,f[a+2]=_,_=_>>8,f[a+1]=_,_=_>>8,f[a]=_,a+8}u.prototype.writeBigUInt64LE=tt(function(o,a=0){return M(this,o,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=tt(function(o,a=0){return te(this,o,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(o,a,d,y){if(o=+o,a=a>>>0,!y){const ee=Math.pow(2,8*d-1);p(this,o,a,d,ee-1,-ee)}let b=0,_=1,V=0;for(this[a]=o&255;++b<d&&(_*=256);)o<0&&V===0&&this[a+b-1]!==0&&(V=1),this[a+b]=(o/_>>0)-V&255;return a+d},u.prototype.writeIntBE=function(o,a,d,y){if(o=+o,a=a>>>0,!y){const ee=Math.pow(2,8*d-1);p(this,o,a,d,ee-1,-ee)}let b=d-1,_=1,V=0;for(this[a+b]=o&255;--b>=0&&(_*=256);)o<0&&V===0&&this[a+b+1]!==0&&(V=1),this[a+b]=(o/_>>0)-V&255;return a+d},u.prototype.writeInt8=function(o,a,d){return o=+o,a=a>>>0,d||p(this,o,a,1,127,-128),o<0&&(o=255+o+1),this[a]=o&255,a+1},u.prototype.writeInt16LE=function(o,a,d){return o=+o,a=a>>>0,d||p(this,o,a,2,32767,-32768),this[a]=o&255,this[a+1]=o>>>8,a+2},u.prototype.writeInt16BE=function(o,a,d){return o=+o,a=a>>>0,d||p(this,o,a,2,32767,-32768),this[a]=o>>>8,this[a+1]=o&255,a+2},u.prototype.writeInt32LE=function(o,a,d){return o=+o,a=a>>>0,d||p(this,o,a,4,2147483647,-2147483648),this[a]=o&255,this[a+1]=o>>>8,this[a+2]=o>>>16,this[a+3]=o>>>24,a+4},u.prototype.writeInt32BE=function(o,a,d){return o=+o,a=a>>>0,d||p(this,o,a,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),this[a]=o>>>24,this[a+1]=o>>>16,this[a+2]=o>>>8,this[a+3]=o&255,a+4},u.prototype.writeBigInt64LE=tt(function(o,a=0){return M(this,o,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=tt(function(o,a=0){return te(this,o,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function oe(f,o,a,d,y,b){if(a+d>f.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function ue(f,o,a,d,y){return o=+o,a=a>>>0,y||oe(f,o,a,4),t.write(f,o,a,d,23,4),a+4}u.prototype.writeFloatLE=function(o,a,d){return ue(this,o,a,!0,d)},u.prototype.writeFloatBE=function(o,a,d){return ue(this,o,a,!1,d)};function Ue(f,o,a,d,y){return o=+o,a=a>>>0,y||oe(f,o,a,8),t.write(f,o,a,d,52,8),a+8}u.prototype.writeDoubleLE=function(o,a,d){return Ue(this,o,a,!0,d)},u.prototype.writeDoubleBE=function(o,a,d){return Ue(this,o,a,!1,d)},u.prototype.copy=function(o,a,d,y){if(!u.isBuffer(o))throw new TypeError("argument should be a Buffer");if(d||(d=0),!y&&y!==0&&(y=this.length),a>=o.length&&(a=o.length),a||(a=0),y>0&&y<d&&(y=d),y===d||o.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(d<0||d>=this.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("sourceEnd out of bounds");y>this.length&&(y=this.length),o.length-a<y-d&&(y=o.length-a+d);const b=y-d;return this===o&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a,d,y):Uint8Array.prototype.set.call(o,this.subarray(d,y),a),b},u.prototype.fill=function(o,a,d,y){if(typeof o=="string"){if(typeof a=="string"?(y=a,a=0,d=this.length):typeof d=="string"&&(y=d,d=this.length),y!==void 0&&typeof y!="string")throw new TypeError("encoding must be a string");if(typeof y=="string"&&!u.isEncoding(y))throw new TypeError("Unknown encoding: "+y);if(o.length===1){const _=o.charCodeAt(0);(y==="utf8"&&_<128||y==="latin1")&&(o=_)}}else typeof o=="number"?o=o&255:typeof o=="boolean"&&(o=Number(o));if(a<0||this.length<a||this.length<d)throw new RangeError("Out of range index");if(d<=a)return this;a=a>>>0,d=d===void 0?this.length:d>>>0,o||(o=0);let b;if(typeof o=="number")for(b=a;b<d;++b)this[b]=o;else{const _=u.isBuffer(o)?o:u.from(o,y),V=_.length;if(V===0)throw new TypeError('The value "'+o+'" is invalid for argument "value"');for(b=0;b<d-a;++b)this[b+a]=_[b%V]}return this};const de={};function Se(f,o,a){de[f]=class extends a{constructor(){super(),Object.defineProperty(this,"message",{value:o.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:y,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}}}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(f,o){return`The "${f}" argument must be of type number. Received type ${typeof o}`},TypeError),Se("ERR_OUT_OF_RANGE",function(f,o,a){let d=`The value of "${f}" is out of range.`,y=a;return Number.isInteger(a)&&Math.abs(a)>2**32?y=Bn(String(a)):typeof a=="bigint"&&(y=String(a),(a>BigInt(2)**BigInt(32)||a<-(BigInt(2)**BigInt(32)))&&(y=Bn(y)),y+="n"),d+=` It must be ${o}. Received ${y}`,d},RangeError);function Bn(f){let o="",a=f.length;const d=f[0]==="-"?1:0;for(;a>=d+4;a-=3)o=`_${f.slice(a-3,a)}${o}`;return`${f.slice(0,a)}${o}`}function Pe(f,o,a){Ct(o,"offset"),(f[o]===void 0||f[o+a]===void 0)&&Ie(o,f.length-(a+1))}function Oe(f,o,a,d,y,b){if(f>a||f<o){const _=typeof o=="bigint"?"n":"";let V;throw b>3?o===0||o===BigInt(0)?V=`>= 0${_} and < 2${_} ** ${(b+1)*8}${_}`:V=`>= -(2${_} ** ${(b+1)*8-1}${_}) and < 2 ** ${(b+1)*8-1}${_}`:V=`>= ${o}${_} and <= ${a}${_}`,new de.ERR_OUT_OF_RANGE("value",V,f)}Pe(d,y,b)}function Ct(f,o){if(typeof f!="number")throw new de.ERR_INVALID_ARG_TYPE(o,"number",f)}function Ie(f,o,a){throw Math.floor(f)!==f?(Ct(f,a),new de.ERR_OUT_OF_RANGE(a||"offset","an integer",f)):o<0?new de.ERR_BUFFER_OUT_OF_BOUNDS:new de.ERR_OUT_OF_RANGE(a||"offset",`>= ${a?1:0} and <= ${o}`,f)}const ze=/[^+/0-9A-Za-z-_]/g;function rr(f){if(f=f.split("=")[0],f=f.trim().replace(ze,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function Ce(f,o){o=o||1/0;let a;const d=f.length;let y=null;const b=[];for(let _=0;_<d;++_){if(a=f.charCodeAt(_),a>55295&&a<57344){if(!y){if(a>56319){(o-=3)>-1&&b.push(239,191,189);continue}else if(_+1===d){(o-=3)>-1&&b.push(239,191,189);continue}y=a;continue}if(a<56320){(o-=3)>-1&&b.push(239,191,189),y=a;continue}a=(y-55296<<10|a-56320)+65536}else y&&(o-=3)>-1&&b.push(239,191,189);if(y=null,a<128){if((o-=1)<0)break;b.push(a)}else if(a<2048){if((o-=2)<0)break;b.push(a>>6|192,a&63|128)}else if(a<65536){if((o-=3)<0)break;b.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((o-=4)<0)break;b.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return b}function He(f){const o=[];for(let a=0;a<f.length;++a)o.push(f.charCodeAt(a)&255);return o}function ir(f,o){let a,d,y;const b=[];for(let _=0;_<f.length&&!((o-=2)<0);++_)a=f.charCodeAt(_),d=a>>8,y=a%256,b.push(y),b.push(d);return b}function Fe(f){return e.toByteArray(rr(f))}function _e(f,o,a,d){let y;for(y=0;y<d&&!(y+a>=o.length||y>=f.length);++y)o[y+a]=f[y];return y}function Ge(f,o){return f instanceof o||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===o.name}function Ne(f){return f!==f}const We=function(){const f="0123456789abcdef",o=new Array(256);for(let a=0;a<16;++a){const d=a*16;for(let y=0;y<16;++y)o[d+y]=f[a]+f[y]}return o}();function tt(f){return typeof BigInt>"u"?Qe:f}function Qe(){throw new Error("BigInt not supported")}})(Yi),function(r,e){var t=Yi,n=t.Buffer;function s(c,u){for(var h in c)u[h]=c[h]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=t:(s(t,e),e.Buffer=i);function i(c,u,h){return n(c,u,h)}s(n,i),i.from=function(c,u,h){if(typeof c=="number")throw new TypeError("Argument must not be a number");return n(c,u,h)},i.alloc=function(c,u,h){if(typeof c!="number")throw new TypeError("Argument must be a number");var w=n(c);return u!==void 0?typeof h=="string"?w.fill(u,h):w.fill(u):w.fill(0),w},i.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n(c)},i.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(c)}}(Wn,Wn.exports);var Wr=Wn.exports.Buffer;function rl(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=n}var c=r.length,u=r.charAt(0),h=Math.log(c)/Math.log(256),w=Math.log(256)/Math.log(c);function m(B){if((Array.isArray(B)||B instanceof Uint8Array)&&(B=Wr.from(B)),!Wr.isBuffer(B))throw new TypeError("Expected Buffer");if(B.length===0)return"";for(var k=0,T=0,C=0,U=B.length;C!==U&&B[C]===0;)C++,k++;for(var D=(U-C)*w+1>>>0,L=new Uint8Array(D);C!==U;){for(var z=B[C],P=0,W=D-1;(z!==0||P<T)&&W!==-1;W--,P++)z+=256*L[W]>>>0,L[W]=z%c>>>0,z=z/c>>>0;if(z!==0)throw new Error("Non-zero carry");T=P,C++}for(var Q=D-T;Q!==D&&L[Q]===0;)Q++;for(var j=u.repeat(k);Q<D;++Q)j+=r.charAt(L[Q]);return j}function I(B){if(typeof B!="string")throw new TypeError("Expected String");if(B.length===0)return Wr.alloc(0);for(var k=0,T=0,C=0;B[k]===u;)T++,k++;for(var U=(B.length-k)*h+1>>>0,D=new Uint8Array(U);B[k];){var L=e[B.charCodeAt(k)];if(L===255)return;for(var z=0,P=U-1;(L!==0||z<C)&&P!==-1;P--,z++)L+=c*D[P]>>>0,D[P]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");C=z,k++}for(var W=U-C;W!==U&&D[W]===0;)W++;var Q=Wr.allocUnsafe(T+(U-W));Q.fill(0,0,T);for(var j=T;W!==U;)Q[j++]=D[W++];return Q}function N(B){var k=I(B);if(k)return k;throw new Error("Non-base"+c+" character")}return{encode:m,decodeUnsafe:I,decode:N}}var il=rl,sl=il,ol="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",xt=sl(ol);const al=(r,e,t)=>r&e^~r&t,cl=(r,e,t)=>r&e^r&t^e&t,ul=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),gn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wn=new Uint32Array(64);class ll extends Co{constructor(){super(64,32,8,!1),this.A=gn[0]|0,this.B=gn[1]|0,this.C=gn[2]|0,this.D=gn[3]|0,this.E=gn[4]|0,this.F=gn[5]|0,this.G=gn[6]|0,this.H=gn[7]|0}get(){const{A:e,B:t,C:n,D:s,E:i,F:c,G:u,H:h}=this;return[e,t,n,s,i,c,u,h]}set(e,t,n,s,i,c,u,h){this.A=e|0,this.B=t|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=c|0,this.G=u|0,this.H=h|0}process(e,t){for(let I=0;I<16;I++,t+=4)wn[I]=e.getUint32(t,!1);for(let I=16;I<64;I++){const N=wn[I-15],B=wn[I-2],k=en(N,7)^en(N,18)^N>>>3,T=en(B,17)^en(B,19)^B>>>10;wn[I]=T+wn[I-7]+k+wn[I-16]|0}let{A:n,B:s,C:i,D:c,E:u,F:h,G:w,H:m}=this;for(let I=0;I<64;I++){const N=en(u,6)^en(u,11)^en(u,25),B=m+N+al(u,h,w)+ul[I]+wn[I]|0,T=(en(n,2)^en(n,13)^en(n,22))+cl(n,s,i)|0;m=w,w=h,h=u,u=c+B|0,c=i,i=s,s=n,n=B+T|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,c=c+this.D|0,u=u+this.E|0,h=h+this.F|0,w=w+this.G|0,m=m+this.H|0,this.set(n,s,i,c,u,h,w,m)}roundClean(){wn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Vi=lr(()=>new ll);var Et={},Qr=Wn.exports.Buffer;function fl(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=n}var c=r.length,u=r.charAt(0),h=Math.log(c)/Math.log(256),w=Math.log(256)/Math.log(c);function m(B){if((Array.isArray(B)||B instanceof Uint8Array)&&(B=Qr.from(B)),!Qr.isBuffer(B))throw new TypeError("Expected Buffer");if(B.length===0)return"";for(var k=0,T=0,C=0,U=B.length;C!==U&&B[C]===0;)C++,k++;for(var D=(U-C)*w+1>>>0,L=new Uint8Array(D);C!==U;){for(var z=B[C],P=0,W=D-1;(z!==0||P<T)&&W!==-1;W--,P++)z+=256*L[W]>>>0,L[W]=z%c>>>0,z=z/c>>>0;if(z!==0)throw new Error("Non-zero carry");T=P,C++}for(var Q=D-T;Q!==D&&L[Q]===0;)Q++;for(var j=u.repeat(k);Q<D;++Q)j+=r.charAt(L[Q]);return j}function I(B){if(typeof B!="string")throw new TypeError("Expected String");if(B.length===0)return Qr.alloc(0);for(var k=0,T=0,C=0;B[k]===u;)T++,k++;for(var U=(B.length-k)*h+1>>>0,D=new Uint8Array(U);B[k];){var L=e[B.charCodeAt(k)];if(L===255)return;for(var z=0,P=U-1;(L!==0||z<C)&&P!==-1;P--,z++)L+=c*D[P]>>>0,D[P]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");C=z,k++}for(var W=U-C;W!==U&&D[W]===0;)W++;var Q=Qr.allocUnsafe(T+(U-W));Q.fill(0,0,T);for(var j=T;W!==U;)Q[j++]=D[W++];return Q}function N(B){var k=I(B);if(k)return k;throw new Error("Non-base"+c+" character")}return{encode:m,decodeUnsafe:I,decode:N}}var hl=fl,dl=hl,pl="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",gl=dl(pl);function an(r,e,t){return e<=r&&r<=t}function Kr(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function wl(r){for(var e=String(r),t=e.length,n=0,s=[];n<t;){var i=e.charCodeAt(n);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(n===t-1)s.push(65533);else{var c=r.charCodeAt(n+1);if(56320<=c&&c<=57343){var u=i&1023,h=c&1023;s.push(65536+(u<<10)+h),n+=1}else s.push(65533)}n+=1}return s}function yl(r){for(var e="",t=0;t<r.length;++t){var n=r[t];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var jr=-1;function Zi(r){this.tokens=[].slice.call(r)}Zi.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():jr},prepend:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.push(e.shift());else this.tokens.push(r)}};var Qn=-1;function Xi(r,e){if(r)throw TypeError("Decoder error");return e||65533}var qr="utf-8";function Yr(r,e){if(!(this instanceof Yr))return new Yr(r,e);if(r=r!==void 0?String(r).toLowerCase():qr,r!==qr)throw new Error("Encoding not supported. Only utf-8 is supported");e=Kr(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Yr.prototype={decode:function(e,t){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),t=Kr(t),this._streaming||(this._decoder=new ml({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var s=new Zi(n),i=[],c;!s.endOfStream()&&(c=this._decoder.handler(s,s.read()),c!==Qn);)c!==null&&(Array.isArray(c)?i.push.apply(i,c):i.push(c));if(!this._streaming){do{if(c=this._decoder.handler(s,s.read()),c===Qn)break;c!==null&&(Array.isArray(c)?i.push.apply(i,c):i.push(c))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),yl(i)}};function Vr(r,e){if(!(this instanceof Vr))return new Vr(r,e);if(r=r!==void 0?String(r).toLowerCase():qr,r!==qr)throw new Error("Encoding not supported. Only utf-8 is supported");e=Kr(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}Vr.prototype={encode:function(e,t){e=e?String(e):"",t=Kr(t),this._streaming||(this._encoder=new Al(this._options)),this._streaming=Boolean(t.stream);for(var n=[],s=new Zi(wl(e)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==Qn);)Array.isArray(i)?n.push.apply(n,i):n.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==Qn;)Array.isArray(i)?n.push.apply(n,i):n.push(i);this._encoder=null}return new Uint8Array(n)}};function ml(r){var e=r.fatal,t=0,n=0,s=0,i=128,c=191;this.handler=function(u,h){if(h===jr&&s!==0)return s=0,Xi(e);if(h===jr)return Qn;if(s===0){if(an(h,0,127))return h;if(an(h,194,223))s=1,t=h-192;else if(an(h,224,239))h===224&&(i=160),h===237&&(c=159),s=2,t=h-224;else if(an(h,240,244))h===240&&(i=144),h===244&&(c=143),s=3,t=h-240;else return Xi(e);return t=t<<6*s,null}if(!an(h,i,c))return t=s=n=0,i=128,c=191,u.prepend(h),Xi(e);if(i=128,c=191,n+=1,t+=h-128<<6*(s-n),n!==s)return null;var w=t;return t=s=n=0,w}}function Al(r){r.fatal,this.handler=function(e,t){if(t===jr)return Qn;if(an(t,0,127))return t;var n,s;an(t,128,2047)?(n=1,s=192):an(t,2048,65535)?(n=2,s=224):an(t,65536,1114111)&&(n=3,s=240);for(var i=[(t>>6*n)+s];n>0;){var c=t>>6*(n-1);i.push(128|c&63),n-=1}return i}}const bl=Ni(Object.freeze(Object.defineProperty({__proto__:null,TextEncoder:Vr,TextDecoder:Yr},Symbol.toStringTag,{value:"Module"})));var vl=Vt&&Vt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),xl=Vt&&Vt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),nn=Vt&&Vt.__decorate||function(r,e,t,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(i=(s<3?c(i):s>3?c(e,t,i):c(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},El=Vt&&Vt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.hasOwnProperty.call(r,t)&&vl(e,r,t);return xl(e,r),e},Qo=Vt&&Vt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Et,"__esModule",{value:!0});var Ko=Et.deserializeUnchecked=Xo=Et.deserialize=Zo=Et.serialize=Et.BinaryReader=Et.BinaryWriter=Et.BorshError=Et.baseDecode=Et.baseEncode=void 0;const yn=Qo(qi.exports),jo=Qo(gl),Il=El(bl),Bl=typeof TextDecoder!="function"?Il.TextDecoder:TextDecoder,Sl=new Bl("utf-8",{fatal:!0});function Ml(r){return typeof r=="string"&&(r=Buffer.from(r,"utf8")),jo.default.encode(Buffer.from(r))}Et.baseEncode=Ml;function _l(r){return Buffer.from(jo.default.decode(r))}Et.baseDecode=_l;const Ji=1024;class Nt extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Et.BorshError=Nt;class qo{constructor(){this.buf=Buffer.alloc(Ji),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Ji)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new yn.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new yn.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new yn.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new yn.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Ji)]),this.length+=e.length}writeString(e){this.maybeResize();const t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}}Et.BinaryWriter=qo;function rn(r,e,t){const n=t.value;t.value=function(...s){try{return n.apply(this,s)}catch(i){if(i instanceof RangeError){const c=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(c)>=0)throw new Nt("Reached the end of buffer when deserializing")}throw i}}}class Pt{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new yn.default(e,"le")}readU128(){const e=this.readBuffer(16);return new yn.default(e,"le")}readU256(){const e=this.readBuffer(32);return new yn.default(e,"le")}readU512(){const e=this.readBuffer(64);return new yn.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Nt(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return Sl.decode(t)}catch(n){throw new Nt(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),n=Array();for(let s=0;s<t;++s)n.push(e());return n}}nn([rn],Pt.prototype,"readU8",null),nn([rn],Pt.prototype,"readU16",null),nn([rn],Pt.prototype,"readU32",null),nn([rn],Pt.prototype,"readU64",null),nn([rn],Pt.prototype,"readU128",null),nn([rn],Pt.prototype,"readU256",null),nn([rn],Pt.prototype,"readU512",null),nn([rn],Pt.prototype,"readString",null),nn([rn],Pt.prototype,"readFixedArray",null),nn([rn],Pt.prototype,"readArray",null),Et.BinaryReader=Pt;function Yo(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Mn(r,e,t,n,s){try{if(typeof n=="string")s[`write${Yo(n)}`](t);else if(n instanceof Array)if(typeof n[0]=="number"){if(t.length!==n[0])throw new Nt(`Expecting byte array of length ${n[0]}, but got ${t.length} bytes`);s.writeFixedArray(t)}else if(n.length===2&&typeof n[1]=="number"){if(t.length!==n[1])throw new Nt(`Expecting byte array of length ${n[1]}, but got ${t.length} bytes`);for(let i=0;i<n[1];i++)Mn(r,null,t[i],n[0],s)}else s.writeArray(t,i=>{Mn(r,e,i,n[0],s)});else if(n.kind!==void 0)switch(n.kind){case"option":{t==null?s.writeU8(0):(s.writeU8(1),Mn(r,e,t,n.type,s));break}case"map":{s.writeU32(t.size),t.forEach((i,c)=>{Mn(r,e,c,n.key,s),Mn(r,e,i,n.value,s)});break}default:throw new Nt(`FieldType ${n} unrecognized`)}else Vo(r,t,s)}catch(i){throw i instanceof Nt&&i.addToFieldPath(e),i}}function Vo(r,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}const n=r.get(e.constructor);if(!n)throw new Nt(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([s,i])=>{Mn(r,s,e[s],i,t)});else if(n.kind==="enum"){const s=e[n.field];for(let i=0;i<n.values.length;++i){const[c,u]=n.values[i];if(c===s){t.writeU8(i),Mn(r,c,e[c],u,t);break}}}else throw new Nt(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function Tl(r,e,t=qo){const n=new t;return Vo(r,e,n),n.toArray()}var Zo=Et.serialize=Tl;function _n(r,e,t,n){try{if(typeof t=="string")return n[`read${Yo(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return n.readFixedArray(t[0]);if(typeof t[1]=="number"){const s=[];for(let i=0;i<t[1];i++)s.push(_n(r,null,t[0],n));return s}else return n.readArray(()=>_n(r,e,t[0],n))}if(t.kind==="option")return n.readU8()?_n(r,e,t.type,n):void 0;if(t.kind==="map"){let s=new Map;const i=n.readU32();for(let c=0;c<i;c++){const u=_n(r,e,t.key,n),h=_n(r,e,t.value,n);s.set(u,h)}return s}return $i(r,t,n)}catch(s){throw s instanceof Nt&&s.addToFieldPath(e),s}}function $i(r,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);const n=r.get(e);if(!n)throw new Nt(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){const s={};for(const[i,c]of r.get(e).fields)s[i]=_n(r,i,c,t);return new e(s)}if(n.kind==="enum"){const s=t.readU8();if(s>=n.values.length)throw new Nt(`Enum index: ${s} is out of range`);const[i,c]=n.values[s],u=_n(r,i,c,t);return new e({[i]:u})}throw new Nt(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function kl(r,e,t,n=Pt){const s=new n(t),i=$i(r,e,s);if(s.offset<t.length)throw new Nt(`Unexpected ${t.length-s.offset} bytes after deserialized data`);return i}var Xo=Et.deserialize=kl;function Cl(r,e,t,n=Pt){const s=new n(t);return $i(r,e,s)}Ko=Et.deserializeUnchecked=Cl;var H={};Object.defineProperty(H,"__esModule",{value:!0}),H.s16=H.s8=H.nu64be=H.u48be=H.u40be=H.u32be=H.u24be=H.u16be=It=H.nu64=H.u48=H.u40=le=H.u32=H.u24=Kt=H.u16=Be=H.u8=kn=H.offset=H.greedy=H.Constant=H.UTF8=H.CString=H.Blob=H.Boolean=H.BitField=H.BitStructure=H.VariantLayout=H.Union=H.UnionLayoutDiscriminator=H.UnionDiscriminator=H.Structure=H.Sequence=H.DoubleBE=H.Double=H.FloatBE=H.Float=H.NearInt64BE=H.NearInt64=H.NearUInt64BE=H.NearUInt64=H.IntBE=H.Int=H.UIntBE=H.UInt=H.OffsetLayout=H.GreedyCount=H.ExternalLayout=H.bindConstructorLayout=H.nameWithProperty=H.Layout=H.uint8ArrayToBuffer=H.checkUint8Array=void 0,H.constant=H.utf8=H.cstr=Ve=H.blob=H.unionLayoutDiscriminator=H.union=Lt=H.seq=H.bits=se=H.struct=H.f64be=H.f64=H.f32be=H.f32=H.ns64be=H.s48be=H.s40be=H.s32be=H.s24be=H.s16be=zt=H.ns64=H.s48=H.s40=H.s32=H.s24=void 0;const es=Yi;function Kn(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}H.checkUint8Array=Kn;function Ee(r){return Kn(r),es.Buffer.from(r.buffer,r.byteOffset,r.length)}H.uint8ArrayToBuffer=Ee;class Te{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}H.Layout=Te;function ts(r,e){return e.property?r+"["+e.property+"]":r}H.nameWithProperty=ts;function Nl(r,e){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Te))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=e,e.boundConstructor_=r,e.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(r,"decode",{value(t,n){return e.decode(t,n)},writable:!0})}H.bindConstructorLayout=Nl;class Rt extends Te{isCount(){throw new Error("ExternalLayout is abstract")}}H.ExternalLayout=Rt;class Jo extends Rt{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){Kn(e);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}H.GreedyCount=Jo;class ns extends Rt{constructor(e,t=0,n){if(!(e instanceof Te))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Qt||this.layout instanceof Zt}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}}H.OffsetLayout=ns;class Qt extends Te{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ee(e).readUIntLE(t,this.span)}encode(e,t,n=0){return Ee(t).writeUIntLE(e,n,this.span),this.span}}H.UInt=Qt;class Zt extends Te{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ee(e).readUIntBE(t,this.span)}encode(e,t,n=0){return Ee(t).writeUIntBE(e,n,this.span),this.span}}H.UIntBE=Zt;class Tn extends Te{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ee(e).readIntLE(t,this.span)}encode(e,t,n=0){return Ee(t).writeIntLE(e,n,this.span),this.span}}H.Int=Tn;class jn extends Te{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ee(e).readIntBE(t,this.span)}encode(e,t,n=0){return Ee(t).writeIntBE(e,n,this.span),this.span}}H.IntBE=jn;const rs=Math.pow(2,32);function Zr(r){const e=Math.floor(r/rs),t=r-e*rs;return{hi32:e,lo32:t}}function Xr(r,e){return r*rs+e}class $o extends Te{constructor(e){super(8,e)}decode(e,t=0){const n=Ee(e),s=n.readUInt32LE(t),i=n.readUInt32LE(t+4);return Xr(i,s)}encode(e,t,n=0){const s=Zr(e),i=Ee(t);return i.writeUInt32LE(s.lo32,n),i.writeUInt32LE(s.hi32,n+4),8}}H.NearUInt64=$o;class ea extends Te{constructor(e){super(8,e)}decode(e,t=0){const n=Ee(e),s=n.readUInt32BE(t),i=n.readUInt32BE(t+4);return Xr(s,i)}encode(e,t,n=0){const s=Zr(e),i=Ee(t);return i.writeUInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}}H.NearUInt64BE=ea;class ta extends Te{constructor(e){super(8,e)}decode(e,t=0){const n=Ee(e),s=n.readUInt32LE(t),i=n.readInt32LE(t+4);return Xr(i,s)}encode(e,t,n=0){const s=Zr(e),i=Ee(t);return i.writeUInt32LE(s.lo32,n),i.writeInt32LE(s.hi32,n+4),8}}H.NearInt64=ta;class na extends Te{constructor(e){super(8,e)}decode(e,t=0){const n=Ee(e),s=n.readInt32BE(t),i=n.readUInt32BE(t+4);return Xr(s,i)}encode(e,t,n=0){const s=Zr(e),i=Ee(t);return i.writeInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}}H.NearInt64BE=na;class ra extends Te{constructor(e){super(4,e)}decode(e,t=0){return Ee(e).readFloatLE(t)}encode(e,t,n=0){return Ee(t).writeFloatLE(e,n),4}}H.Float=ra;class ia extends Te{constructor(e){super(4,e)}decode(e,t=0){return Ee(e).readFloatBE(t)}encode(e,t,n=0){return Ee(t).writeFloatBE(e,n),4}}H.FloatBE=ia;class sa extends Te{constructor(e){super(8,e)}decode(e,t=0){return Ee(e).readDoubleLE(t)}encode(e,t,n=0){return Ee(t).writeDoubleLE(e,n),8}}H.Double=sa;class oa extends Te{constructor(e){super(8,e)}decode(e,t=0){return Ee(e).readDoubleBE(t)}encode(e,t,n=0){return Ee(t).writeDoubleBE(e,n),8}}H.DoubleBE=oa;class aa extends Te{constructor(e,t,n){if(!(e instanceof Te))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof Rt&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(t instanceof Rt)&&0<e.span&&(s=t*e.span),super(s,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,s=this.count;if(s instanceof Rt&&(s=s.decode(e,t)),0<this.elementLayout.span)n=s*this.elementLayout.span;else{let i=0;for(;i<s;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e,t=0){const n=[];let s=0,i=this.count;for(i instanceof Rt&&(i=i.decode(e,t));s<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),s+=1;return n}encode(e,t,n=0){const s=this.elementLayout,i=e.reduce((c,u)=>c+s.encode(u,t,n+c),0);return this.count instanceof Rt&&this.count.encode(e.length,t,n),i}}H.Sequence=aa;class ca extends Te{constructor(e,t,n){if(!(Array.isArray(e)&&e.reduce((i,c)=>i&&c instanceof Te,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&n===void 0&&(n=t,t=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((i,c)=>i+c.getSpan(),0)}catch{}super(s,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((s,i)=>{const c=i.getSpan(e,t);return t+=c,s+c},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,t=0){Kn(e);const n=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(n[s.property]=s.decode(e,t)),t+=s.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){const s=n;let i=0,c=0;for(const u of this.fields){let h=u.span;if(c=0<h?h:0,u.property!==void 0){const w=e[u.property];w!==void 0&&(c=u.encode(w,t,n),0>h&&(h=u.getSpan(t,n)))}i=n,n+=h}return i+c-s}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}H.Structure=ca;class is{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}}H.UnionDiscriminator=is;class Jr extends is{constructor(e,t){if(!(e instanceof Rt&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}H.UnionLayoutDiscriminator=Jr;class ss extends Te{constructor(e,t,n){let s;if(e instanceof Qt||e instanceof Zt)s=new Jr(new ns(e));else if(e instanceof Rt&&e.isCount())s=new Jr(e);else if(e instanceof is)s=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Te))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&(e instanceof Qt||e instanceof Zt)&&(i+=s.layout.span)),super(i,n),this.discriminator=s,this.usesPrefixDiscriminator=e instanceof Qt||e instanceof Zt,this.defaultLayout=t,this.registry={};let c=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(u){return c(u)},this.configGetSourceVariant=function(u){c=u.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n;const s=this.discriminator,i=s.decode(e,t),c=this.registry[i];if(c===void 0){const u=this.defaultLayout;let h=0;this.usesPrefixDiscriminator&&(h=s.layout.span),n=this.makeDestinationObject(),n[s.property]=i,n[u.property]=u.decode(e,t+h)}else n=c.decode(e,t);return n}encode(e,t,n=0){const s=this.getSourceVariant(e);if(s===void 0){const i=this.discriminator,c=this.defaultLayout;let u=0;return this.usesPrefixDiscriminator&&(u=i.layout.span),i.encode(e[i.property],t,n),u+c.encode(e[c.property],t,n+u)}return s.encode(e,t,n)}addVariant(e,t,n){const s=new ua(this,e,t,n);return this.registry[e]=s,s}getVariant(e,t=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,t):n=e,this.registry[n]}}H.Union=ss;class ua extends Te{constructor(e,t,n,s){if(!(e instanceof ss))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&s===void 0&&(s=n,n=null),n){if(!(n instanceof Te))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,s),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(e,t+n)),n+s}decode(e,t=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+s):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=s;if(this.layout&&(this.layout.encode(e[this.property],t,n+s),i+=this.layout.getSpan(t,n+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}H.VariantLayout=ua;function qn(r){return 0>r&&(r+=4294967296),r}class os extends Te{constructor(e,t,n){if(!(e instanceof Qt||e instanceof Zt))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&n===void 0&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let s=0;this._packedSetValue=function(i){return s=qn(i),this},this._packedGetValue=function(){return s}}decode(e,t=0){const n=this.makeDestinationObject(),s=this.word.decode(e,t);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(n[i.property]=i.decode(e));return n}encode(e,t,n=0){const s=this.word.decode(t,n);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const c=e[i.property];c!==void 0&&i.encode(c)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new as(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new la(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}H.BitStructure=os;class as{constructor(e,t,n){if(!(e instanceof os))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const s=8*e.span,i=e.fields.reduce((c,u)=>c+u.bits,0);if(t+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-t),this.wordMask=qn(this.valueMask<<this.start),this.property=n}decode(e,t){const n=this.container._packedGetValue();return qn(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==qn(e&this.valueMask))throw new TypeError(ts("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=qn(e<<this.start);this.container._packedSetValue(qn(t&~this.wordMask)|n)}}H.BitField=as;class la extends as{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}}H.Boolean=la;class fa extends Te{constructor(e,t){if(!(e instanceof Rt&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Rt||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),Ee(e).slice(t,t+n)}encode(e,t,n){let s=this.length;if(this.length instanceof Rt&&(s=e.length),!(e instanceof Uint8Array&&s===e.length))throw new TypeError(ts("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(n+s>t.length)throw new RangeError("encoding overruns Uint8Array");const i=Ee(e);return Ee(t).write(i.toString("hex"),n,s,"hex"),this.length instanceof Rt&&this.length.encode(s,t,n),s}}H.Blob=fa;class ha extends Te{constructor(e){super(-1,e)}getSpan(e,t=0){Kn(e);let n=t;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-t}decode(e,t=0){const n=this.getSpan(e,t);return Ee(e).slice(t,t+n-1).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));const s=es.Buffer.from(e,"utf8"),i=s.length;if(n+i>t.length)throw new RangeError("encoding overruns Buffer");const c=Ee(t);return s.copy(c,n),c[n+i]=0,i+1}}H.CString=ha;class da extends Te{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return Kn(e),e.length-t}decode(e,t=0){const n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Ee(e).slice(t,t+n).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));const s=es.Buffer.from(e,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return s.copy(Ee(t),n),i}}H.UTF8=da;class pa extends Te{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}}H.Constant=pa,H.greedy=(r,e)=>new Jo(r,e);var kn=H.offset=(r,e,t)=>new ns(r,e,t),Be=H.u8=r=>new Qt(1,r),Kt=H.u16=r=>new Qt(2,r);H.u24=r=>new Qt(3,r);var le=H.u32=r=>new Qt(4,r);H.u40=r=>new Qt(5,r),H.u48=r=>new Qt(6,r);var It=H.nu64=r=>new $o(r);H.u16be=r=>new Zt(2,r),H.u24be=r=>new Zt(3,r),H.u32be=r=>new Zt(4,r),H.u40be=r=>new Zt(5,r),H.u48be=r=>new Zt(6,r),H.nu64be=r=>new ea(r),H.s8=r=>new Tn(1,r),H.s16=r=>new Tn(2,r),H.s24=r=>new Tn(3,r),H.s32=r=>new Tn(4,r),H.s40=r=>new Tn(5,r),H.s48=r=>new Tn(6,r);var zt=H.ns64=r=>new ta(r);H.s16be=r=>new jn(2,r),H.s24be=r=>new jn(3,r),H.s32be=r=>new jn(4,r),H.s40be=r=>new jn(5,r),H.s48be=r=>new jn(6,r),H.ns64be=r=>new na(r),H.f32=r=>new ra(r),H.f32be=r=>new ia(r),H.f64=r=>new sa(r),H.f64be=r=>new oa(r);var se=H.struct=(r,e,t)=>new ca(r,e,t);H.bits=(r,e,t)=>new os(r,e,t);var Lt=H.seq=(r,e,t)=>new aa(r,e,t);H.union=(r,e,t)=>new ss(r,e,t),H.unionLayoutDiscriminator=(r,e)=>new Jr(r,e);var Ve=H.blob=(r,e)=>new fa(r,e);H.cstr=r=>new ha(r),H.utf8=(r,e)=>new da(r,e),H.constant=(r,e)=>new pa(r,e);var yr={};Object.defineProperty(yr,"__esModule",{value:!0});function Ll(r){{const e=Buffer.from(r);e.reverse();const t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}var Rl=yr.toBigIntLE=Ll;function Ul(r){{const e=r.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}yr.toBigIntBE=Ul;function Ol(r,e){{const t=r.toString(16),n=Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}}var Fl=yr.toBufferLE=Ol;function Dl(r,e){{const t=r.toString(16);return Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex")}}yr.toBufferBE=Dl;class Pl extends TypeError{constructor(e,t){let n;const{message:s,...i}=e,{path:c}=e,u=c.length===0?s:"At path: "+c.join(".")+" -- "+s;super(u),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var h;return(h=n)!=null?h:n=[e,...t()]}}}function zl(r){return mn(r)&&typeof r[Symbol.iterator]=="function"}function mn(r){return typeof r=="object"&&r!=null}function Xt(r){return typeof r=="string"?JSON.stringify(r):""+r}function Hl(r){const{done:e,value:t}=r.next();return e?void 0:t}function Gl(r,e,t,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:s,branch:i}=e,{type:c}=t,{refinement:u,message:h="Expected a value of type `"+c+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+Xt(n)+"`"}=r;return{value:n,type:c,refinement:u,key:s[s.length-1],path:s,branch:i,...r,message:h}}function*ga(r,e,t,n){zl(r)||(r=[r]);for(const s of r){const i=Gl(s,e,t,n);i&&(yield i)}}function*cs(r,e,t={}){const{path:n=[],branch:s=[r],coerce:i=!1,mask:c=!1}=t,u={path:n,branch:s};if(i&&(r=e.coercer(r,u),c&&e.type!=="type"&&mn(e.schema)&&mn(r)&&!Array.isArray(r)))for(const w in r)e.schema[w]===void 0&&delete r[w];let h=!0;for(const w of e.validator(r,u))h=!1,yield[w,void 0];for(let[w,m,I]of e.entries(r,u)){const N=cs(m,I,{path:w===void 0?n:[...n,w],branch:w===void 0?s:[...s,m],coerce:i,mask:c});for(const B of N)B[0]?(h=!1,yield[B[0],void 0]):i&&(m=B[1],w===void 0?r=m:r instanceof Map?r.set(w,m):r instanceof Set?r.add(m):mn(r)&&(r[w]=m))}if(h)for(const w of e.refiner(r,u))h=!1,yield[w,void 0];h&&(yield[void 0,r])}class sn{constructor(e){const{type:t,schema:n,validator:s,refiner:i,coercer:c=h=>h,entries:u=function*(){}}=e;this.type=t,this.schema=n,this.entries=u,this.coercer=c,s?this.validator=(h,w)=>{const m=s(h,w);return ga(m,w,this,h)}:this.validator=()=>[],i?this.refiner=(h,w)=>{const m=i(h,w);return ga(m,w,this,h)}:this.refiner=()=>[]}assert(e){return Wl(e,this)}create(e){return J(e,this)}is(e){return wa(e,this)}mask(e){return Ql(e,this)}validate(e,t={}){return mr(e,this,t)}}function Wl(r,e){const t=mr(r,e);if(t[0])throw t[0]}function J(r,e){const t=mr(r,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function Ql(r,e){const t=mr(r,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function wa(r,e){return!mr(r,e)[0]}function mr(r,e,t={}){const n=cs(r,e,t),s=Hl(n);if(s[0])return[new Pl(s[0],function*(){for(const c of n)c[0]&&(yield c[0])}),void 0];{const i=s[1];return[void 0,i]}}function Cn(r,e){return new sn({type:r,schema:null,validator:e})}function Kl(){return Cn("any",()=>!0)}function re(r){return new sn({type:"array",schema:r,*entries(e){if(r&&Array.isArray(e))for(const[t,n]of e.entries())yield[t,n,r]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+Xt(e)}})}function cn(){return Cn("boolean",r=>typeof r=="boolean")}function us(r){return Cn("instance",e=>e instanceof r||"Expected a `"+r.name+"` instance, but received: "+Xt(e))}function Ke(r){const e=Xt(r),t=typeof r;return new sn({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?r:null,validator(n){return n===r||"Expected the literal `"+e+"`, but received: "+Xt(n)}})}function jl(){return Cn("never",()=>!1)}function ce(r){return new sn({...r,validator:(e,t)=>e===null||r.validator(e,t),refiner:(e,t)=>e===null||r.refiner(e,t)})}function G(){return Cn("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+Xt(r))}function we(r){return new sn({...r,validator:(e,t)=>e===void 0||r.validator(e,t),refiner:(e,t)=>e===void 0||r.refiner(e,t)})}function ya(r,e){return new sn({type:"record",schema:null,*entries(t){if(mn(t))for(const n in t){const s=t[n];yield[n,n,r],yield[n,s,e]}},validator(t){return mn(t)||"Expected an object, but received: "+Xt(t)}})}function X(){return Cn("string",r=>typeof r=="string"||"Expected a string, but received: "+Xt(r))}function ls(r){const e=jl();return new sn({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const n=Math.max(r.length,t.length);for(let s=0;s<n;s++)yield[s,t[s],r[s]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+Xt(t)}})}function q(r){const e=Object.keys(r);return new sn({type:"type",schema:r,*entries(t){if(mn(t))for(const n of e)yield[n,t[n],r[n]]},validator(t){return mn(t)||"Expected an object, but received: "+Xt(t)}})}function Ut(r){const e=r.map(t=>t.type).join(" | ");return new sn({type:"union",schema:null,validator(t,n){const s=[];for(const i of r){const[...c]=cs(t,i,n),[u]=c;if(u[0])for(const[h]of c)h&&s.push(h);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Xt(t),...s]}})}function Ar(){return Cn("unknown",()=>!0)}function br(r,e,t){return new sn({...r,coercer:(n,s)=>wa(n,e)?r.coercer(t(n,s),s):r.coercer(n,s)})}var fs={},$r={exports:{}};(function(r){function e(t){return t&&t.__esModule?t:{default:t}}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports})($r);var hs={exports:{}},ma;function ds(){return ma||(ma=1,function(r){function e(n,s){for(var i=0;i<s.length;i++){var c=s[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}function t(n,s,i){return s&&e(n.prototype,s),i&&e(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(hs)),hs.exports}var ps={exports:{}},Aa;function gs(){return Aa||(Aa=1,function(r){function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(ps)),ps.exports}var ws={exports:{}},ys={exports:{}},ba;function ql(){return ba||(ba=1,function(r){function e(t,n){return r.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},r.exports.__esModule=!0,r.exports.default=r.exports,e(t,n)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(ys)),ys.exports}var va;function ms(){return va||(va=1,function(r){var e=ql();function t(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(s&&s.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),s&&e(n,s)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(ws)),ws.exports}var As={exports:{}},bs={exports:{}},xa;function vs(){return xa||(xa=1,function(r){function e(t){return r.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r.exports.__esModule=!0,r.exports.default=r.exports,e(t)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(bs)),bs.exports}var xs={exports:{}},Ea;function Yl(){return Ea||(Ea=1,function(r){function e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(xs)),xs.exports}var Ia;function Es(){return Ia||(Ia=1,function(r){var e=vs().default,t=Yl();function n(s,i){if(i&&(e(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(s)}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports}(As)),As.exports}var Is={exports:{}},Ba;function Bs(){return Ba||(Ba=1,function(r){function e(t){return r.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},r.exports.__esModule=!0,r.exports.default=r.exports,e(t)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(Is)),Is.exports}var Ss={},ei={exports:{}};(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function s(h,w,m){this.fn=h,this.context=w,this.once=m||!1}function i(h,w,m,I,N){if(typeof m!="function")throw new TypeError("The listener must be a function");var B=new s(m,I||h,N),k=t?t+w:w;return h._events[k]?h._events[k].fn?h._events[k]=[h._events[k],B]:h._events[k].push(B):(h._events[k]=B,h._eventsCount++),h}function c(h,w){--h._eventsCount===0?h._events=new n:delete h._events[w]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var w=[],m,I;if(this._eventsCount===0)return w;for(I in m=this._events)e.call(m,I)&&w.push(t?I.slice(1):I);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(m)):w},u.prototype.listeners=function(w){var m=t?t+w:w,I=this._events[m];if(!I)return[];if(I.fn)return[I.fn];for(var N=0,B=I.length,k=new Array(B);N<B;N++)k[N]=I[N].fn;return k},u.prototype.listenerCount=function(w){var m=t?t+w:w,I=this._events[m];return I?I.fn?1:I.length:0},u.prototype.emit=function(w,m,I,N,B,k){var T=t?t+w:w;if(!this._events[T])return!1;var C=this._events[T],U=arguments.length,D,L;if(C.fn){switch(C.once&&this.removeListener(w,C.fn,void 0,!0),U){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,m),!0;case 3:return C.fn.call(C.context,m,I),!0;case 4:return C.fn.call(C.context,m,I,N),!0;case 5:return C.fn.call(C.context,m,I,N,B),!0;case 6:return C.fn.call(C.context,m,I,N,B,k),!0}for(L=1,D=new Array(U-1);L<U;L++)D[L-1]=arguments[L];C.fn.apply(C.context,D)}else{var z=C.length,P;for(L=0;L<z;L++)switch(C[L].once&&this.removeListener(w,C[L].fn,void 0,!0),U){case 1:C[L].fn.call(C[L].context);break;case 2:C[L].fn.call(C[L].context,m);break;case 3:C[L].fn.call(C[L].context,m,I);break;case 4:C[L].fn.call(C[L].context,m,I,N);break;default:if(!D)for(P=1,D=new Array(U-1);P<U;P++)D[P-1]=arguments[P];C[L].fn.apply(C[L].context,D)}}return!0},u.prototype.on=function(w,m,I){return i(this,w,m,I,!1)},u.prototype.once=function(w,m,I){return i(this,w,m,I,!0)},u.prototype.removeListener=function(w,m,I,N){var B=t?t+w:w;if(!this._events[B])return this;if(!m)return c(this,B),this;var k=this._events[B];if(k.fn)k.fn===m&&(!N||k.once)&&(!I||k.context===I)&&c(this,B);else{for(var T=0,C=[],U=k.length;T<U;T++)(k[T].fn!==m||N&&!k[T].once||I&&k[T].context!==I)&&C.push(k[T]);C.length?this._events[B]=C.length===1?C[0]:C:c(this,B)}return this},u.prototype.removeAllListeners=function(w){var m;return w?(m=t?t+w:w,this._events[m]&&c(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=t,u.EventEmitter=u,r.exports=u})(ei);const ti=ei.exports;var Sa;function Vl(){return Sa||(Sa=1,function(r){var e=$r.exports;Object.defineProperty(r,"__esModule",{value:!0}),r.default=I;var t=e(gs()),n=e(ds()),s=e(ms()),i=e(Es()),c=e(Bs()),u=ei.exports;function h(N){var B=w();return function(){var T=(0,c.default)(N),C;if(B){var U=(0,c.default)(this).constructor;C=Reflect.construct(T,arguments,U)}else C=T.apply(this,arguments);return(0,i.default)(this,C)}}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var m=function(N){(0,s.default)(k,N);var B=h(k);function k(T,C,U){var D;return(0,t.default)(this,k),D=B.call(this),D.socket=new window.WebSocket(T,U),D.socket.onopen=function(){return D.emit("open")},D.socket.onmessage=function(L){return D.emit("message",L.data)},D.socket.onerror=function(L){return D.emit("error",L)},D.socket.onclose=function(L){D.emit("close",L.code,L.reason)},D}return(0,n.default)(k,[{key:"send",value:function(C,U,D){var L=D||U;try{this.socket.send(C),L()}catch(z){L(z)}}},{key:"close",value:function(C,U){this.socket.close(C,U)}},{key:"addEventListener",value:function(C,U,D){this.socket.addEventListener(C,U,D)}}]),k}(u.EventEmitter);function I(N,B){return new m(N,B)}}(Ss)),Ss}var Ms={},_s={exports:{}},Ma;function Zl(){return Ma||(Ma=1,function(r){var e=vs().default;function t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */r.exports=t=function(){return n},r.exports.__esModule=!0,r.exports.default=r.exports;var n={},s=Object.prototype,i=s.hasOwnProperty,c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",h=c.asyncIterator||"@@asyncIterator",w=c.toStringTag||"@@toStringTag";function m(E,l,g){return Object.defineProperty(E,l,{value:g,enumerable:!0,configurable:!0,writable:!0}),E[l]}try{m({},"")}catch{m=function(g,A,x){return g[A]=x}}function I(E,l,g,A){var x=l&&l.prototype instanceof k?l:k,S=Object.create(x.prototype),R=new Le(A||[]);return S._invoke=function(F,v,p){var M="suspendedStart";return function(te,oe){if(M==="executing")throw new Error("Generator is already running");if(M==="completed"){if(te==="throw")throw oe;return Re()}for(p.method=te,p.arg=oe;;){var ue=p.delegate;if(ue){var Ue=Q(ue,p);if(Ue){if(Ue===B)continue;return Ue}}if(p.method==="next")p.sent=p._sent=p.arg;else if(p.method==="throw"){if(M==="suspendedStart")throw M="completed",p.arg;p.dispatchException(p.arg)}else p.method==="return"&&p.abrupt("return",p.arg);M="executing";var de=N(F,v,p);if(de.type==="normal"){if(M=p.done?"completed":"suspendedYield",de.arg===B)continue;return{value:de.arg,done:p.done}}de.type==="throw"&&(M="completed",p.method="throw",p.arg=de.arg)}}}(E,g,R),S}function N(E,l,g){try{return{type:"normal",arg:E.call(l,g)}}catch(A){return{type:"throw",arg:A}}}n.wrap=I;var B={};function k(){}function T(){}function C(){}var U={};m(U,u,function(){return this});var D=Object.getPrototypeOf,L=D&&D(D(ge([])));L&&L!==s&&i.call(L,u)&&(U=L);var z=C.prototype=k.prototype=Object.create(U);function P(E){["next","throw","return"].forEach(function(l){m(E,l,function(g){return this._invoke(l,g)})})}function W(E,l){function g(x,S,R,F){var v=N(E[x],E,S);if(v.type!=="throw"){var p=v.arg,M=p.value;return M&&e(M)=="object"&&i.call(M,"__await")?l.resolve(M.__await).then(function(te){g("next",te,R,F)},function(te){g("throw",te,R,F)}):l.resolve(M).then(function(te){p.value=te,R(p)},function(te){return g("throw",te,R,F)})}F(v.arg)}var A;this._invoke=function(x,S){function R(){return new l(function(F,v){g(x,S,F,v)})}return A=A?A.then(R,R):R()}}function Q(E,l){var g=E.iterator[l.method];if(g===void 0){if(l.delegate=null,l.method==="throw"){if(E.iterator.return&&(l.method="return",l.arg=void 0,Q(E,l),l.method==="throw"))return B;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return B}var A=N(g,E.iterator,l.arg);if(A.type==="throw")return l.method="throw",l.arg=A.arg,l.delegate=null,B;var x=A.arg;return x?x.done?(l[E.resultName]=x.value,l.next=E.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,B):x:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,B)}function j(E){var l={tryLoc:E[0]};1 in E&&(l.catchLoc=E[1]),2 in E&&(l.finallyLoc=E[2],l.afterLoc=E[3]),this.tryEntries.push(l)}function me(E){var l=E.completion||{};l.type="normal",delete l.arg,E.completion=l}function Le(E){this.tryEntries=[{tryLoc:"root"}],E.forEach(j,this),this.reset(!0)}function ge(E){if(E){var l=E[u];if(l)return l.call(E);if(typeof E.next=="function")return E;if(!isNaN(E.length)){var g=-1,A=function x(){for(;++g<E.length;)if(i.call(E,g))return x.value=E[g],x.done=!1,x;return x.value=void 0,x.done=!0,x};return A.next=A}}return{next:Re}}function Re(){return{value:void 0,done:!0}}return T.prototype=C,m(z,"constructor",C),m(C,"constructor",T),T.displayName=m(C,w,"GeneratorFunction"),n.isGeneratorFunction=function(E){var l=typeof E=="function"&&E.constructor;return!!l&&(l===T||(l.displayName||l.name)==="GeneratorFunction")},n.mark=function(E){return Object.setPrototypeOf?Object.setPrototypeOf(E,C):(E.__proto__=C,m(E,w,"GeneratorFunction")),E.prototype=Object.create(z),E},n.awrap=function(E){return{__await:E}},P(W.prototype),m(W.prototype,h,function(){return this}),n.AsyncIterator=W,n.async=function(E,l,g,A,x){x===void 0&&(x=Promise);var S=new W(I(E,l,g,A),x);return n.isGeneratorFunction(l)?S:S.next().then(function(R){return R.done?R.value:S.next()})},P(z),m(z,w,"Generator"),m(z,u,function(){return this}),m(z,"toString",function(){return"[object Generator]"}),n.keys=function(E){var l=[];for(var g in E)l.push(g);return l.reverse(),function A(){for(;l.length;){var x=l.pop();if(x in E)return A.value=x,A.done=!1,A}return A.done=!0,A}},n.values=ge,Le.prototype={constructor:Le,reset:function(l){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(me),!l)for(var g in this)g.charAt(0)==="t"&&i.call(this,g)&&!isNaN(+g.slice(1))&&(this[g]=void 0)},stop:function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},dispatchException:function(l){if(this.done)throw l;var g=this;function A(p,M){return R.type="throw",R.arg=l,g.next=p,M&&(g.method="next",g.arg=void 0),!!M}for(var x=this.tryEntries.length-1;x>=0;--x){var S=this.tryEntries[x],R=S.completion;if(S.tryLoc==="root")return A("end");if(S.tryLoc<=this.prev){var F=i.call(S,"catchLoc"),v=i.call(S,"finallyLoc");if(F&&v){if(this.prev<S.catchLoc)return A(S.catchLoc,!0);if(this.prev<S.finallyLoc)return A(S.finallyLoc)}else if(F){if(this.prev<S.catchLoc)return A(S.catchLoc,!0)}else{if(!v)throw new Error("try statement without catch or finally");if(this.prev<S.finallyLoc)return A(S.finallyLoc)}}}},abrupt:function(l,g){for(var A=this.tryEntries.length-1;A>=0;--A){var x=this.tryEntries[A];if(x.tryLoc<=this.prev&&i.call(x,"finallyLoc")&&this.prev<x.finallyLoc){var S=x;break}}S&&(l==="break"||l==="continue")&&S.tryLoc<=g&&g<=S.finallyLoc&&(S=null);var R=S?S.completion:{};return R.type=l,R.arg=g,S?(this.method="next",this.next=S.finallyLoc,B):this.complete(R)},complete:function(l,g){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&g&&(this.next=g),B},finish:function(l){for(var g=this.tryEntries.length-1;g>=0;--g){var A=this.tryEntries[g];if(A.finallyLoc===l)return this.complete(A.completion,A.afterLoc),me(A),B}},catch:function(l){for(var g=this.tryEntries.length-1;g>=0;--g){var A=this.tryEntries[g];if(A.tryLoc===l){var x=A.completion;if(x.type==="throw"){var S=x.arg;me(A)}return S}}throw new Error("illegal catch attempt")},delegateYield:function(l,g,A){return this.delegate={iterator:ge(l),resultName:g,nextLoc:A},this.method==="next"&&(this.arg=void 0),B}},n}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(_s)),_s.exports}var Ts,_a;function Xl(){if(_a)return Ts;_a=1;var r=Zl()();Ts=r;try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}return Ts}var ks={exports:{}},Ta;function Jl(){return Ta||(Ta=1,function(r){function e(n,s,i,c,u,h,w){try{var m=n[h](w),I=m.value}catch(N){i(N);return}m.done?s(I):Promise.resolve(I).then(c,u)}function t(n){return function(){var s=this,i=arguments;return new Promise(function(c,u){var h=n.apply(s,i);function w(I){e(h,c,u,w,m,"next",I)}function m(I){e(h,c,u,w,m,"throw",I)}w(void 0)})}}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(ks)),ks.exports}var ka;function $l(){return ka||(ka=1,function(r){var e=$r.exports;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=e(Xl()),n=e(Jl()),s=e(vs()),i=e(gs()),c=e(ds()),u=e(ms()),h=e(Es()),w=e(Bs()),m=ei.exports;function I(T){var C=N();return function(){var D=(0,w.default)(T),L;if(C){var z=(0,w.default)(this).constructor;L=Reflect.construct(D,arguments,z)}else L=D.apply(this,arguments);return(0,h.default)(this,L)}}function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var B=function(T,C){var U={};for(var D in T)Object.prototype.hasOwnProperty.call(T,D)&&C.indexOf(D)<0&&(U[D]=T[D]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,D=Object.getOwnPropertySymbols(T);L<D.length;L++)C.indexOf(D[L])<0&&Object.prototype.propertyIsEnumerable.call(T,D[L])&&(U[D[L]]=T[D[L]]);return U},k=function(T){(0,u.default)(U,T);var C=I(U);function U(D){var L,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},W=arguments.length>3?arguments[3]:void 0;(0,i.default)(this,U);var Q=P.autoconnect,j=Q===void 0?!0:Q,me=P.reconnect,Le=me===void 0?!0:me,ge=P.reconnect_interval,Re=ge===void 0?1e3:ge,E=P.max_reconnects,l=E===void 0?5:E,g=B(P,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return L=C.call(this),L.webSocketFactory=D,L.queue={},L.rpc_id=0,L.address=z,L.autoconnect=j,L.ready=!1,L.reconnect=Le,L.reconnect_interval=Re,L.max_reconnects=l,L.rest_options=g,L.current_reconnects=0,L.generate_request_id=W||function(){return++L.rpc_id},L.autoconnect&&L._connect(L.address,Object.assign({autoconnect:L.autoconnect,reconnect:L.reconnect,reconnect_interval:L.reconnect_interval,max_reconnects:L.max_reconnects},L.rest_options)),L}return(0,c.default)(U,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(L,z,P,W){var Q=this;return!W&&(0,s.default)(P)==="object"&&(W=P,P=null),new Promise(function(j,me){if(!Q.ready)return me(new Error("socket not ready"));var Le=Q.generate_request_id(L,z),ge={jsonrpc:"2.0",method:L,params:z||null,id:Le};Q.socket.send(JSON.stringify(ge),W,function(Re){if(Re)return me(Re);Q.queue[Le]={promise:[j,me]},P&&(Q.queue[Le].timeout=setTimeout(function(){delete Q.queue[Le],me(new Error("reply timeout"))},P))})})}},{key:"login",value:function(){var D=(0,n.default)(t.default.mark(function z(P){var W;return t.default.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,this.call("rpc.login",P);case 2:if(W=j.sent,W){j.next=5;break}throw new Error("authentication failed");case 5:return j.abrupt("return",W);case 6:case"end":return j.stop()}},z,this)}));function L(z){return D.apply(this,arguments)}return L}()},{key:"listMethods",value:function(){var D=(0,n.default)(t.default.mark(function z(){return t.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this.call("__listMethods");case 2:return W.abrupt("return",W.sent);case 3:case"end":return W.stop()}},z,this)}));function L(){return D.apply(this,arguments)}return L}()},{key:"notify",value:function(L,z){var P=this;return new Promise(function(W,Q){if(!P.ready)return Q(new Error("socket not ready"));var j={jsonrpc:"2.0",method:L,params:z||null};P.socket.send(JSON.stringify(j),function(me){if(me)return Q(me);W()})})}},{key:"subscribe",value:function(){var D=(0,n.default)(t.default.mark(function z(P){var W;return t.default.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return typeof P=="string"&&(P=[P]),j.next=3,this.call("rpc.on",P);case 3:if(W=j.sent,!(typeof P=="string"&&W[P]!=="ok")){j.next=6;break}throw new Error("Failed subscribing to an event '"+P+"' with: "+W[P]);case 6:return j.abrupt("return",W);case 7:case"end":return j.stop()}},z,this)}));function L(z){return D.apply(this,arguments)}return L}()},{key:"unsubscribe",value:function(){var D=(0,n.default)(t.default.mark(function z(P){var W;return t.default.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return typeof P=="string"&&(P=[P]),j.next=3,this.call("rpc.off",P);case 3:if(W=j.sent,!(typeof P=="string"&&W[P]!=="ok")){j.next=6;break}throw new Error("Failed unsubscribing from an event with: "+W);case 6:return j.abrupt("return",W);case 7:case"end":return j.stop()}},z,this)}));function L(z){return D.apply(this,arguments)}return L}()},{key:"close",value:function(L,z){this.socket.close(L||1e3,z)}},{key:"_connect",value:function(L,z){var P=this;this.socket=this.webSocketFactory(L,z),this.socket.addEventListener("open",function(){P.ready=!0,P.emit("open"),P.current_reconnects=0}),this.socket.addEventListener("message",function(W){var Q=W.data;Q instanceof ArrayBuffer&&(Q=Buffer.from(Q).toString());try{Q=JSON.parse(Q)}catch{return}if(Q.notification&&P.listeners(Q.notification).length){if(!Object.keys(Q.params).length)return P.emit(Q.notification);var j=[Q.notification];if(Q.params.constructor===Object)j.push(Q.params);else for(var me=0;me<Q.params.length;me++)j.push(Q.params[me]);return Promise.resolve().then(function(){P.emit.apply(P,j)})}if(!P.queue[Q.id])return Q.method&&Q.params?Promise.resolve().then(function(){P.emit(Q.method,Q.params)}):void 0;"error"in Q=="result"in Q&&P.queue[Q.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),P.queue[Q.id].timeout&&clearTimeout(P.queue[Q.id].timeout),Q.error?P.queue[Q.id].promise[1](Q.error):P.queue[Q.id].promise[0](Q.result),delete P.queue[Q.id]}),this.socket.addEventListener("error",function(W){return P.emit("error",W)}),this.socket.addEventListener("close",function(W){var Q=W.code,j=W.reason;P.ready&&setTimeout(function(){return P.emit("close",Q,j)},0),P.ready=!1,P.socket=void 0,Q!==1e3&&(P.current_reconnects++,P.reconnect&&(P.max_reconnects>P.current_reconnects||P.max_reconnects===0)&&setTimeout(function(){return P._connect(L,z)},P.reconnect_interval))})}}]),U}(m.EventEmitter);r.default=k}(Ms)),Ms}var Nn=$r.exports;Object.defineProperty(fs,"__esModule",{value:!0});var Ca=fs.Client=void 0,ef=Nn(ds()),tf=Nn(gs()),nf=Nn(ms()),rf=Nn(Es()),Na=Nn(Bs()),sf=Nn(Vl()),of=Nn($l());function af(r){var e=cf();return function(){var n=(0,Na.default)(r),s;if(e){var i=(0,Na.default)(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return(0,rf.default)(this,s)}}function cf(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var uf=function(r){(0,nf.default)(t,r);var e=af(t);function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.autoconnect,c=i===void 0?!0:i,u=s.reconnect,h=u===void 0?!0:u,w=s.reconnect_interval,m=w===void 0?1e3:w,I=s.max_reconnects,N=I===void 0?5:I,B=arguments.length>2?arguments[2]:void 0;return(0,tf.default)(this,t),e.call(this,sf.default,n,{autoconnect:c,reconnect:h,reconnect_interval:m,max_reconnects:N},B)}return(0,ef.default)(t)}(of.default);Ca=fs.Client=uf;var ni,lf=new Uint8Array(16);function La(){if(!ni&&(ni=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ni))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ni(lf)}const ff=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ri(r){return typeof r=="string"&&ff.test(r)}for(var Bt=[],Cs=0;Cs<256;++Cs)Bt.push((Cs+256).toString(16).substr(1));function ii(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Bt[r[e+0]]+Bt[r[e+1]]+Bt[r[e+2]]+Bt[r[e+3]]+"-"+Bt[r[e+4]]+Bt[r[e+5]]+"-"+Bt[r[e+6]]+Bt[r[e+7]]+"-"+Bt[r[e+8]]+Bt[r[e+9]]+"-"+Bt[r[e+10]]+Bt[r[e+11]]+Bt[r[e+12]]+Bt[r[e+13]]+Bt[r[e+14]]+Bt[r[e+15]]).toLowerCase();if(!ri(t))throw TypeError("Stringified UUID is invalid");return t}var Ra,Ns,Ls=0,Rs=0;function hf(r,e,t){var n=e&&t||0,s=e||new Array(16);r=r||{};var i=r.node||Ra,c=r.clockseq!==void 0?r.clockseq:Ns;if(i==null||c==null){var u=r.random||(r.rng||La)();i==null&&(i=Ra=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),c==null&&(c=Ns=(u[6]<<8|u[7])&16383)}var h=r.msecs!==void 0?r.msecs:Date.now(),w=r.nsecs!==void 0?r.nsecs:Rs+1,m=h-Ls+(w-Rs)/1e4;if(m<0&&r.clockseq===void 0&&(c=c+1&16383),(m<0||h>Ls)&&r.nsecs===void 0&&(w=0),w>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ls=h,Rs=w,Ns=c,h+=122192928e5;var I=((h&268435455)*1e4+w)%4294967296;s[n++]=I>>>24&255,s[n++]=I>>>16&255,s[n++]=I>>>8&255,s[n++]=I&255;var N=h/4294967296*1e4&268435455;s[n++]=N>>>8&255,s[n++]=N&255,s[n++]=N>>>24&15|16,s[n++]=N>>>16&255,s[n++]=c>>>8|128,s[n++]=c&255;for(var B=0;B<6;++B)s[n+B]=i[B];return e||ii(s)}function Ua(r){if(!ri(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}function df(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}var pf="6ba7b810-9dad-11d1-80b4-00c04fd430c8",gf="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Oa(r,e,t){function n(s,i,c,u){if(typeof s=="string"&&(s=df(s)),typeof i=="string"&&(i=Ua(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var h=new Uint8Array(16+s.length);if(h.set(i),h.set(s,i.length),h=t(h),h[6]=h[6]&15|e,h[8]=h[8]&63|128,c){u=u||0;for(var w=0;w<16;++w)c[u+w]=h[w];return c}return ii(h)}try{n.name=r}catch{}return n.DNS=pf,n.URL=gf,n}function wf(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return yf(mf(Af(r),r.length*8))}function yf(r){for(var e=[],t=r.length*32,n="0123456789abcdef",s=0;s<t;s+=8){var i=r[s>>5]>>>s%32&255,c=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);e.push(c)}return e}function Fa(r){return(r+64>>>9<<4)+14+1}function mf(r,e){r[e>>5]|=128<<e%32,r[Fa(e)-1]=e;for(var t=1732584193,n=-271733879,s=-1732584194,i=271733878,c=0;c<r.length;c+=16){var u=t,h=n,w=s,m=i;t=Mt(t,n,s,i,r[c],7,-680876936),i=Mt(i,t,n,s,r[c+1],12,-389564586),s=Mt(s,i,t,n,r[c+2],17,606105819),n=Mt(n,s,i,t,r[c+3],22,-1044525330),t=Mt(t,n,s,i,r[c+4],7,-176418897),i=Mt(i,t,n,s,r[c+5],12,1200080426),s=Mt(s,i,t,n,r[c+6],17,-1473231341),n=Mt(n,s,i,t,r[c+7],22,-45705983),t=Mt(t,n,s,i,r[c+8],7,1770035416),i=Mt(i,t,n,s,r[c+9],12,-1958414417),s=Mt(s,i,t,n,r[c+10],17,-42063),n=Mt(n,s,i,t,r[c+11],22,-1990404162),t=Mt(t,n,s,i,r[c+12],7,1804603682),i=Mt(i,t,n,s,r[c+13],12,-40341101),s=Mt(s,i,t,n,r[c+14],17,-1502002290),n=Mt(n,s,i,t,r[c+15],22,1236535329),t=_t(t,n,s,i,r[c+1],5,-165796510),i=_t(i,t,n,s,r[c+6],9,-1069501632),s=_t(s,i,t,n,r[c+11],14,643717713),n=_t(n,s,i,t,r[c],20,-373897302),t=_t(t,n,s,i,r[c+5],5,-701558691),i=_t(i,t,n,s,r[c+10],9,38016083),s=_t(s,i,t,n,r[c+15],14,-660478335),n=_t(n,s,i,t,r[c+4],20,-405537848),t=_t(t,n,s,i,r[c+9],5,568446438),i=_t(i,t,n,s,r[c+14],9,-1019803690),s=_t(s,i,t,n,r[c+3],14,-187363961),n=_t(n,s,i,t,r[c+8],20,1163531501),t=_t(t,n,s,i,r[c+13],5,-1444681467),i=_t(i,t,n,s,r[c+2],9,-51403784),s=_t(s,i,t,n,r[c+7],14,1735328473),n=_t(n,s,i,t,r[c+12],20,-1926607734),t=Tt(t,n,s,i,r[c+5],4,-378558),i=Tt(i,t,n,s,r[c+8],11,-2022574463),s=Tt(s,i,t,n,r[c+11],16,1839030562),n=Tt(n,s,i,t,r[c+14],23,-35309556),t=Tt(t,n,s,i,r[c+1],4,-1530992060),i=Tt(i,t,n,s,r[c+4],11,1272893353),s=Tt(s,i,t,n,r[c+7],16,-155497632),n=Tt(n,s,i,t,r[c+10],23,-1094730640),t=Tt(t,n,s,i,r[c+13],4,681279174),i=Tt(i,t,n,s,r[c],11,-358537222),s=Tt(s,i,t,n,r[c+3],16,-722521979),n=Tt(n,s,i,t,r[c+6],23,76029189),t=Tt(t,n,s,i,r[c+9],4,-640364487),i=Tt(i,t,n,s,r[c+12],11,-421815835),s=Tt(s,i,t,n,r[c+15],16,530742520),n=Tt(n,s,i,t,r[c+2],23,-995338651),t=kt(t,n,s,i,r[c],6,-198630844),i=kt(i,t,n,s,r[c+7],10,1126891415),s=kt(s,i,t,n,r[c+14],15,-1416354905),n=kt(n,s,i,t,r[c+5],21,-57434055),t=kt(t,n,s,i,r[c+12],6,1700485571),i=kt(i,t,n,s,r[c+3],10,-1894986606),s=kt(s,i,t,n,r[c+10],15,-1051523),n=kt(n,s,i,t,r[c+1],21,-2054922799),t=kt(t,n,s,i,r[c+8],6,1873313359),i=kt(i,t,n,s,r[c+15],10,-30611744),s=kt(s,i,t,n,r[c+6],15,-1560198380),n=kt(n,s,i,t,r[c+13],21,1309151649),t=kt(t,n,s,i,r[c+4],6,-145523070),i=kt(i,t,n,s,r[c+11],10,-1120210379),s=kt(s,i,t,n,r[c+2],15,718787259),n=kt(n,s,i,t,r[c+9],21,-343485551),t=An(t,u),n=An(n,h),s=An(s,w),i=An(i,m)}return[t,n,s,i]}function Af(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(Fa(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function An(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function bf(r,e){return r<<e|r>>>32-e}function si(r,e,t,n,s,i){return An(bf(An(An(e,r),An(n,i)),s),t)}function Mt(r,e,t,n,s,i,c){return si(e&t|~e&n,r,e,s,i,c)}function _t(r,e,t,n,s,i,c){return si(e&n|t&~n,r,e,s,i,c)}function Tt(r,e,t,n,s,i,c){return si(e^t^n,r,e,s,i,c)}function kt(r,e,t,n,s,i,c){return si(t^(e|~n),r,e,s,i,c)}var vf=Oa("v3",48,wf);const xf=vf;function Da(r,e,t){r=r||{};var n=r.random||(r.rng||La)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var s=0;s<16;++s)e[t+s]=n[s];return e}return ii(n)}function Ef(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function Us(r,e){return r<<e|r>>>32-e}function If(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var s=0;s<n.length;++s)r.push(n.charCodeAt(s))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var i=r.length/4+2,c=Math.ceil(i/16),u=new Array(c),h=0;h<c;++h){for(var w=new Uint32Array(16),m=0;m<16;++m)w[m]=r[h*64+m*4]<<24|r[h*64+m*4+1]<<16|r[h*64+m*4+2]<<8|r[h*64+m*4+3];u[h]=w}u[c-1][14]=(r.length-1)*8/Math.pow(2,32),u[c-1][14]=Math.floor(u[c-1][14]),u[c-1][15]=(r.length-1)*8&4294967295;for(var I=0;I<c;++I){for(var N=new Uint32Array(80),B=0;B<16;++B)N[B]=u[I][B];for(var k=16;k<80;++k)N[k]=Us(N[k-3]^N[k-8]^N[k-14]^N[k-16],1);for(var T=t[0],C=t[1],U=t[2],D=t[3],L=t[4],z=0;z<80;++z){var P=Math.floor(z/20),W=Us(T,5)+Ef(P,C,U,D)+L+e[P]+N[z]>>>0;L=D,D=U,U=Us(C,30)>>>0,C=T,T=W}t[0]=t[0]+T>>>0,t[1]=t[1]+C>>>0,t[2]=t[2]+U>>>0,t[3]=t[3]+D>>>0,t[4]=t[4]+L>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var Bf=Oa("v5",80,If);const Sf=Bf,Mf="00000000-0000-0000-0000-000000000000";function _f(r){if(!ri(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const Pa=Ni(Object.freeze(Object.defineProperty({__proto__:null,v1:hf,v3:xf,v4:Da,v5:Sf,NIL:Mf,version:_f,validate:ri,stringify:ii,parse:Ua},Symbol.toStringTag,{value:"Module"}))),Tf=Pa.v4;var kf=function(r,e,t,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};const s=typeof n.version=="number"?n.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:r};if(s===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof t>"u"){const c=typeof n.generator=="function"?n.generator:function(){return Tf()};i.id=c(i,n)}else s===2&&t===null?n.notificationIdNull&&(i.id=null):i.id=t;return i};const Cf=Pa.v4,Nf=kf,vr=function(r,e){if(!(this instanceof vr))return new vr(r,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return Cf()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=r};var Lf=vr;vr.prototype.request=function(r,e,t,n){const s=this;let i=null;const c=Array.isArray(r)&&typeof e=="function";if(this.options.version===1&&c)throw new TypeError("JSON-RPC 1.0 does not support batching");if(c||!c&&r&&typeof r=="object"&&typeof e=="function")n=e,i=r;else{typeof t=="function"&&(n=t,t=void 0);const w=typeof n=="function";try{i=Nf(r,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(m){if(w)return n(m);throw m}if(!w)return i}let h;try{h=JSON.stringify(i,this.options.replacer)}catch(w){return n(w)}return this.callServer(h,function(w,m){s._parseResponse(w,m,n)}),i},vr.prototype._parseResponse=function(r,e,t){if(r){t(r);return}if(!e)return t();let n;try{n=JSON.parse(e,this.options.reviver)}catch(s){return t(s)}if(t.length===3)if(Array.isArray(n)){const s=function(c){return typeof c.error<"u"},i=function(c){return!s(c)};return t(null,n.filter(s),n.filter(i))}else return t(null,n.error,n.result);t(null,n)};const[za,Ha,Ga]=[[],[],[]],Rf=BigInt(0),xr=BigInt(1),Uf=BigInt(2),Of=BigInt(7),Ff=BigInt(256),Df=BigInt(113);for(let r=0,e=xr,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],za.push(2*(5*n+t)),Ha.push((r+1)*(r+2)/2%64);let s=Rf;for(let i=0;i<7;i++)e=(e<<xr^(e>>Of)*Df)%Ff,e&Uf&&(s^=xr<<(xr<<BigInt(i))-xr);Ga.push(s)}const[Pf,zf]=he.split(Ga,!0),Wa=(r,e,t)=>t>32?he.rotlBH(r,e,t):he.rotlSH(r,e,t),Qa=(r,e,t)=>t>32?he.rotlBL(r,e,t):he.rotlSL(r,e,t);function Hf(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let c=0;c<10;c++)t[c]=r[c]^r[c+10]^r[c+20]^r[c+30]^r[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,h=(c+2)%10,w=t[h],m=t[h+1],I=Wa(w,m,1)^t[u],N=Qa(w,m,1)^t[u+1];for(let B=0;B<50;B+=10)r[c+B]^=I,r[c+B+1]^=N}let s=r[2],i=r[3];for(let c=0;c<24;c++){const u=Ha[c],h=Wa(s,i,u),w=Qa(s,i,u),m=za[c];s=r[m],i=r[m+1],r[m]=h,r[m+1]=w}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)t[u]=r[c+u];for(let u=0;u<10;u++)r[c+u]^=~t[(u+2)%10]&t[(u+4)%10]}r[0]^=Pf[n],r[1]^=zf[n]}t.fill(0)}class oi extends Oi{constructor(e,t,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Dt.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=yu(this.state)}keccak(){Hf(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Dt.exists(this);const{blockLen:t,state:n}=this;e=ur(e);const s=e.length;for(let i=0;i<s;){const c=Math.min(t-this.pos,s-i);for(let u=0;u<c;u++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:s}=this;e[n]^=t,(t&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Dt.exists(this,!1),Dt.bytes(e),this.finish();const t=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const c=Math.min(n-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Dt.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Dt.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:s,rounds:i,enableXOF:c}=this;return e||(e=new oi(t,n,s,c,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=c,e.destroyed=this.destroyed,e}}const bn=(r,e,t)=>lr(()=>new oi(e,r,t));bn(6,144,224/8),bn(6,136,256/8),bn(6,104,384/8),bn(6,72,512/8),bn(1,144,224/8),bn(1,136,256/8),bn(1,104,384/8),bn(1,72,512/8);const Ka=(r,e,t)=>Au((n={})=>new oi(e,r,n.dkLen===void 0?t:n.dkLen,!0));Ka(31,168,128/8),Ka(31,136,256/8);class ja extends Oi{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Dt.hash(e);const n=ur(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let c=0;c<i.length;c++)i[c]^=54;this.iHash.update(i),this.oHash=e.create();for(let c=0;c<i.length;c++)i[c]^=106;this.oHash.update(i),i.fill(0)}update(e){return Dt.exists(this),this.iHash.update(e),this}digestInto(e){Dt.exists(this),Dt.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:s,destroyed:i,blockLen:c,outputLen:u}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=c,e.outputLen=u,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const qa=(r,e,t)=>new ja(r,e).update(t).digest();qa.create=(r,e)=>new ja(r,e);/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const Me=BigInt(0),je=BigInt(1),vn=BigInt(2),Er=BigInt(3),Gf=BigInt(8),Ze=Object.freeze({a:Me,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:je,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});function Ya(r){const{a:e,b:t}=Ze,n=ne(r*r),s=ne(n*r);return ne(s+e*r+t)}const ai=Ze.a===Me;class Wf extends Error{constructor(e){super(e)}}class ke{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static fromAffine(e){if(!(e instanceof At))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new ke(e.x,e.y,je)}static toAffineBatch(e){const t=Yf(e.map(n=>n.z));return e.map((n,s)=>n.toAffine(t[s]))}static normalizeZ(e){return ke.toAffineBatch(e).map(ke.fromAffine)}equals(e){if(!(e instanceof ke))throw new TypeError("JacobianPoint expected");const{x:t,y:n,z:s}=this,{x:i,y:c,z:u}=e,h=ne(s*s),w=ne(u*u),m=ne(t*w),I=ne(i*h),N=ne(ne(n*u)*w),B=ne(ne(c*s)*h);return m===I&&N===B}negate(){return new ke(this.x,ne(-this.y),this.z)}double(){const{x:e,y:t,z:n}=this,s=ne(e*e),i=ne(t*t),c=ne(i*i),u=e+i,h=ne(vn*(ne(u*u)-s-c)),w=ne(Er*s),m=ne(w*w),I=ne(m-vn*h),N=ne(w*(h-I)-Gf*c),B=ne(vn*t*n);return new ke(I,N,B)}add(e){if(!(e instanceof ke))throw new TypeError("JacobianPoint expected");const{x:t,y:n,z:s}=this,{x:i,y:c,z:u}=e;if(i===Me||c===Me)return this;if(t===Me||n===Me)return e;const h=ne(s*s),w=ne(u*u),m=ne(t*w),I=ne(i*h),N=ne(ne(n*u)*w),B=ne(ne(c*s)*h),k=ne(I-m),T=ne(B-N);if(k===Me)return T===Me?this.double():ke.ZERO;const C=ne(k*k),U=ne(k*C),D=ne(m*C),L=ne(T*T-U-vn*D),z=ne(T*(D-L)-N*U),P=ne(s*u*k);return new ke(L,z,P)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=ke.ZERO;if(typeof e=="bigint"&&e===Me)return t;let n=Ja(e);if(n===je)return this;if(!ai){let I=t,N=this;for(;n>Me;)n&je&&(I=I.add(N)),N=N.double(),n>>=je;return I}let{k1neg:s,k1:i,k2neg:c,k2:u}=ec(n),h=t,w=t,m=this;for(;i>Me||u>Me;)i&je&&(h=h.add(m)),u&je&&(w=w.add(m)),m=m.double(),i>>=je,u>>=je;return s&&(h=h.negate()),c&&(w=w.negate()),w=new ke(ne(w.x*Ze.beta),w.y,w.z),h.add(w)}precomputeWindow(e){const t=ai?128/e+1:256/e+1,n=[];let s=this,i=s;for(let c=0;c<t;c++){i=s,n.push(i);for(let u=1;u<2**(e-1);u++)i=i.add(s),n.push(i);s=i.double()}return n}wNAF(e,t){!t&&this.equals(ke.BASE)&&(t=At.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let s=t&&Os.get(t);s||(s=this.precomputeWindow(n),t&&n!==1&&(s=ke.normalizeZ(s),Os.set(t,s)));let i=ke.ZERO,c=ke.ZERO;const u=1+(ai?128/n:256/n),h=2**(n-1),w=BigInt(2**n-1),m=2**n,I=BigInt(n);for(let N=0;N<u;N++){const B=N*h;let k=Number(e&w);if(e>>=I,k>h&&(k-=m,e+=je),k===0){let T=s[B];N%2&&(T=T.negate()),c=c.add(T)}else{let T=s[B+Math.abs(k)-1];k<0&&(T=T.negate()),i=i.add(T)}}return{p:i,f:c}}multiply(e,t){let n=Ja(e),s,i;if(ai){const{k1neg:c,k1:u,k2neg:h,k2:w}=ec(n);let{p:m,f:I}=this.wNAF(u,t),{p:N,f:B}=this.wNAF(w,t);c&&(m=m.negate()),h&&(N=N.negate()),N=new ke(ne(N.x*Ze.beta),N.y,N.z),s=m.add(N),i=I.add(B)}else{const{p:c,f:u}=this.wNAF(n,t);s=c,i=u}return ke.normalizeZ([s,i])[0]}toAffine(e=ui(this.z)){const{x:t,y:n,z:s}=this,i=e,c=ne(i*i),u=ne(c*i),h=ne(t*c),w=ne(n*u);if(ne(s*i)!==je)throw new Error("invZ was invalid");return new At(h,w)}}ke.BASE=new ke(Ze.Gx,Ze.Gy,je),ke.ZERO=new ke(Me,je,Me);const Os=new WeakMap;class At{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,Os.delete(this)}hasEvenY(){return this.y%vn===Me}static fromCompressedHex(e){const t=e.length===32,n=Un(t?e:e.subarray(1));if(!Ps(n))throw new Error("Point is not on curve");const s=Ya(n);let i=qf(s);const c=(i&je)===je;t?c&&(i=ne(-i)):(e[0]&1)===1!==c&&(i=ne(-i));const u=new At(n,i);return u.assertValidity(),u}static fromUncompressedHex(e){const t=Un(e.subarray(1,33)),n=Un(e.subarray(33,65)),s=new At(t,n);return s.assertValidity(),s}static fromHex(e){const t=Fs(e),n=t.length,s=t[0];if(n===32||n===33&&(s===2||s===3))return this.fromCompressedHex(t);if(n===65&&s===4)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return At.BASE.multiply(zs(e))}static fromSignature(e,t,n){e=Fs(e);const s=Zf(e),{r:i,s:c}=Xf(t);if(n!==0&&n!==1)throw new Error("Cannot recover signature: invalid recovery bit");const u=n&1?"03":"02",h=At.fromHex(u+Vn(i)),{n:w}=Ze,m=ui(i,w),I=ne(-s*m,w),N=ne(c*m,w),B=At.BASE.multiplyAndAddUnsafe(h,I,N);if(!B)throw new Error("Cannot recover signature: point at infinify");return B.assertValidity(),B}toRawBytes(e=!1){return Rn(this.toHex(e))}toHex(e=!1){const t=Vn(this.x);return e?`${this.hasEvenY()?"02":"03"}${t}`:`04${t}${Vn(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:n}=this;if(!Ps(t)||!Ps(n))throw new Error(e);const s=ne(n*n),i=Ya(t);if(ne(s-i)!==Me)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new At(this.x,ne(-this.y))}double(){return ke.fromAffine(this).double().toAffine()}add(e){return ke.fromAffine(this).add(ke.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return ke.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,n){const s=ke.fromAffine(this),i=t===Me||t===je||this!==At.BASE?s.multiplyUnsafe(t):s.multiply(t),c=ke.fromAffine(e).multiplyUnsafe(n),u=i.add(c);return u.equals(ke.ZERO)?void 0:u.toAffine()}}At.BASE=new At(Ze.Gx,Ze.Gy),At.ZERO=new At(Me,Me);function Va(r){return Number.parseInt(r[0],16)>=8?"00"+r:r}function Za(r){if(r.length<2||r[0]!==2)throw new Error(`Invalid signature integer tag: ${Yn(r)}`);const e=r[1],t=r.subarray(2,e+2);if(!e||t.length!==e)throw new Error("Invalid signature integer: wrong length");if(t[0]===0&&t[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Un(t),left:r.subarray(e+2)}}function Qf(r){if(r.length<2||r[0]!=48)throw new Error(`Invalid signature tag: ${Yn(r)}`);if(r[1]!==r.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:t}=Za(r.subarray(2)),{data:n,left:s}=Za(t);if(s.length)throw new Error(`Invalid signature: left bytes after parsing: ${Yn(s)}`);return{r:e,s:n}}class Ln{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!t)throw new TypeError(`${n}: Expected string or Uint8Array`);const s=t?Yn(e):e;if(s.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new Ln(ci(s.slice(0,64)),ci(s.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if(typeof e!="string"&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s}=Qf(t?e:Rn(e));return new Ln(n,s)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!li(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!li(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=Ze.n>>je;return this.s>e}normalizeS(){return this.hasHighS()?new Ln(this.r,Ze.n-this.s):this}toDERRawBytes(e=!1){return Rn(this.toDERHex(e))}toDERHex(e=!1){const t=Va(Br(this.s));if(e)return t;const n=Va(Br(this.r)),s=Br(n.length/2),i=Br(t.length/2);return`30${Br(n.length/2+t.length/2+4)}02${s}${n}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Rn(this.toCompactHex())}toCompactHex(){return Vn(this.r)+Vn(this.s)}}function Ir(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];const e=r.reduce((n,s)=>n+s.length,0),t=new Uint8Array(e);for(let n=0,s=0;n<r.length;n++){const i=r[n];t.set(i,s),s+=i.length}return t}const Kf=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Yn(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let t=0;t<r.length;t++)e+=Kf[r[t]];return e}const jf=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Vn(r){if(typeof r!="bigint")throw new Error("Expected bigint");if(!(Me<=r&&r<jf))throw new Error("Expected number < 2^256");return r.toString(16).padStart(64,"0")}function Xa(r){const e=Rn(Vn(r));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function Br(r){const e=r.toString(16);return e.length&1?`0${e}`:e}function ci(r){if(typeof r!="string")throw new TypeError("hexToNumber: expected string, got "+typeof r);return BigInt(`0x${r}`)}function Rn(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+r.length);const e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){const n=t*2,s=r.slice(n,n+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[t]=i}return e}function Un(r){return ci(Yn(r))}function Fs(r){return r instanceof Uint8Array?Uint8Array.from(r):Rn(r)}function Ja(r){if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)return BigInt(r);if(typeof r=="bigint"&&li(r))return r;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function ne(r,e=Ze.P){const t=r%e;return t>=Me?t:e+t}function jt(r,e){const{P:t}=Ze;let n=r;for(;e-- >Me;)n*=n,n%=t;return n}function qf(r){const{P:e}=Ze,t=BigInt(6),n=BigInt(11),s=BigInt(22),i=BigInt(23),c=BigInt(44),u=BigInt(88),h=r*r*r%e,w=h*h*r%e,m=jt(w,Er)*w%e,I=jt(m,Er)*w%e,N=jt(I,vn)*h%e,B=jt(N,n)*N%e,k=jt(B,s)*B%e,T=jt(k,c)*k%e,C=jt(T,u)*T%e,U=jt(C,c)*k%e,D=jt(U,Er)*w%e,L=jt(D,i)*B%e,z=jt(L,t)*h%e;return jt(z,vn)}function ui(r,e=Ze.P){if(r===Me||e<=Me)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=ne(r,e),n=e,s=Me,i=je;for(;t!==Me;){const u=n/t,h=n%t,w=s-i*u;n=t,t=h,s=i,i=w}if(n!==je)throw new Error("invert: does not exist");return ne(s,e)}function Yf(r,e=Ze.P){const t=new Array(r.length),n=r.reduce((i,c,u)=>c===Me?i:(t[u]=i,ne(i*c,e)),je),s=ui(n,e);return r.reduceRight((i,c,u)=>c===Me?i:(t[u]=ne(i*t[u],e),ne(i*c,e)),s),t}const $a=(r,e)=>(r+e/vn)/e,Vf={a1:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1:-je*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2:BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),POW_2_128:BigInt("0x100000000000000000000000000000000")};function ec(r){const{n:e}=Ze,{a1:t,b1:n,a2:s,b2:i,POW_2_128:c}=Vf,u=$a(i*r,e),h=$a(-n*r,e);let w=ne(r-u*t-h*s,e),m=ne(-u*n-h*i,e);const I=w>c,N=m>c;if(I&&(w=e-w),N&&(m=e-m),w>c||m>c)throw new Error("splitScalarEndo: Endomorphism failed, k="+r);return{k1neg:I,k1:w,k2neg:N,k2:m}}function Zf(r){const{n:e}=Ze,n=r.length*8-256;let s=Un(r);return n>0&&(s=s>>BigInt(n)),s>=e&&(s-=e),s}let Zn,Ds;function li(r){return Me<r&&r<Ze.n}function Ps(r){return Me<r&&r<Ze.P}function zs(r){let e;if(typeof r=="bigint")e=r;else if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)e=BigInt(r);else if(typeof r=="string"){if(r.length!==64)throw new Error("Expected 32 bytes of private key");e=ci(r)}else if(r instanceof Uint8Array){if(r.length!==32)throw new Error("Expected 32 bytes of private key");e=Un(r)}else throw new TypeError("Expected valid private key");if(!li(e))throw new Error("Expected private key: 0 < key < n");return e}function Xf(r){if(r instanceof Ln)return r.assertValidity(),r;try{return Ln.fromDER(r)}catch{return Ln.fromCompact(r)}}At.BASE._setWindowSize(8);const Ht={node:Pi,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},fi={},On={bytesToHex:Yn,hexToBytes:Rn,concatBytes:Ir,mod:ne,invert:ui,isValidPrivateKey(r){try{return zs(r),!0}catch{return!1}},_bigintTo32Bytes:Xa,_normalizePrivateKey:zs,hashToPrivateKey:r=>{if(r=Fs(r),r.length<40||r.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const e=ne(Un(r),Ze.n-je)+je;return Xa(e)},randomBytes:(r=32)=>{if(Ht.web)return Ht.web.getRandomValues(new Uint8Array(r));if(Ht.node){const{randomBytes:e}=Ht.node;return Uint8Array.from(e(r))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>On.hashToPrivateKey(On.randomBytes(40)),sha256:async(...r)=>{if(Ht.web){const e=await Ht.web.subtle.digest("SHA-256",Ir(...r));return new Uint8Array(e)}else if(Ht.node){const{createHash:e}=Ht.node,t=e("sha256");return r.forEach(n=>t.update(n)),Uint8Array.from(t.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(r,...e)=>{if(Ht.web){const t=await Ht.web.subtle.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Ir(...e),s=await Ht.web.subtle.sign("HMAC",t,n);return new Uint8Array(s)}else if(Ht.node){const{createHmac:t}=Ht.node,n=t("sha256",r);return e.forEach(s=>n.update(s)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(r,...e)=>{let t=fi[r];if(t===void 0){const n=await On.sha256(Uint8Array.from(r,s=>s.charCodeAt(0)));t=Ir(n,n),fi[r]=t}return On.sha256(t,...e)},taggedHashSync:(r,...e)=>{if(typeof Zn!="function")throw new Wf("sha256Sync is undefined, you need to set it");let t=fi[r];if(t===void 0){const n=Zn(Uint8Array.from(r,s=>s.charCodeAt(0)));t=Ir(n,n),fi[r]=t}return Zn(t,...e)},precompute(r=8,e=At.BASE){const t=e===At.BASE?e:new At(e.x,e.y);return t._setWindowSize(r),t.multiply(Er),t}};Object.defineProperties(On,{sha256Sync:{configurable:!1,get(){return Zn},set(r){Zn||(Zn=r)}},hmacSha256Sync:{configurable:!1,get(){return Ds},set(r){Ds||(Ds=r)}}}),Gn.sha512Sync=(...r)=>zu(Gn.concatBytes(...r)),Gn.randomPrivateKey;function tc(r){try{return Ye.fromHex(r,!0),!0}catch{return!1}}const Jf=(r,e)=>Go.sign(r,e.slice(0,32)),$f=Go.verify,Sr=r=>pe.Buffer.isBuffer(r)?r:r instanceof Uint8Array?pe.Buffer.from(r.buffer,r.byteOffset,r.byteLength):pe.Buffer.from(r);class eh{constructor(e){Object.assign(this,e)}encode(){return pe.Buffer.from(Zo(hi,this))}static decode(e){return Xo(hi,this,e)}static decodeUnchecked(e){return Ko(hi,this,e)}}const hi=new Map,th=32,un=32;function nh(r){return r._bn!==void 0}let nc=1;class ie extends eh{constructor(e){if(super({}),this._bn=void 0,nh(e))this._bn=e._bn;else{if(typeof e=="string"){const t=xt.decode(e);if(t.length!=un)throw new Error("Invalid public key input");this._bn=new Wo(t)}else this._bn=new Wo(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}static unique(){const e=new ie(nc);return nc+=1,new ie(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return xt.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(pe.Buffer);if(e.length===un)return e;const t=pe.Buffer.alloc(32);return e.copy(t,32-e.length),t}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const s=pe.Buffer.concat([e.toBuffer(),pe.Buffer.from(t),n.toBuffer()]),i=Vi(s);return new ie(i)}static createProgramAddressSync(e,t){let n=pe.Buffer.alloc(0);e.forEach(function(i){if(i.length>th)throw new TypeError("Max seed length exceeded");n=pe.Buffer.concat([n,Sr(i)])}),n=pe.Buffer.concat([n,t.toBuffer(),pe.Buffer.from("ProgramDerivedAddress")]);const s=Vi(n);if(tc(s))throw new Error("Invalid seeds, address must fall off the curve");return new ie(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n=255,s;for(;n!=0;){try{const i=e.concat(pe.Buffer.from([n]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[s,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new ie(e);return tc(t.toBytes())}}ie.default=new ie("11111111111111111111111111111111"),hi.set(ie,{kind:"struct",fields:[["_bn","u256"]]}),new ie("BPFLoader1111111111111111111111111111111111");const Xn=1280-40-8,rc=127,Hs=64;class ic extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ic.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class sc extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(sc.prototype,"name",{value:"TransactionExpiredTimeoutError"});class di{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((i,c)=>{n.set(i.toBase58(),c)});const s=i=>{const c=n.get(i.toBase58());if(c===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return c};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(c=>s(c.pubkey)),data:i.data}))}}const ye=(r="publicKey")=>Ve(32,r),Jn=(r="string")=>{const e=se([le("length"),le("lengthPadding"),Ve(kn(le(),-8),"chars")],r),t=e.decode.bind(e),n=e.encode.bind(e),s=e;return s.decode=(i,c)=>t(i,c).chars.toString(),s.encode=(i,c,u)=>{const h={chars:pe.Buffer.from(i,"utf8")};return n(h,c,u)},s.alloc=i=>le().span+le().span+pe.Buffer.from(i,"utf8").length,s},rh=(r="authorized")=>se([ye("staker"),ye("withdrawer")],r),ih=(r="lockup")=>se([zt("unixTimestamp"),zt("epoch"),ye("custodian")],r),sh=(r="voteInit")=>se([ye("nodePubkey"),ye("authorizedVoter"),ye("authorizedWithdrawer"),Be("commission")],r),oh=(r="voteAuthorizeWithSeedArgs")=>se([le("voteAuthorizationType"),ye("currentAuthorityDerivedKeyOwnerPubkey"),Jn("currentAuthorityDerivedKeySeed"),ye("newAuthorized")],r);function qt(r){let e=0,t=0;for(;;){let n=r.shift();if(e|=(n&127)<<t*7,t+=1,(n&128)===0)break}return e}function Yt(r,e){let t=e;for(;;){let n=t&127;if(t>>=7,t==0){r.push(n);break}else n|=128,r.push(n)}}function Je(r,e){if(!r)throw new Error(e||"Assertion failed")}class pi{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const n=new Map,s=c=>{const u=c.toBase58();let h=n.get(u);return h===void 0&&(h={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(u,h)),h},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const c of e){s(c.programId).isInvoked=!0;for(const u of c.keys){const h=s(u.pubkey);h.isSigner||(h.isSigner=u.isSigner),h.isWritable||(h.isWritable=u.isWritable)}}return new pi(t,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Je(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,h])=>h.isSigner&&h.isWritable),n=e.filter(([,h])=>h.isSigner&&!h.isWritable),s=e.filter(([,h])=>!h.isSigner&&h.isWritable),i=e.filter(([,h])=>!h.isSigner&&!h.isWritable),c={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{Je(t.length>0,"Expected at least one writable signer key");const[h]=t[0];Je(h===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...t.map(([h])=>new ie(h)),...n.map(([h])=>new ie(h)),...s.map(([h])=>new ie(h)),...i.map(([h])=>new ie(h))];return[c,u]}extractTableLookup(e){const[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(e,t){const n=new Array,s=new Array;for(const[i,c]of this.keyMetaMap.entries())if(t(c)){const u=new ie(i),h=e.findIndex(w=>w.equals(u));h>=0&&(Je(h<256,"Max lookup table index exceeded"),n.push(h),s.push(u),this.keyMetaMap.delete(i))}return[n,s]}}class xn{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ie(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:xt.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new di(this.staticAccountKeys)}static compile(e){const t=pi.compile(e.instructions,e.payerKey),[n,s]=t.getMessageComponents(),c=new di(s).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:xt.encode(u.data)}));return new xn({header:n,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:c})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return n<i}else{const n=t-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Yt(t,e);const n=this.instructions.map(I=>{const{accounts:N,programIdIndex:B}=I,k=Array.from(xt.decode(I.data));let T=[];Yt(T,N.length);let C=[];return Yt(C,k.length),{programIdIndex:B,keyIndicesCount:pe.Buffer.from(T),keyIndices:N,dataLength:pe.Buffer.from(C),data:k}});let s=[];Yt(s,n.length);let i=pe.Buffer.alloc(Xn);pe.Buffer.from(s).copy(i);let c=s.length;n.forEach(I=>{c+=se([Be("programIdIndex"),Ve(I.keyIndicesCount.length,"keyIndicesCount"),Lt(Be("keyIndex"),I.keyIndices.length,"keyIndices"),Ve(I.dataLength.length,"dataLength"),Lt(Be("userdatum"),I.data.length,"data")]).encode(I,i,c)}),i=i.slice(0,c);const u=se([Ve(1,"numRequiredSignatures"),Ve(1,"numReadonlySignedAccounts"),Ve(1,"numReadonlyUnsignedAccounts"),Ve(t.length,"keyCount"),Lt(ye("key"),e,"keys"),ye("recentBlockhash")]),h={numRequiredSignatures:pe.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:pe.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:pe.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:pe.Buffer.from(t),keys:this.accountKeys.map(I=>Sr(I.toBytes())),recentBlockhash:xt.decode(this.recentBlockhash)};let w=pe.Buffer.alloc(2048);const m=u.encode(h,w);return i.copy(w,m),w.slice(0,m+i.length)}static from(e){let t=[...e];const n=t.shift();if(n!==(n&rc))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=t.shift(),i=t.shift(),c=qt(t);let u=[];for(let N=0;N<c;N++){const B=t.slice(0,un);t=t.slice(un),u.push(new ie(pe.Buffer.from(B)))}const h=t.slice(0,un);t=t.slice(un);const w=qt(t);let m=[];for(let N=0;N<w;N++){const B=t.shift(),k=qt(t),T=t.slice(0,k);t=t.slice(k);const C=qt(t),U=t.slice(0,C),D=xt.encode(pe.Buffer.from(U));t=t.slice(C),m.push({programIdIndex:B,accounts:T,data:D})}const I={header:{numRequiredSignatures:n,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:xt.encode(pe.Buffer.from(h)),accountKeys:u,instructions:m};return new xn(I)}}class gi{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new di(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const s=e-n,i=this.addressTableLookups.reduce((c,u)=>c+u.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,c=n-t-this.header.numReadonlyUnsignedAccounts;return s<c}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const n of this.addressTableLookups){const s=e.find(i=>i.key.equals(n.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const i of n.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`);for(const i of n.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`)}return t}static compile(e){const t=pi.compile(e.instructions,e.payerKey),n=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const m of i){const I=t.extractTableLookup(m);if(I!==void 0){const[N,{writable:B,readonly:k}]=I;n.push(N),s.writable.push(...B),s.readonly.push(...k)}}const[c,u]=t.getMessageComponents(),w=new di(u,s).compileInstructions(e.instructions);return new gi({header:c,staticAccountKeys:u,recentBlockhash:e.recentBlockhash,compiledInstructions:w,addressTableLookups:n})}serialize(){const e=Array();Yt(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),n=Array();Yt(n,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Yt(i,this.addressTableLookups.length);const c=se([Be("prefix"),se([Be("numRequiredSignatures"),Be("numReadonlySignedAccounts"),Be("numReadonlyUnsignedAccounts")],"header"),Ve(e.length,"staticAccountKeysLength"),Lt(ye(),this.staticAccountKeys.length,"staticAccountKeys"),ye("recentBlockhash"),Ve(n.length,"instructionsLength"),Ve(t.length,"serializedInstructions"),Ve(i.length,"addressTableLookupsLength"),Ve(s.length,"serializedAddressTableLookups")]),u=new Uint8Array(Xn),h=1<<7,w=c.encode({prefix:h,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(m=>m.toBytes()),recentBlockhash:xt.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},u);return u.slice(0,w)}serializeInstructions(){let e=0;const t=new Uint8Array(Xn);for(const n of this.compiledInstructions){const s=Array();Yt(s,n.accountKeyIndexes.length);const i=Array();Yt(i,n.data.length),e+=se([Be("programIdIndex"),Ve(s.length,"encodedAccountKeyIndexesLength"),Lt(Be(),n.accountKeyIndexes.length,"accountKeyIndexes"),Ve(i.length,"encodedDataLength"),Ve(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Xn);for(const n of this.addressTableLookups){const s=Array();Yt(s,n.writableIndexes.length);const i=Array();Yt(i,n.readonlyIndexes.length),e+=se([ye("accountKey"),Ve(s.length,"encodedWritableIndexesLength"),Lt(Be(),n.writableIndexes.length,"writableIndexes"),Ve(i.length,"encodedReadonlyIndexesLength"),Lt(Be(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const n=t.shift(),s=n&rc;Je(n!==s,"Expected versioned message but received legacy message");const i=s;Je(i===0,`Expected versioned message with version 0 but found version ${i}`);const c={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},u=[],h=qt(t);for(let k=0;k<h;k++)u.push(new ie(t.splice(0,un)));const w=xt.encode(t.splice(0,un)),m=qt(t),I=[];for(let k=0;k<m;k++){const T=t.shift(),C=qt(t),U=t.splice(0,C),D=qt(t),L=new Uint8Array(t.splice(0,D));I.push({programIdIndex:T,accountKeyIndexes:U,data:L})}const N=qt(t),B=[];for(let k=0;k<N;k++){const T=new ie(t.splice(0,un)),C=qt(t),U=t.splice(0,C),D=qt(t),L=t.splice(0,D);B.push({accountKey:T,writableIndexes:U,readonlyIndexes:L})}return new gi({header:c,staticAccountKeys:u,recentBlockhash:w,compiledInstructions:I,addressTableLookups:B})}}let En;(function(r){r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT"})(En||(En={}));const ah=pe.Buffer.alloc(Hs).fill(0);class oc{constructor(e){this.keys=void 0,this.programId=void 0,this.data=pe.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class In{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{const{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new oc(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let T=0;T<t.length;T++)if(t[T].programId===void 0)throw new Error(`Transaction instruction index ${T} has undefined program id`);const s=[],i=[];t.forEach(T=>{T.keys.forEach(U=>{i.push({...U})});const C=T.programId.toString();s.includes(C)||s.push(C)}),s.forEach(T=>{i.push({pubkey:new ie(T),isSigner:!1,isWritable:!1})});const c=[];i.forEach(T=>{const C=T.pubkey.toString(),U=c.findIndex(D=>D.pubkey.toString()===C);U>-1?(c[U].isWritable=c[U].isWritable||T.isWritable,c[U].isSigner=c[U].isSigner||T.isSigner):c.push(T)}),c.sort(function(T,C){return T.isSigner!==C.isSigner?T.isSigner?-1:1:T.isWritable!==C.isWritable?T.isWritable?-1:1:T.pubkey.toBase58().localeCompare(C.pubkey.toBase58())});const u=c.findIndex(T=>T.pubkey.equals(n));if(u>-1){const[T]=c.splice(u,1);T.isSigner=!0,T.isWritable=!0,c.unshift(T)}else c.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const T of this.signatures){const C=c.findIndex(U=>U.pubkey.equals(T.publicKey));if(C>-1)c[C].isSigner||(c[C].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${T.publicKey.toString()}`)}let h=0,w=0,m=0;const I=[],N=[];c.forEach(({pubkey:T,isSigner:C,isWritable:U})=>{C?(I.push(T.toString()),h+=1,U||(w+=1)):(N.push(T.toString()),U||(m+=1))});const B=I.concat(N),k=t.map(T=>{const{data:C,programId:U}=T;return{programIdIndex:B.indexOf(U.toString()),accounts:T.keys.map(D=>B.indexOf(D.pubkey.toString())),data:xt.encode(C)}});return k.forEach(T=>{Je(T.programIdIndex>=0),T.accounts.forEach(C=>Je(C>=0))}),new xn({header:{numRequiredSignatures:h,numReadonlySignedAccounts:w,numReadonlyUnsignedAccounts:m},accountKeys:B,recentBlockhash:e,instructions:k})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(n=>{const s=n.toString();return t.has(s)?!1:(t.add(s),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,n=[];for(const i of e){const c=i.publicKey.toString();t.has(c)||(t.add(c),n.push(i))}this.signatures=n.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,n=[];for(const i of e){const c=i.publicKey.toString();t.has(c)||(t.add(c),n.push(i))}const s=this._compile();this._partialSign(s,...n)}_partialSign(e,...t){const n=e.serialize();t.forEach(s=>{const i=Jf(n,s.secretKey);this._addSignature(s.publicKey,Sr(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Je(t.length===64);const n=this.signatures.findIndex(s=>e.equals(s.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=pe.Buffer.from(t)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,t){for(const{signature:n,publicKey:s}of this.signatures)if(n===null){if(t)return!1}else if(!$f(n,e,s.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(n&&!this._verifySignatures(s,t))throw new Error("Signature verification failed");return this._serialize(s)}_serialize(e){const{signatures:t}=this,n=[];Yt(n,t.length);const s=n.length+t.length*64+e.length,i=pe.Buffer.alloc(s);return Je(t.length<256),pe.Buffer.from(n).copy(i,0),t.forEach(({signature:c},u)=>{c!==null&&(Je(c.length===64,"signature has invalid length"),pe.Buffer.from(c).copy(i,n.length+u*64))}),e.copy(i,n.length+t.length*64),Je(i.length<=Xn,`Transaction too large: ${i.length} > ${Xn}`),i}get keys(){return Je(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Je(this.instructions.length===1),this.instructions[0].programId}get data(){return Je(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const n=qt(t);let s=[];for(let i=0;i<n;i++){const c=t.slice(0,Hs);t=t.slice(Hs),s.push(xt.encode(pe.Buffer.from(c)))}return In.populate(xn.from(t),s)}static populate(e,t=[]){const n=new In;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const c={signature:s==xt.encode(ah)?null:xt.decode(s),publicKey:e.accountKeys[i]};n.signatures.push(c)}),e.instructions.forEach(s=>{const i=s.accounts.map(c=>{const u=e.accountKeys[c];return{pubkey:u,isSigner:n.signatures.some(h=>h.publicKey.toString()===u.toString())||e.isAccountSigner(c),isWritable:e.isAccountWritable(c)}});n.instructions.push(new oc({keys:i,programId:e.accountKeys[s.programIdIndex],data:xt.decode(s.data)}))}),n._message=e,n._json=n.toJSON(),n}}new ie("SysvarC1ock11111111111111111111111111111111"),new ie("SysvarEpochSchedu1e111111111111111111111111"),new ie("Sysvar1nstructions1111111111111111111111111"),new ie("SysvarRecentB1ockHashes11111111111111111111"),new ie("SysvarRent111111111111111111111111111111111"),new ie("SysvarRewards111111111111111111111111111111"),new ie("SysvarS1otHashes111111111111111111111111111"),new ie("SysvarS1otHistory11111111111111111111111111"),new ie("SysvarStakeHistory1111111111111111111111111");function wi(r){return new Promise(e=>setTimeout(e,r))}const ch=It("lamportsPerSignature"),ac=se([le("version"),le("state"),ye("authorizedPubkey"),ye("nonce"),se([ch],"feeCalculator")]);ac.span;class Gs{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=ac.decode(Sr(e),0);return new Gs({authorizedPubkey:new ie(t.authorizedPubkey),nonce:new ie(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const uh=r=>{const e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}},$n=(r=>e=>{const t=Ve(r,e),{encode:n,decode:s}=uh(t),i=t;return i.decode=(c,u)=>{const h=s(c,u);return Rl(pe.Buffer.from(h))},i.encode=(c,u,h)=>{const w=Fl(c,r);return n(w,u,h)},i})(8);Object.freeze({Create:{index:0,layout:se([le("instruction"),zt("lamports"),zt("space"),ye("programId")])},Assign:{index:1,layout:se([le("instruction"),ye("programId")])},Transfer:{index:2,layout:se([le("instruction"),$n("lamports")])},CreateWithSeed:{index:3,layout:se([le("instruction"),ye("base"),Jn("seed"),zt("lamports"),zt("space"),ye("programId")])},AdvanceNonceAccount:{index:4,layout:se([le("instruction")])},WithdrawNonceAccount:{index:5,layout:se([le("instruction"),zt("lamports")])},InitializeNonceAccount:{index:6,layout:se([le("instruction"),ye("authorized")])},AuthorizeNonceAccount:{index:7,layout:se([le("instruction"),ye("authorized")])},Allocate:{index:8,layout:se([le("instruction"),zt("space")])},AllocateWithSeed:{index:9,layout:se([le("instruction"),ye("base"),Jn("seed"),zt("space"),ye("programId")])},AssignWithSeed:{index:10,layout:se([le("instruction"),ye("base"),Jn("seed"),ye("programId")])},TransferWithSeed:{index:11,layout:se([le("instruction"),$n("lamports"),Jn("seed"),ye("programId")])},UpgradeNonceAccount:{index:12,layout:se([le("instruction")])}}),new ie("11111111111111111111111111111111"),new ie("BPFLoader2111111111111111111111111111111111");var lh=Object.prototype.toString,fh=Object.keys||function(r){var e=[];for(var t in r)e.push(t);return e};function Mr(r,e){var t,n,s,i,c,u,h;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return Mr(r.toJSON(),e);if(h=lh.call(r),h==="[object Array]"){for(s="[",n=r.length-1,t=0;t<n;t++)s+=Mr(r[t],!0)+",";return n>-1&&(s+=Mr(r[t],!0)),s+"]"}else if(h==="[object Object]"){for(i=fh(r).sort(),n=i.length,s="",t=0;t<n;)c=i[t],u=Mr(r[c],!1),u!==void 0&&(s&&(s+=","),s+=JSON.stringify(c)+":"+u),t++;return"{"+s+"}"}else return JSON.stringify(r);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}var hh=function(r){var e=Mr(r,!1);if(e!==void 0)return""+e},dh=hh;const _r=32;function Ws(r){let e=0;for(;r>1;)r/=2,e++;return e}function ph(r){return r===0?1:(r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r|=r>>32,r+1)}class gh{constructor(e,t,n,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=n,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=Ws(ph(e+_r+1))-Ws(_r)-1,n=this.getSlotsInEpoch(t),s=e-(n-_r);return[t,s]}else{const t=e-this.firstNormalSlot,n=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+n,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*_r:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Ws(_r)):this.slotsPerEpoch}}class cc extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}class ae extends Error{constructor({code:e,message:t,data:n},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}var wh=globalThis.fetch;const yh=160/64,mh=1e3/yh;function Ah(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${r.index}`);return t}const uc=56;class lc{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=Ah(bh,e),n=e.length-uc;Je(n>=0,"lookup table is invalid"),Je(n%32===0,"lookup table is invalid");const s=n/32,{addresses:i}=se([Lt(ye(),s,"addresses")]).decode(e.slice(uc));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new ie(t.authority[0]):void 0,addresses:i.map(c=>new ie(c))}}}const bh={index:1,layout:se([le("typeIndex"),$n("deactivationSlot"),It("lastExtendedSlot"),Be("lastExtendedStartIndex"),Be(),Lt(ye(),kn(Be(),-1),"authority")])},vh=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function xh(r){const e=r.match(vh);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${r}\``);const[t,n,s,i]=e,c=r.startsWith("https:")?"wss:":"ws:",u=s==null?null:parseInt(s.slice(1),10),h=u==null?"":`:${u+1}`;return`${c}//${n}${h}${i}`}var Qs;const $e=br(us(ie),X(),r=>new ie(r)),fc=ls([X(),Ke("base64")]),Ks=br(us(pe.Buffer),fc,r=>pe.Buffer.from(r[0],"base64")),Eh=30*1e3;function Ih(r){if(/^https?:/.test(r)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return r}function Xe(r){let e,t;if(typeof r=="string")e=r;else if(r){const{commitment:n,...s}=r;e=n,t=s}return{commitment:e,config:t}}function hc(r){return Ut([q({jsonrpc:Ke("2.0"),id:X(),result:r}),q({jsonrpc:Ke("2.0"),id:X(),error:q({code:Ar(),message:X(),data:we(Kl())})})])}const Bh=hc(Ar());function ve(r){return br(hc(r),Bh,e=>"error"in e?e:{...e,result:J(e.result,r)})}function bt(r){return ve(q({context:q({slot:G()}),value:r}))}function yi(r){return q({context:q({slot:G()}),value:r})}function js(r,e){return r===0?new gi({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new ie(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:xt.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new xn(e)}const Sh=q({foundation:G(),foundationTerm:G(),initial:G(),taper:G(),terminal:G()}),Mh=ve(re(ce(q({epoch:G(),effectiveSlot:G(),amount:G(),postBalance:G()})))),_h=q({epoch:G(),slotIndex:G(),slotsInEpoch:G(),absoluteSlot:G(),blockHeight:we(G()),transactionCount:we(G())}),Th=q({slotsPerEpoch:G(),leaderScheduleSlotOffset:G(),warmup:cn(),firstNormalEpoch:G(),firstNormalSlot:G()}),kh=ya(X(),re(G())),Fn=ce(Ut([q({}),X()])),Ch=q({err:Fn}),Nh=Ke("receivedSignature"),Lh=q({"solana-core":X(),"feature-set":we(G())}),dc=bt(q({err:ce(Ut([q({}),X()])),logs:ce(re(X())),accounts:we(ce(re(ce(q({executable:cn(),owner:X(),lamports:G(),data:re(X()),rentEpoch:we(G())}))))),unitsConsumed:we(G()),returnData:we(ce(q({programId:X(),data:ls([X(),Ke("base64")])})))})),Rh=bt(q({byIdentity:ya(X(),re(G())),range:q({firstSlot:G(),lastSlot:G()})}));function Uh(r,e,t,n,s){const i=t||wh;let c;return n&&(c=async(h,w)=>{const m=await new Promise((I,N)=>{try{n(h,w,(B,k)=>I([B,k]))}catch(B){N(B)}});return await i(...m)}),new Lf(async(h,w)=>{const I={method:"POST",body:h,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},e||{},k0)};try{let N=5,B,k=500;for(;c?B=await c(r,I):B=await i(r,I),!(B.status!==429||s===!0||(N-=1,N===0));)console.log(`Server responded with ${B.status} ${B.statusText}.  Retrying after ${k}ms delay...`),await wi(k),k*=2;const T=await B.text();B.ok?w(null,T):w(new Error(`${B.status} ${B.statusText}: ${T}`))}catch(N){N instanceof Error&&w(N)}finally{}},{})}function Oh(r){return(e,t)=>new Promise((n,s)=>{r.request(e,t,(i,c)=>{if(i){s(i);return}n(c)})})}function Fh(r){return e=>new Promise((t,n)=>{e.length===0&&t([]);const s=e.map(i=>r.request(i.methodName,i.args));r.request(s,(i,c)=>{if(i){n(i);return}t(c)})})}const Dh=ve(Sh),Ph=ve(_h),zh=ve(Th),Hh=ve(kh),Gh=ve(G()),Wh=bt(q({total:G(),circulating:G(),nonCirculating:G(),nonCirculatingAccounts:re($e)})),qs=q({amount:X(),uiAmount:ce(G()),decimals:G(),uiAmountString:we(X())}),Qh=bt(re(q({address:$e,amount:X(),uiAmount:ce(G()),decimals:G(),uiAmountString:we(X())}))),Kh=bt(re(q({pubkey:$e,account:q({executable:cn(),owner:$e,lamports:G(),data:Ks,rentEpoch:G()})}))),Ys=q({program:X(),parsed:Ar(),space:G()}),jh=bt(re(q({pubkey:$e,account:q({executable:cn(),owner:$e,lamports:G(),data:Ys,rentEpoch:G()})}))),qh=bt(re(q({lamports:G(),address:$e}))),Tr=q({executable:cn(),owner:$e,lamports:G(),data:Ks,rentEpoch:G()}),Yh=q({pubkey:$e,account:Tr}),Vh=br(Ut([us(pe.Buffer),Ys]),Ut([fc,Ys]),r=>Array.isArray(r)?J(r,Ks):r),pc=q({executable:cn(),owner:$e,lamports:G(),data:Vh,rentEpoch:G()}),Zh=q({pubkey:$e,account:pc}),Xh=q({state:Ut([Ke("active"),Ke("inactive"),Ke("activating"),Ke("deactivating")]),active:G(),inactive:G()}),Jh=ve(re(q({signature:X(),slot:G(),err:Fn,memo:ce(X()),blockTime:we(ce(G()))}))),$h=ve(re(q({signature:X(),slot:G(),err:Fn,memo:ce(X()),blockTime:we(ce(G()))}))),e0=q({subscription:G(),result:yi(Tr)}),t0=q({pubkey:$e,account:Tr}),n0=q({subscription:G(),result:yi(t0)}),r0=q({parent:G(),slot:G(),root:G()}),i0=q({subscription:G(),result:r0}),s0=Ut([q({type:Ut([Ke("firstShredReceived"),Ke("completed"),Ke("optimisticConfirmation"),Ke("root")]),slot:G(),timestamp:G()}),q({type:Ke("createdBank"),parent:G(),slot:G(),timestamp:G()}),q({type:Ke("frozen"),slot:G(),timestamp:G(),stats:q({numTransactionEntries:G(),numSuccessfulTransactions:G(),numFailedTransactions:G(),maxTransactionsPerEntry:G()})}),q({type:Ke("dead"),slot:G(),timestamp:G(),err:X()})]),o0=q({subscription:G(),result:s0}),a0=q({subscription:G(),result:yi(Ut([Ch,Nh]))}),c0=q({subscription:G(),result:G()}),u0=q({pubkey:X(),gossip:ce(X()),tpu:ce(X()),rpc:ce(X()),version:ce(X())}),gc=q({votePubkey:X(),nodePubkey:X(),activatedStake:G(),epochVoteAccount:cn(),epochCredits:re(ls([G(),G(),G()])),commission:G(),lastVote:G(),rootSlot:ce(G())}),l0=ve(q({current:re(gc),delinquent:re(gc)})),f0=Ut([Ke("processed"),Ke("confirmed"),Ke("finalized")]),h0=q({slot:G(),confirmations:ce(G()),err:Fn,confirmationStatus:we(f0)}),d0=bt(re(ce(h0))),p0=ve(G()),wc=q({accountKey:$e,writableIndexes:re(G()),readonlyIndexes:re(G())}),Vs=q({signatures:re(X()),message:q({accountKeys:re(X()),header:q({numRequiredSignatures:G(),numReadonlySignedAccounts:G(),numReadonlyUnsignedAccounts:G()}),instructions:re(q({accounts:re(G()),data:X(),programIdIndex:G()})),recentBlockhash:X(),addressTableLookups:we(re(wc))})}),yc=q({parsed:Ar(),program:X(),programId:$e}),mc=q({accounts:re($e),data:X(),programId:$e}),g0=Ut([mc,yc]),w0=Ut([q({parsed:Ar(),program:X(),programId:X()}),q({accounts:re(X()),data:X(),programId:X()})]),Ac=br(g0,w0,r=>"accounts"in r?J(r,mc):J(r,yc)),y0=q({signatures:re(X()),message:q({accountKeys:re(q({pubkey:$e,signer:cn(),writable:cn(),source:we(Ut([Ke("transaction"),Ke("lookupTable")]))})),instructions:re(Ac),recentBlockhash:X(),addressTableLookups:we(ce(re(wc)))})}),mi=q({accountIndex:G(),mint:X(),owner:we(X()),uiTokenAmount:qs}),bc=q({writable:re($e),readonly:re($e)}),Zs=q({err:Fn,fee:G(),innerInstructions:we(ce(re(q({index:G(),instructions:re(q({accounts:re(G()),data:X(),programIdIndex:G()}))})))),preBalances:re(G()),postBalances:re(G()),logMessages:we(ce(re(X()))),preTokenBalances:we(ce(re(mi))),postTokenBalances:we(ce(re(mi))),loadedAddresses:we(bc),computeUnitsConsumed:we(G())}),m0=q({err:Fn,fee:G(),innerInstructions:we(ce(re(q({index:G(),instructions:re(Ac)})))),preBalances:re(G()),postBalances:re(G()),logMessages:we(ce(re(X()))),preTokenBalances:we(ce(re(mi))),postTokenBalances:we(ce(re(mi))),loadedAddresses:we(bc),computeUnitsConsumed:we(G())}),Xs=Ut([Ke(0),Ke("legacy")]),A0=ve(ce(q({blockhash:X(),previousBlockhash:X(),parentSlot:G(),transactions:re(q({transaction:Vs,meta:ce(Zs),version:we(Xs)})),rewards:we(re(q({pubkey:X(),lamports:G(),postBalance:ce(G()),rewardType:ce(X())}))),blockTime:ce(G()),blockHeight:ce(G())}))),b0=ve(ce(q({blockhash:X(),previousBlockhash:X(),parentSlot:G(),transactions:re(q({transaction:Vs,meta:ce(Zs)})),rewards:we(re(q({pubkey:X(),lamports:G(),postBalance:ce(G()),rewardType:ce(X())}))),blockTime:ce(G())}))),vc=ve(ce(q({blockhash:X(),previousBlockhash:X(),parentSlot:G(),signatures:re(X()),blockTime:ce(G())}))),Js=ve(ce(q({slot:G(),meta:Zs,blockTime:we(ce(G())),transaction:Vs,version:we(Xs)}))),Ai=ve(ce(q({slot:G(),transaction:y0,meta:ce(m0),blockTime:we(ce(G())),version:we(Xs)}))),v0=bt(q({blockhash:X(),feeCalculator:q({lamportsPerSignature:G()})})),x0=bt(q({blockhash:X(),lastValidBlockHeight:G()})),E0=q({slot:G(),numTransactions:G(),numSlots:G(),samplePeriodSecs:G()}),I0=ve(re(E0)),B0=bt(ce(q({feeCalculator:q({lamportsPerSignature:G()})}))),S0=ve(X()),M0=ve(X()),_0=q({err:Fn,logs:re(X()),signature:X()}),T0=q({result:yi(_0),subscription:G()}),k0={"solana-client":`js/${(Qs="0.0.0-development")!==null&&Qs!==void 0?Qs:"UNKNOWN"}`};class C0{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let n,s,i,c,u;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,c=t.fetchMiddleware,u=t.disableRetryOnRateLimit),this._rpcEndpoint=Ih(e),this._rpcWsEndpoint=n||xh(e),this._rpcClient=Uh(e,s,i,c,u),this._rpcRequest=Oh(this._rpcClient),this._rpcBatchRequest=Fh(this._rpcClient),this._rpcWebSocket=new Ca(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:n,config:s}=Xe(t),i=this._buildArgs([e.toBase58()],n,void 0,s),c=await this._rpcRequest("getBalance",i),u=J(c,bt(G()));if("error"in u)throw new ae(u.error,`failed to get balance for ${e.toBase58()}`);return u.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),n=J(t,ve(ce(G())));if("error"in n)throw new ae(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=J(e,ve(G()));if("error"in t)throw new ae(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=J(e,Gh);if("error"in t)throw new ae(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[t]),s=J(n,Wh);if("error"in s)throw new ae(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const n=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",n),i=J(s,bt(qs));if("error"in i)throw new ae(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const n=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",n),i=J(s,bt(qs));if("error"in i)throw new ae(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,n){const{commitment:s,config:i}=Xe(n);let c=[e.toBase58()];"mint"in t?c.push({mint:t.mint.toBase58()}):c.push({programId:t.programId.toBase58()});const u=this._buildArgs(c,s,"base64",i),h=await this._rpcRequest("getTokenAccountsByOwner",u),w=J(h,Kh);if("error"in w)throw new ae(w.error,`failed to get token accounts owned by account ${e.toBase58()}`);return w.result}async getParsedTokenAccountsByOwner(e,t,n){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,n,"jsonParsed"),c=await this._rpcRequest("getTokenAccountsByOwner",i),u=J(c,jh);if("error"in u)throw new ae(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},n=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",n),i=J(s,qh);if("error"in i)throw new ae(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const n=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",n),i=J(s,Qh);if("error"in i)throw new ae(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:n,config:s}=Xe(t),i=this._buildArgs([e.toBase58()],n,"base64",s),c=await this._rpcRequest("getAccountInfo",i),u=J(c,bt(ce(Tr)));if("error"in u)throw new ae(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getParsedAccountInfo(e,t){const{commitment:n,config:s}=Xe(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",s),c=await this._rpcRequest("getAccountInfo",i),u=J(c,bt(ce(pc)));if("error"in u)throw new ae(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleAccountsInfoAndContext(e,t){const{commitment:n,config:s}=Xe(t),i=e.map(w=>w.toBase58()),c=this._buildArgs([i],n,"base64",s),u=await this._rpcRequest("getMultipleAccounts",c),h=J(u,bt(re(ce(Tr))));if("error"in h)throw new ae(h.error,`failed to get info for accounts ${i}`);return h.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,n){const{commitment:s,config:i}=Xe(t),c=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:n!=null?n:i==null?void 0:i.epoch}),u=await this._rpcRequest("getStakeActivation",c),h=J(u,ve(Xh));if("error"in h)throw new ae(h.error,`failed to get Stake Activation ${e.toBase58()}`);return h.result}async getProgramAccounts(e,t){const{commitment:n,config:s}=Xe(t),{encoding:i,...c}=s||{},u=this._buildArgs([e.toBase58()],n,i||"base64",c),h=await this._rpcRequest("getProgramAccounts",u),w=J(h,ve(re(Yh)));if("error"in w)throw new ae(w.error,`failed to get accounts owned by program ${e.toBase58()}`);return w.result}async getParsedProgramAccounts(e,t){const{commitment:n,config:s}=Xe(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",s),c=await this._rpcRequest("getProgramAccounts",i),u=J(c,ve(re(Zh)));if("error"in u)throw new ae(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async confirmTransaction(e,t){let n;typeof e=="string"?n=e:n=e.signature;let s;try{s=xt.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}Je(s.length===64,"signature has invalid length");const i=t||this.commitment;let c,u,h=!1;const w=new Promise((N,B)=>{try{u=this.onSignature(n,(k,T)=>{u=void 0;const C={context:T,value:k};h=!0,N({__type:En.PROCESSED,response:C})},i)}catch(k){B(k)}}),m=new Promise(N=>{if(typeof e=="string"){let B=this._confirmTransactionInitialTimeout||6e4;switch(i){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{B=this._confirmTransactionInitialTimeout||30*1e3;break}}c=setTimeout(()=>N({__type:En.TIMED_OUT,timeoutMs:B}),B)}else{let B=e;const k=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let T=await k();if(!h){for(;T<=B.lastValidBlockHeight;)if(await wi(1e3),h||(T=await k(),h))return;N({__type:En.BLOCKHEIGHT_EXCEEDED})}})()}});let I;try{const N=await Promise.race([w,m]);switch(N.__type){case En.BLOCKHEIGHT_EXCEEDED:throw new ic(n);case En.PROCESSED:I=N.response;break;case En.TIMED_OUT:throw new sc(n,N.timeoutMs/1e3)}}finally{clearTimeout(c),u&&this.removeSignatureListener(u)}return I}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=J(e,ve(re(u0)));if("error"in t)throw new ae(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",t),s=J(n,l0);if("error"in s)throw new ae(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:n}=Xe(e),s=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getSlot",s),c=J(i,ve(G()));if("error"in c)throw new ae(c.error,"failed to get slot");return c.result}async getSlotLeader(e){const{commitment:t,config:n}=Xe(e),s=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getSlotLeader",s),c=J(i,ve(X()));if("error"in c)throw new ae(c.error,"failed to get slot leader");return c.result}async getSlotLeaders(e,t){const n=[e,t],s=await this._rpcRequest("getSlotLeaders",n),i=J(s,ve(re($e)));if("error"in i)throw new ae(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:n,value:s}=await this.getSignatureStatuses([e],t);Je(s.length===1);const i=s[0];return{context:n,value:i}}async getSignatureStatuses(e,t){const n=[e];t&&n.push(t);const s=await this._rpcRequest("getSignatureStatuses",n),i=J(s,d0);if("error"in i)throw new ae(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:n}=Xe(e),s=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getTransactionCount",s),c=J(i,ve(G()));if("error"in c)throw new ae(c.error,"failed to get transaction count");return c.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",t),s=J(n,Dh);if("error"in s)throw new ae(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,n){const{commitment:s,config:i}=Xe(n),c=this._buildArgs([e.map(w=>w.toBase58())],s,void 0,{...i,epoch:t!=null?t:i==null?void 0:i.epoch}),u=await this._rpcRequest("getInflationReward",c),h=J(u,Mh);if("error"in h)throw new ae(h.error,"failed to get inflation reward");return h.result}async getEpochInfo(e){const{commitment:t,config:n}=Xe(e),s=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getEpochInfo",s),c=J(i,Ph);if("error"in c)throw new ae(c.error,"failed to get epoch info");return c.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=J(e,zh);if("error"in t)throw new ae(t.error,"failed to get epoch schedule");const n=t.result;return new gh(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=J(e,Hh);if("error"in t)throw new ae(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const n=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",n),i=J(s,p0);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",t),s=J(n,v0);if("error"in s)throw new ae(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=J(t,I0);if("error"in n)throw new ae(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,t){const n=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",n),i=J(s,B0);if("error"in i)throw new ae(i.error,"failed to get fee calculator");const{context:c,value:u}=i.result;return{context:c,value:u!==null?u.feeCalculator:null}}async getFeeForMessage(e,t){const n=e.serialize().toString("base64"),s=this._buildArgs([n],t),i=await this._rpcRequest("getFeeForMessage",s),c=J(i,bt(ce(G())));if("error"in c)throw new ae(c.error,"failed to get slot");if(c.result===null)throw new Error("invalid blockhash");return c.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:n}=Xe(e),s=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getLatestBlockhash",s),c=J(i,x0);if("error"in c)throw new ae(c.error,"failed to get latest blockhash");return c.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=J(e,ve(Lh));if("error"in t)throw new ae(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=J(e,ve(X()));if("error"in t)throw new ae(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:n,config:s}=Xe(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,s),c=await this._rpcRequest("getBlock",i),u=J(c,A0);if("error"in u)throw new ae(u.error,"failed to get confirmed block");const h=u.result;return h&&{...h,transactions:h.transactions.map(({transaction:w,meta:m,version:I})=>({meta:m,transaction:{...w,message:js(I,w.message)},version:I}))}}async getBlockHeight(e){const{commitment:t,config:n}=Xe(e),s=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getBlockHeight",s),c=J(i,ve(G()));if("error"in c)throw new ae(c.error,"failed to get block height information");return c.result}async getBlockProduction(e){let t,n;if(typeof e=="string")n=e;else if(e){const{commitment:u,...h}=e;n=u,t=h}const s=this._buildArgs([],n,"base64",t),i=await this._rpcRequest("getBlockProduction",s),c=J(i,Rh);if("error"in c)throw new ae(c.error,"failed to get block production information");return c.result}async getTransaction(e,t){const{commitment:n,config:s}=Xe(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,s),c=await this._rpcRequest("getTransaction",i),u=J(c,Js);if("error"in u)throw new ae(u.error,"failed to get transaction");const h=u.result;return h&&{...h,transaction:{...h.transaction,message:js(h.version,h.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:n,config:s}=Xe(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",s),c=await this._rpcRequest("getTransaction",i),u=J(c,Ai);if("error"in u)throw new ae(u.error,"failed to get transaction");return u.result}async getParsedTransactions(e,t){const{commitment:n,config:s}=Xe(t),i=e.map(h=>{const w=this._buildArgsAtLeastConfirmed([h],n,"jsonParsed",s);return{methodName:"getTransaction",args:w}});return(await this._rpcBatchRequest(i)).map(h=>{const w=J(h,Ai);if("error"in w)throw new ae(w.error,"failed to get transactions");return w.result})}async getTransactions(e,t){const{commitment:n,config:s}=Xe(t),i=e.map(h=>{const w=this._buildArgsAtLeastConfirmed([h],n,void 0,s);return{methodName:"getTransaction",args:w}});return(await this._rpcBatchRequest(i)).map(h=>{const w=J(h,Js);if("error"in w)throw new ae(w.error,"failed to get transactions");const m=w.result;return m&&{...m,transaction:{...m.transaction,message:js(m.version,m.transaction.message)}}})}async getConfirmedBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",n),i=J(s,b0);if("error"in i)throw new ae(i.error,"failed to get confirmed block");const c=i.result;if(!c)throw new Error("Confirmed block "+e+" not found");const u={...c,transactions:c.transactions.map(({transaction:h,meta:w})=>{const m=new xn(h.message);return{meta:w,transaction:{...h,message:m}}})};return{...u,transactions:u.transactions.map(({transaction:h,meta:w})=>({meta:w,transaction:In.populate(h.message,h.signatures)}))}}async getBlocks(e,t,n){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],n),i=await this._rpcRequest("getBlocks",s),c=J(i,ve(re(G())));if("error"in c)throw new ae(c.error,"failed to get blocks");return c.result}async getBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",n),i=J(s,vc);if("error"in i)throw new ae(i.error,"failed to get block");const c=i.result;if(!c)throw new Error("Block "+e+" not found");return c}async getConfirmedBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",n),i=J(s,vc);if("error"in i)throw new ae(i.error,"failed to get confirmed block");const c=i.result;if(!c)throw new Error("Confirmed block "+e+" not found");return c}async getConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",n),i=J(s,Js);if("error"in i)throw new ae(i.error,"failed to get transaction");const c=i.result;if(!c)return c;const u=new xn(c.transaction.message),h=c.transaction.signatures;return{...c,transaction:In.populate(u,h)}}async getParsedConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",n),i=J(s,Ai);if("error"in i)throw new ae(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const n=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:u}});return(await this._rpcBatchRequest(n)).map(c=>{const u=J(c,Ai);if("error"in u)throw new ae(u.error,"failed to get confirmed transactions");return u.result})}async getConfirmedSignaturesForAddress(e,t,n){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const h=await this.getConfirmedBlockSignatures(t,"finalized");h.signatures.length>0&&(s.until=h.signatures[h.signatures.length-1].toString())}catch(h){if(h instanceof Error&&h.message.includes("skipped"))continue;throw h}let c=await this.getSlot("finalized");for(;!("before"in s)&&(n++,!(n>c));)try{const h=await this.getConfirmedBlockSignatures(n);h.signatures.length>0&&(s.before=h.signatures[h.signatures.length-1].toString())}catch(h){if(h instanceof Error&&h.message.includes("skipped"))continue;throw h}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(h=>h.signature)}async getConfirmedSignaturesForAddress2(e,t,n){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),c=J(i,Jh);if("error"in c)throw new ae(c.error,"failed to get confirmed signatures for address");return c.result}async getSignaturesForAddress(e,t,n){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),c=J(i,$h);if("error"in c)throw new ae(c.error,"failed to get signatures for address");return c.result}async getAddressLookupTable(e,t){const{context:n,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new lc({key:e,state:lc.deserialize(s.data)})),{context:n,value:i}}async getNonceAndContext(e,t){const{context:n,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=Gs.fromAccountData(s.data)),{context:n,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,t){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=J(n,S0);if("error"in s)throw new ae(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await wi(100);const n=Date.now()-this._blockhashInfo.lastFetch>=Eh;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,n=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(n!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await wi(mh/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:n}=Xe(e),s=this._buildArgs([],t,"base64",n),i=await this._rpcRequest("getStakeMinimumDelegation",s),c=J(i,bt(G()));if("error"in c)throw new ae(c.error,"failed to get stake minimum delegation");return c.result}async simulateTransaction(e,t,n){if("message"in e){const T=e.serialize(),C=pe.Buffer.from(T).toString("base64");if(Array.isArray(t)||n!==void 0)throw new Error("Invalid arguments");const U=t||{};U.encoding="base64","commitment"in U||(U.commitment=this.commitment);const D=[C,U],L=await this._rpcRequest("simulateTransaction",D),z=J(L,dc);if("error"in z)throw new Error("failed to simulate transaction: "+z.error.message);return z.result}let s;if(e instanceof In){let k=e;s=new In,s.feePayer=k.feePayer,s.instructions=e.instructions,s.nonceInfo=k.nonceInfo,s.signatures=k.signatures}else s=In.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let k=this._disableBlockhashCaching;for(;;){const T=await this._blockhashWithExpiryBlockHeight(k);if(s.lastValidBlockHeight=T.lastValidBlockHeight,s.recentBlockhash=T.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const C=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(C)&&!this._blockhashInfo.transactionSignatures.includes(C)){this._blockhashInfo.simulatedSignatures.push(C);break}else k=!0}}const c=s._compile(),u=c.serialize(),w=s._serialize(u).toString("base64"),m={encoding:"base64",commitment:this.commitment};if(n){const k=(Array.isArray(n)?n:c.nonProgramIds()).map(T=>T.toBase58());m.accounts={encoding:"base64",addresses:k}}i&&(m.sigVerify=!0);const I=[w,m],N=await this._rpcRequest("simulateTransaction",I),B=J(N,dc);if("error"in B){let k;if("data"in B.error&&(k=B.error.data.logs,k&&Array.isArray(k))){const T=`
    `,C=T+k.join(T);console.error(B.error.message,C)}throw new cc("failed to simulate transaction: "+B.error.message,k)}return B.result}async sendTransaction(e,t,n){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const c=e.serialize();return await this.sendRawTransaction(c,n)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let c=this._disableBlockhashCaching;for(;;){const u=await this._blockhashWithExpiryBlockHeight(c);if(e.lastValidBlockHeight=u.lastValidBlockHeight,e.recentBlockhash=u.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const h=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(h))c=!0;else{this._blockhashInfo.transactionSignatures.push(h);break}}}const i=e.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(e,t){const n=Sr(e).toString("base64");return await this.sendEncodedTransaction(n,t)}async sendEncodedTransaction(e,t){const n={encoding:"base64"},s=t&&t.skipPreflight,i=t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(n.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(n.minContextSlot=t.minContextSlot),s&&(n.skipPreflight=s),i&&(n.preflightCommitment=i);const c=[e,n],u=await this._rpcRequest("sendTransaction",c),h=J(u,M0);if("error"in h){let w;throw"data"in h.error&&(w=h.error.data.logs),new cc("failed to send transaction: "+h.error.message,w)}return h.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{this._rpcWebSocket.notify("ping").catch(()=>{})},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration++,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,n])=>{this._subscriptionsByHash[t]={...n,state:"pending"}})}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const s=this._subscriptionsByHash[n];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[n],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:c}=s;try{this._subscriptionsByHash[n]={...s,state:"subscribing"};const u=await this._rpcWebSocket.call(c,i);this._subscriptionsByHash[n]={...s,serverSubscriptionId:u,state:"subscribed"},this._subscriptionCallbacksByServerSubscriptionId[u]=s.callbacks,await this._updateSubscriptions()}catch(u){if(u instanceof Error&&console.error(`${c} error for argument`,i,u.message),!t())return;this._subscriptionsByHash[n]={...s,state:"pending"},await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:c}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._subscriptionsByHash[n]={...s,state:"unsubscribing"};try{await this._rpcWebSocket.call(c,[i])}catch(u){if(u instanceof Error&&console.error(`${c} error:`,u.message),!t())return;this._subscriptionsByHash[n]={...s,state:"subscribed"},await this._updateSubscriptions();return}}this._subscriptionsByHash[n]={...s,state:"unsubscribed"},await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:n}=J(e,e0);this._handleServerNotification(n,[t.value,t.context])}_makeSubscription(e,t){const n=this._nextClientSubscriptionId++,s=dh([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n];const c=this._subscriptionsByHash[s];Je(c!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),c.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,t,n){const s=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:n}=J(e,n0);this._handleServerNotification(n,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,n,s){const i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",s?{filters:s}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,n){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:n}=J(e,T0);this._handleServerNotification(n,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:n}=J(e,i0);this._handleServerNotification(n,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:n}=J(e,o0);this._handleServerNotification(n,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,n,s){const i=t||this._commitment;if(i||n||s){let c={};n&&(c.encoding=n),i&&(c.commitment=i),s&&(c=Object.assign(c,s)),e.push(c)}return e}_buildArgsAtLeastConfirmed(e,t,n,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,n,s)}_wsOnSignatureNotification(e){const{result:t,subscription:n}=J(e,a0);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,n){const s=this._buildArgs([e],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(c,u)=>{if(c.type==="status"){t(c.result,u);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,n){const{commitment:s,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},c=this._buildArgs([e],s,void 0,i),u=this._makeSubscription({callback:(h,w)=>{t(h,w);try{this.removeSignatureListener(u)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},c);return u}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:n}=J(e,c0);this._handleServerNotification(n,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:se([le("instruction"),$n("recentSlot"),Be("bumpSeed")])},FreezeLookupTable:{index:1,layout:se([le("instruction")])},ExtendLookupTable:{index:2,layout:se([le("instruction"),$n(),Lt(ye(),kn(le(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:se([le("instruction")])},CloseLookupTable:{index:4,layout:se([le("instruction")])}}),new ie("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:se([Be("instruction"),le("units"),le("additionalFee")])},RequestHeapFrame:{index:1,layout:se([Be("instruction"),le("bytes")])},SetComputeUnitLimit:{index:2,layout:se([Be("instruction"),le("units")])},SetComputeUnitPrice:{index:3,layout:se([Be("instruction"),$n("microLamports")])}}),new ie("ComputeBudget111111111111111111111111111111"),se([Be("numSignatures"),Be("padding"),Kt("signatureOffset"),Kt("signatureInstructionIndex"),Kt("publicKeyOffset"),Kt("publicKeyInstructionIndex"),Kt("messageDataOffset"),Kt("messageDataSize"),Kt("messageInstructionIndex")]),new ie("Ed25519SigVerify111111111111111111111111111"),On.hmacSha256Sync=(r,...e)=>{const t=qa.create(Vi,r);return e.forEach(n=>t.update(n)),t.digest()},On.isValidPrivateKey,se([Be("numSignatures"),Kt("signatureOffset"),Be("signatureInstructionIndex"),Kt("ethAddressOffset"),Be("ethAddressInstructionIndex"),Kt("messageDataOffset"),Kt("messageDataSize"),Be("messageInstructionIndex"),Ve(20,"ethAddress"),Ve(64,"signature"),Be("recoveryId")]),new ie("KeccakSecp256k11111111111111111111111111111"),new ie("StakeConfig11111111111111111111111111111111");class xc{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}}xc.default=new xc(0,0,ie.default),Object.freeze({Initialize:{index:0,layout:se([le("instruction"),rh(),ih()])},Authorize:{index:1,layout:se([le("instruction"),ye("newAuthorized"),le("stakeAuthorizationType")])},Delegate:{index:2,layout:se([le("instruction")])},Split:{index:3,layout:se([le("instruction"),zt("lamports")])},Withdraw:{index:4,layout:se([le("instruction"),zt("lamports")])},Deactivate:{index:5,layout:se([le("instruction")])},Merge:{index:7,layout:se([le("instruction")])},AuthorizeWithSeed:{index:8,layout:se([le("instruction"),ye("newAuthorized"),le("stakeAuthorizationType"),Jn("authoritySeed"),ye("authorityOwner")])}}),Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),new ie("Stake11111111111111111111111111111111111111"),Object.freeze({InitializeAccount:{index:0,layout:se([le("instruction"),sh()])},Authorize:{index:1,layout:se([le("instruction"),ye("newAuthorized"),le("voteAuthorizationType")])},Withdraw:{index:3,layout:se([le("instruction"),zt("lamports")])},AuthorizeWithSeed:{index:10,layout:se([le("instruction"),oh()])}}),Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),new ie("Vote111111111111111111111111111111111111111"),new ie("Va1idator1nfo111111111111111111111111111111"),q({name:X(),website:we(X()),details:we(X()),keybaseUsername:we(X())}),new ie("Vote111111111111111111111111111111111111111"),se([ye("nodePubkey"),ye("authorizedWithdrawer"),Be("commission"),It(),Lt(se([It("slot"),le("confirmationCount")]),kn(le(),-8),"votes"),Be("rootSlotValid"),It("rootSlot"),It(),Lt(se([It("epoch"),ye("authorizedVoter")]),kn(le(),-8),"authorizedVoters"),se([Lt(se([ye("authorizedPubkey"),It("epochOfLastAuthorizedSwitch"),It("targetEpoch")]),32,"buf"),It("idx"),Be("isEmpty")],"priorVoters"),It(),Lt(se([It("epoch"),It("credits"),It("prevCredits")]),kn(le(),-8),"epochCredits"),se([It("slot"),It("timestamp")],"lastTimestamp")]);const Ec={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function N0(r,e){const t=e===!1?"http":"https";if(!r)return Ec[t].devnet;const n=Ec[t][r];if(!n)throw new Error(`Unknown ${t} cluster: ${r}`);return n}const L0=Y.createContext({}),R0=({children:r,endpoint:e,config:t={commitment:"confirmed"}})=>{const n=Y.useMemo(()=>new C0(e,t),[e,t]);return O.default.createElement(L0.Provider,{value:{connection:n}},r)};class St extends Error{constructor(e,t){super(e),this.error=t}}class kr extends St{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class U0 extends St{constructor(){super(...arguments),this.name="WalletLoadError"}}class O0 extends St{constructor(){super(...arguments),this.name="WalletConfigError"}}class Cr extends St{constructor(){super(...arguments),this.name="WalletConnectionError"}}class $s extends St{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class Nr extends St{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class eo extends St{constructor(){super(...arguments),this.name="WalletAccountError"}}class Lr extends St{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class et extends St{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class er extends St{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class bi extends St{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class Ot extends St{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}var Ae;(function(r){r.Installed="Installed",r.NotDetected="NotDetected",r.Loadable="Loadable",r.Unsupported="Unsupported"})(Ae||(Ae={}));class F0 extends ti{get connected(){return!!this.publicKey}async prepareTransaction(e,t,n={}){const s=this.publicKey;if(!s)throw new et;return e.feePayer=e.feePayer||s,e.recentBlockhash=e.recentBlockhash||(await t.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,e}}function vi(r){if(typeof window>"u"||typeof document>"u")return;const e=[];function t(){if(r())for(const i of e)i()}const n=setInterval(t,1e3);e.push(()=>clearInterval(n)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",t,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",t))),document.readyState!=="complete"&&(window.addEventListener("load",t,{once:!0}),e.push(()=>window.removeEventListener("load",t))),t()}class D0 extends F0{async sendTransaction(e,t,n={}){let s=!0;try{if("version"in e){if(!this.supportedTransactionVersions)throw new er("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new er(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const i=e.serialize();return await t.sendRawTransaction(i,n)}catch(i){throw i instanceof Ot?(s=!1,i):new er(i==null?void 0:i.message,i)}}else try{const{signers:i,...c}=n;e=await this.prepareTransaction(e,t,c),i!=null&&i.length&&e.partialSign(...i),e=await this.signTransaction(e);const u=e.serialize();return await t.sendRawTransaction(u,c)}catch(i){throw i instanceof Ot?(s=!1,i):new er(i==null?void 0:i.message,i)}}catch(i){throw s&&this.emit("error",i),i}}async signAllTransactions(e){for(const n of e)if("version"in n){if(!this.supportedTransactionVersions)throw new Ot("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new Ot(`Signing transaction version ${n.version} isn't supported by this wallet`)}const t=[];for(const n of e)t.push(await this.signTransaction(n));return t}}class xi extends D0{}var to;(function(r){r.Mainnet="mainnet-beta",r.Testnet="testnet",r.Devnet="devnet"})(to||(to={}));class Ic extends St{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const P0=[],Ei={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(r){console.error(on("get","select"))},connect(){return Promise.reject(console.error(on("get","connect")))},disconnect(){return Promise.reject(console.error(on("get","disconnect")))},sendTransaction(r,e,t){return Promise.reject(console.error(on("get","sendTransaction")))},signTransaction(r){return Promise.reject(console.error(on("get","signTransaction")))},signAllTransactions(r){return Promise.reject(console.error(on("get","signAllTransactions")))},signMessage(r){return Promise.reject(console.error(on("get","signMessage")))}};Object.defineProperty(Ei,"wallets",{get(){return console.error(on("read","wallets")),P0}}),Object.defineProperty(Ei,"wallet",{get(){return console.error(on("read","wallet")),null}}),Object.defineProperty(Ei,"publicKey",{get(){return console.error(on("read","publicKey")),null}});function on(r,e){return`You have tried to  ${r} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext`}const Bc=Y.createContext(Ei);function Sc(){return Y.useContext(Bc)}function z0(r,e){const t=Y.useState(()=>{try{const i=localStorage.getItem(r);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return e}),n=t[0],s=Y.useRef(!0);return Y.useEffect(()=>{if(s.current){s.current=!1;return}try{n===null?localStorage.removeItem(r):localStorage.setItem(r,JSON.stringify(n))}catch(i){typeof window<"u"&&console.error(i)}},[n,r]),t}const Mc={wallet:null,adapter:null,publicKey:null,connected:!1},H0=({children:r,wallets:e,autoConnect:t=!1,onError:n,localStorageKey:s="walletName"})=>{const[i,c]=z0(s,null),[{wallet:u,adapter:h,publicKey:w,connected:m},I]=Y.useState(Mc),N=(h==null?void 0:h.readyState)||Ae.Unsupported,[B,k]=Y.useState(!1),[T,C]=Y.useState(!1),U=Y.useRef(!1),D=Y.useRef(!1),L=Y.useRef(!1),[z,P]=Y.useState(()=>e.map(g=>({adapter:g,readyState:g.readyState})));Y.useEffect(()=>{P(A=>e.map((x,S)=>{const R=A[S];return R&&R.adapter===x&&R.readyState===x.readyState?R:{adapter:x,readyState:x.readyState}}));function g(A){P(x=>{const S=x.findIndex(({adapter:F})=>F===this);if(S===-1)return x;const{adapter:R}=x[S];return[...x.slice(0,S),{adapter:R,readyState:A},...x.slice(S+1)]})}return e.forEach(A=>A.on("readyStateChange",g,A)),()=>e.forEach(A=>A.off("readyStateChange",g,A))},[e]),Y.useEffect(()=>{const g=i&&z.find(({adapter:A})=>A.name===i);I(g?{wallet:g,adapter:g.adapter,connected:g.adapter.connected,publicKey:g.adapter.publicKey}:Mc)},[i,z]),Y.useEffect(()=>{function g(){L.current=!0}return window.addEventListener("beforeunload",g),()=>window.removeEventListener("beforeunload",g)},[L]);const W=Y.useCallback(()=>{!h||I(g=>({...g,connected:h.connected,publicKey:h.publicKey}))},[h]),Q=Y.useCallback(()=>{L.current||c(null)},[L,c]),j=Y.useCallback(g=>(L.current||(n||console.error)(g),g),[L,n]);Y.useEffect(()=>{if(h)return h.on("connect",W),h.on("disconnect",Q),h.on("error",j),()=>{h.off("connect",W),h.off("disconnect",Q),h.off("error",j)}},[h,W,Q,j]),Y.useEffect(()=>()=>{h==null||h.disconnect()},[h]),Y.useEffect(()=>{U.current||m||!t||!h||!(N===Ae.Installed||N===Ae.Loadable)||async function(){U.current=!0,k(!0);try{await h.connect()}catch{c(null)}finally{k(!1),U.current=!1}}()},[U,m,t,h,N,c]);const me=Y.useCallback(async()=>{if(!(U.current||D.current||m)){if(!h)throw j(new Ic);if(!(N===Ae.Installed||N===Ae.Loadable))throw c(null),typeof window<"u"&&window.open(h.url,"_blank"),j(new kr);U.current=!0,k(!0);try{await h.connect()}catch(g){throw c(null),g}finally{k(!1),U.current=!1}}},[U,D,m,h,N,j,c]),Le=Y.useCallback(async()=>{if(!D.current){if(!h)return c(null);D.current=!0,C(!0);try{await h.disconnect()}catch(g){throw c(null),g}finally{C(!1),D.current=!1}}},[D,h,c]),ge=Y.useCallback(async(g,A,x)=>{if(!h)throw j(new Ic);if(!m)throw j(new et);return await h.sendTransaction(g,A,x)},[h,j,m]),Re=Y.useMemo(()=>h&&"signTransaction"in h?async g=>{if(!m)throw j(new et);return await h.signTransaction(g)}:void 0,[h,j,m]),E=Y.useMemo(()=>h&&"signAllTransactions"in h?async g=>{if(!m)throw j(new et);return await h.signAllTransactions(g)}:void 0,[h,j,m]),l=Y.useMemo(()=>h&&"signMessage"in h?async g=>{if(!m)throw j(new et);return await h.signMessage(g)}:void 0,[h,j,m]);return O.default.createElement(Bc.Provider,{value:{autoConnect:t,wallets:z,wallet:u,publicKey:w,connected:m,connecting:B,disconnecting:T,select:c,connect:me,disconnect:Le,sendTransaction:ge,signTransaction:Re,signAllTransactions:E,signMessage:l}},r)},_c={setVisible(r){console.error(Tc("call","setVisible"))},visible:!1};Object.defineProperty(_c,"visible",{get(){return console.error(Tc("read","visible")),!1}});function Tc(r,e){return`You have tried to  ${r} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const kc=Y.createContext(_c);function Cc(){return Y.useContext(kc)}const G0=r=>O.default.createElement("button",{className:`wallet-adapter-button ${r.className||""}`,disabled:r.disabled,style:r.style,onClick:r.onClick,tabIndex:r.tabIndex||0,type:"button"},r.startIcon&&O.default.createElement("i",{className:"wallet-adapter-button-start-icon"},r.startIcon),r.children,r.endIcon&&O.default.createElement("i",{className:"wallet-adapter-button-end-icon"},r.endIcon)),W0=({wallet:r,...e})=>r&&O.default.createElement("img",{src:r.adapter.icon,alt:`${r.adapter.name} icon`,...e}),Nc=({id:r,children:e,expanded:t=!1})=>{const n=Y.useRef(null),s=Y.useRef(!0),i="height 250ms ease-out",c=()=>{const h=n.current;!h||requestAnimationFrame(()=>{h.style.height=h.scrollHeight+"px"})},u=()=>{const h=n.current;!h||requestAnimationFrame(()=>{h.style.height=h.offsetHeight+"px",h.style.overflow="hidden",requestAnimationFrame(()=>{h.style.height="0"})})};return Y.useLayoutEffect(()=>{t?c():u()},[t]),Y.useLayoutEffect(()=>{const h=n.current;if(!h)return;function w(){!h||(h.style.overflow=t?"initial":"hidden",t&&(h.style.height="auto"))}function m(I){h&&I.target===h&&I.propertyName==="height"&&w()}return s.current&&(w(),s.current=!1),h.addEventListener("transitionend",m),()=>h.removeEventListener("transitionend",m)},[t]),O.default.createElement("div",{className:"wallet-adapter-collapse",id:r,ref:n,role:"region",style:{height:0,transition:s.current?void 0:i}},e)},no=({handleClick:r,tabIndex:e,wallet:t})=>O.default.createElement("li",null,O.default.createElement(G0,{onClick:r,startIcon:O.default.createElement(W0,{wallet:t}),tabIndex:e},t.adapter.name,t.readyState===Ae.Installed&&O.default.createElement("span",null,"Detected"))),Q0=()=>O.default.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},O.default.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),O.default.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),O.default.createElement("g",{clipPath:"url(#clip0_880_5115)"},O.default.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),O.default.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),O.default.createElement("defs",null,O.default.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},O.default.createElement("stop",{stopColor:"#9945FF"}),O.default.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),O.default.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),O.default.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),O.default.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),O.default.createElement("stop",{offset:"1",stopColor:"#00D18C"})),O.default.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},O.default.createElement("stop",{stopColor:"#9945FF"}),O.default.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),O.default.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),O.default.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),O.default.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),O.default.createElement("stop",{offset:"1",stopColor:"#00D18C"})),O.default.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},O.default.createElement("stop",{stopColor:"#9945FF"}),O.default.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),O.default.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),O.default.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),O.default.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),O.default.createElement("stop",{offset:"1",stopColor:"#00D18C"})),O.default.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},O.default.createElement("stop",{stopColor:"#9945FF"}),O.default.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),O.default.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),O.default.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),O.default.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),O.default.createElement("stop",{offset:"1",stopColor:"#00D18C"})),O.default.createElement("clipPath",{id:"clip0_880_5115"},O.default.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),K0=({className:r="",container:e="body"})=>{const t=Y.useRef(null),{wallets:n,select:s}=Sc(),{setVisible:i}=Cc(),[c,u]=Y.useState(!1),[h,w]=Y.useState(!1),[m,I]=Y.useState(null),[N,B]=Y.useMemo(()=>{const z=[],P=[],W=[];for(const Q of n)Q.readyState===Ae.NotDetected?P.push(Q):Q.readyState===Ae.Loadable?W.push(Q):Q.readyState===Ae.Installed&&z.push(Q);return[z,[...W,...P]]},[n]),k=Y.useMemo(()=>N.length?N[0]:n.find(z=>z.adapter.name==="Torus")||n.find(z=>z.adapter.name==="Phantom")||n.find(z=>z.readyState===Ae.Loadable)||B[0],[N,n,B]),T=Y.useCallback(()=>{w(!1),setTimeout(()=>i(!1),150)},[i]),C=Y.useCallback(z=>{z.preventDefault(),T()},[T]),U=Y.useCallback((z,P)=>{s(P),C(z)},[s,C]),D=Y.useCallback(()=>u(!c),[c]),L=Y.useCallback(z=>{const P=t.current;if(!P)return;const W=P.querySelectorAll("button"),Q=W[0],j=W[W.length-1];z.shiftKey?document.activeElement===Q&&(j.focus(),z.preventDefault()):document.activeElement===j&&(Q.focus(),z.preventDefault())},[t]);return Y.useLayoutEffect(()=>{const z=W=>{W.key==="Escape"?T():W.key==="Tab"&&L(W)},{overflow:P}=window.getComputedStyle(document.body);return setTimeout(()=>w(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",z,!1),()=>{document.body.style.overflow=P,window.removeEventListener("keydown",z,!1)}},[T,L]),Y.useLayoutEffect(()=>I(document.querySelector(e)),[e]),m&&sr.createPortal(O.default.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${h&&"wallet-adapter-modal-fade-in"} ${r}`,ref:t,role:"dialog"},O.default.createElement("div",{className:"wallet-adapter-modal-container"},O.default.createElement("div",{className:"wallet-adapter-modal-wrapper"},O.default.createElement("button",{onClick:C,className:"wallet-adapter-modal-button-close"},O.default.createElement("svg",{width:"14",height:"14"},O.default.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),N.length?O.default.createElement(O.default.Fragment,null,O.default.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),O.default.createElement("ul",{className:"wallet-adapter-modal-list"},N.map(z=>O.default.createElement(no,{key:z.adapter.name,handleClick:P=>U(P,z.adapter.name),wallet:z})),B.length?O.default.createElement(Nc,{expanded:c,id:"wallet-adapter-modal-collapse"},B.map(z=>O.default.createElement(no,{key:z.adapter.name,handleClick:P=>U(P,z.adapter.name),tabIndex:c?0:-1,wallet:z}))):null),B.length?O.default.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:D,tabIndex:0},O.default.createElement("span",null,c?"Less ":"More ","options"),O.default.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${c?"wallet-adapter-modal-list-more-icon-rotate":""}`},O.default.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):O.default.createElement(O.default.Fragment,null,O.default.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),O.default.createElement("div",{className:"wallet-adapter-modal-middle"},O.default.createElement(Q0,null),O.default.createElement("button",{type:"button",className:"wallet-adapter-modal-middle-button",onClick:z=>U(z,k.adapter.name)},"Get started")),B.length?O.default.createElement(O.default.Fragment,null,O.default.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:D,tabIndex:0},O.default.createElement("span",null,c?"Hide ":"Already have a wallet? View ","options"),O.default.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${c?"wallet-adapter-modal-list-more-icon-rotate":""}`},O.default.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),O.default.createElement(Nc,{expanded:c,id:"wallet-adapter-modal-collapse"},O.default.createElement("ul",{className:"wallet-adapter-modal-list"},B.map(z=>O.default.createElement(no,{key:z.adapter.name,handleClick:P=>U(P,z.adapter.name),tabIndex:c?0:-1,wallet:z}))))):null))),O.default.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:C})),m)},j0=({children:r,...e})=>{const[t,n]=Y.useState(!1);return O.default.createElement(kc.Provider,{value:{visible:t,setVisible:n}},r,t&&O.default.createElement(K0,{...e}))},q0="logger/5.7.0";let Lc=!1,Rc=!1;const Ii={debug:1,default:2,info:2,warning:3,error:4,off:5};let Uc=Ii.default,ro=null;function Y0(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}const Oc=Y0();var io;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(io||(io={}));var Jt;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(Jt||(Jt={}));const Fc="0123456789abcdef";class qe{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();Ii[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Uc>Ii[n])&&console.log.apply(console,t)}debug(...e){this._log(qe.levels.DEBUG,e)}info(...e){this._log(qe.levels.INFO,e)}warn(...e){this._log(qe.levels.WARNING,e)}makeError(e,t,n){if(Rc)return this.makeError("censored error",t,{});t||(t=qe.errors.UNKNOWN_ERROR),n||(n={});const s=[];Object.keys(n).forEach(h=>{const w=n[h];try{if(w instanceof Uint8Array){let m="";for(let I=0;I<w.length;I++)m+=Fc[w[I]>>4],m+=Fc[w[I]&15];s.push(h+"=Uint8Array(0x"+m+")")}else s.push(h+"="+JSON.stringify(w))}catch{s.push(h+"="+JSON.stringify(n[h].toString()))}}),s.push(`code=${t}`),s.push(`version=${this.version}`);const i=e;let c="";switch(t){case Jt.NUMERIC_FAULT:{c="NUMERIC_FAULT";const h=e;switch(h){case"overflow":case"underflow":case"division-by-zero":c+="-"+h;break;case"negative-power":case"negative-width":c+="-unsupported";break;case"unbound-bitwise-result":c+="-unbound-result";break}break}case Jt.CALL_EXCEPTION:case Jt.INSUFFICIENT_FUNDS:case Jt.MISSING_NEW:case Jt.NONCE_EXPIRED:case Jt.REPLACEMENT_UNDERPRICED:case Jt.TRANSACTION_REPLACED:case Jt.UNPREDICTABLE_GAS_LIMIT:c=t;break}c&&(e+=" [ See: https://links.ethers.org/v5-errors-"+c+" ]"),s.length&&(e+=" ("+s.join(", ")+")");const u=new Error(e);return u.reason=i,u.code=t,Object.keys(n).forEach(function(h){u[h]=n[h]}),u}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,qe.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,s){e||this.throwError(t,n,s)}assertArgument(e,t,n,s){e||this.throwArgumentError(t,n,s)}checkNormalize(e){Oc&&this.throwError("platform missing String.prototype.normalize",qe.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Oc})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,qe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,qe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,qe.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,qe.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",qe.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",qe.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",qe.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return ro||(ro=new qe(q0)),ro}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",qe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Lc){if(!e)return;this.globalLogger().throwError("error censorship permanent",qe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Rc=!!e,Lc=!!t}static setLogLevel(e){const t=Ii[e.toLowerCase()];if(t==null){qe.globalLogger().warn("invalid log level - "+e);return}Uc=t}static from(e){return new qe(e)}}qe.errors=Jt,qe.levels=io;const V0="bytes/5.7.0",so=new qe(V0);function Z0(r){return!!r.toHexString}function Bi(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return Bi(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function Dc(r){return typeof r=="number"&&r==r&&r%1===0}function X0(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!Dc(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!Dc(t)||t<0||t>=256)return!1}return!0}function Pc(r,e){if(e||(e={}),typeof r=="number"){so.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Bi(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Z0(r)&&(r=r.toHexString()),J0(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":so.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let s=0;s<t.length;s+=2)n.push(parseInt(t.substring(s,s+2),16));return Bi(new Uint8Array(n))}return X0(r)?Bi(new Uint8Array(r)):so.throwArgumentError("invalid arrayify value","value",r)}function J0(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const $0="properties/5.7.0";globalThis&&globalThis.__awaiter,new qe($0);function Si(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}class zc{constructor(e){Si(this,"alphabet",e),Si(this,"base",e.length),Si(this,"_alphabetMap",{}),Si(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=Pc(e);if(t.length===0)return"";let n=[0];for(let i=0;i<t.length;++i){let c=t[i];for(let u=0;u<n.length;++u)c+=n[u]<<8,n[u]=c%this.base,c=c/this.base|0;for(;c>0;)n.push(c%this.base),c=c/this.base|0}let s="";for(let i=0;t[i]===0&&i<t.length-1;++i)s+=this._leader;for(let i=n.length-1;i>=0;--i)s+=this.alphabet[n[i]];return s}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let s=this._alphabetMap[e[n]];if(s===void 0)throw new Error("Non-base"+this.base+" character");let i=s;for(let c=0;c<t.length;++c)i+=t[c]*this.base,t[c]=i&255,i>>=8;for(;i>0;)t.push(i&255),i>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return Pc(new Uint8Array(t.reverse()))}}new zc("abcdefghijklmnopqrstuvwxyz234567");const ed=new zc("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),td="Glow";class nd extends xi{constructor(e={}){if(super(),this.name=td,this.url="https://glow.app",this.icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAB4FBMVEUAAACjON6dNNyjONd7C+GIHNq1S+K9W+O3TeLAVOe6TuSJHtqcMdPBVeiuQt2kOdeRJc7AVeeyRd95COR9DeF7CuKWKtCaL9KoPdr78/789/7//f+zPt7u0Pi7ROG5SuK9TOT67/315PzVYfHAT+bx1Pry4PuiMNWmMdaqN9moM9fv2vqvOdvtzff15/ysN9mxO9yzRN/13/ysPdz46Py/SeTFVemPE+/EUOe5QeC3P+DJW+y9SOOfLtPZYvT46/2TGOu2R+GNEPKaI9/PXO7t1fjbZfWgLNfu0/jIV+rQX++ZKdCQIdSWIOGmN9iYJNvCVOjRVe/CTOaKE+eZKNSgKd2TIdnLV+yECfGfKdqKEO2dJ9ylL9iNHdr02/uHC/KjLdp+BfCcKdbKU+t7B+eUJs+dLNKTHeG+ROXUW/GLGeCFFd6PHN+JDfOuQd3JS+vNWu2EEeGOF+WiNtbOUe2BDOf02fuSGuWOFOuUJdPWXfGFDuvMT+yVHOWIF9vCSOiZJteACeyLHNV9C+N4A+x1A+mGGOPHUOmKHN2aLtKFEOWXHubarPLXju7CfevoxvffuPXQmu7QfuvnvfXJje3dnPHBauTOcOu4bfDjp/SqUOytStugNu6yXd6bKueVNOUmkAxzAAAAGXRSTlMAIxB+3D9C/WLfo2CcxcXf34TffL6cvc/vU7i1KQAAOkJJREFUeNrElMFuqlAQhivICpLehFofgb6ET1CjCwk7drZNwA0SFqYJ8Upq1Ke+/wwz9hwurtT2m5lT0933z+jDLRgMPN/3w3AEnoihkAt1l10PU3SHN+aP8EwEQeC6ru973sB5+GWgHY4gW5jk1LlNjSFruy13FLEz5KGP/p9X5Xg8jp8D1/cGDz+N44WjYd6cKRorAozBDgHUaIX1YV13lo8WdS5OgKfrrxwFDsL1fuogHH80bHrcG/MEUAbqv6PC37ROU3v/zI7mjYb/ofZd/TfUUeyVyQQ9Du5/C174tGxsEEFViX7znYEF++/0AlJF/MmbS+Dtb2C7QZmQvHA2R5uM3Ttm4ITDJWg6EVTwRwsNHwBaqQ0QgrpTEa28wQat9Bx/+5q77/Lo3ycD72nJWOpsL/4NTV4Q3evP2krrQ4rz7zCdog3gzxFg/Wg27/nqvxvyR5qyLCPUJIomUeDdT395tucAyL8p+EEAyt5MwOBwsN0TLmRgAn3lLG4e/yvswdmerctyIoUUwNi/i76eAA3Loxu8NKeWYr/fFwu8pyzPEUSW11mW1TX1IevY69/pFC36SSL2cbyJ2RyNR3kXe4H0eaShj8H7eLsrGOj2vxo8/AlTVeTN6ixPb1GcsgL6GUWAb0IGyJ8TYFbpCtghYEg9QYM2gVh4pbHtgS4fq9fF4wi6BIMb/fSJPRfbV7AXOILWXi8A+idM1gvrrwiSp1a2WpsY+hguiuCSP906tPkC+nFvcf1DtV8qpE+jQF5ZIAHaPqYvgwPkoU9vukosNlr4SPom6m/IR2hOAK8ym83KWWlx9ffAGen1f9tTG/IoNlcWSgbWFy8A/miTrVYM7AhIHk36SiTAEto96PfAuW79JP5Fj/IX/gafmIXtvpcS5TXNCupo3j2eD06ASKnnsNf1b7cxdWzxrlj2ZfTyEkWia9RMX+bxil+CEOpfNEszgcriE71g4P/J5sJ6sRbIXAIgPmhA8pEw8/m8fbYEJ2DKm/r29l+QgOhe5IpfAmf0j9SyaWkjisIwrS0I7bbgIn/AUDBlFm4Ds8hKs2lloouQILrLIiATGAQDycZf3ed85c4dTTX2Oefe+LF6znlndGv2eQKUh7XKNzQ8oE5BigD6mFvxlam7OTef6N+r99h4CrL1z3/P74JcX+xzTuVw5Xz0Mfj0ZauE/kblOQ9afDbKs5hzuKhnTQDXMgLg9kupezEPrqgLs7+SekojwFtKL3D/3F5xccBeL/+CuwWPwUcef8jyr/pBs25aeAT0LGX90A0A8nSoI8/+XZ71y6Fh/jTPuZun+Ef2Q7+vgjgDd2EfoJ//MYFvBB+4N5tbGv3Zeq++FFxzHPbPZbD7WjMQj74yZgIXF2NPQHoIuvrJHlrr79v+T+mckC/8KCfHB/pvFey3txv8Z7cz/BNNhok3DIB2edG3DNS1qtPBlbgbZTkuYwREwNefE/LJX+j3+5f95Fvo9uOmikspvZSjg17/4c8ERB//dgAqumoPICH6Qo2/URvy7gt/2z/rl97p34wFVZ5oz0ejOTUy/46+4f7hzSn0FPY9aEiUo4P9Af3ZZqbs078mAKlSAuItWC/VnwkYZm5XaZg+TT3d2ADUH338R7hLOaGf9m/OdIIfKTEMncDB/gTAJ8DlEah2NHQ3AKuV+HNgpfrBfRuxd0pB9DlywWQ+gVEbt4+nP20fzpL4Ty86wa89DMcHPv9BSkCFv16N1nU1NfsUACbg21/VMoM6oea4O2OpFAHcXf9m4owS2V8/9++r/dkplcw5r3N5+d4JfL0N/7DfaK1lCFWbaTWdTq+b9v6BCbB7j0A2gMd72OmXbD8Y0+g7XXt4GQBfPnVWnLnkgJO+WFiZPingTXny6b3//4S+uQdVNaua2D76Qpb/AHd62B4A9o++/6BkAoEFwNiz/zwA7i9Y9tW6p6dHFxBDcMjA2/8PfO74awJcn9PZPvqcYJXA3dj5Gzt3lw9CPgUgi0CuH/4uj77lfoB3gm8W3Rgwgbf+K/6xNdzfymH/0EiZfh4AXgDOkh4OaZnDMA2ADAS5fjlO+kFXHzJ/DUCkfzAoegPoLVoFi0WWAV6G39/8A5DvP6MKEKdoKrE6TwkAnYDKox+8OoCbMtt/sDcA/vYHe/cNlF5ONgM6ZnD0zxeA+cf+YdPVb/RMXybg/Bx/118Nawp9G8AL/449144/O/3JngCEvQ1AMH0aYw5N/er1aPvJX9rN5bWpIIzi+BYFFz7AqOSWLBTflSKloQsTEFcuBR+BVHBbQUEUpIviMjFtbSmllv6tnvkePTN37qRW6ZmZGxvr4nfmfN8MCQKfMTgxtQHk/Y/5dzl+uv/OzwR81QTgdcU1Go1evsR8SX6sV3Tg1bs0AYM7gzuYoG8KAOBBpAb4tpuehAXpu3ORBVPawLW0/DFzA4ZhQGoB8Q8SMB/wJQMSA2hlRAMCfFjkBz6m0TMB0JImAPjgN/wkAbr7c6CfJbvimwFYeHovMBWL4EzS/+gA2PEwftUyxnDYRwSUHvhvA7zQm4z+2SjI8GHASGT8YJcl9K/wIP8SDBB6237Meybtf1IAef1z88GukjciC84WDKidgGkBEN8cEANE/f686huGw2OAHuOZ4pMfCwEYRfjGj2kGhOeLpRdLA5HwswCCAdx/zATf4amPmHiPKSgVwZVaAJRcZ7b/y8vgDwnoiwVmgEzh9weebgCeFgDDpwVAlwX5/mMGiQGDgd0ATcr/2NsfJiWZ73bJTx/owKniCQA5PwbF64/zQ8M+ZA0Q8gpgAr5KBFgBln5Mp9ceIOjUm7CWVANRHADQewBmzYFI3Vvdbneh+wQO9Gr8qIKg4klwjfyEfx0eQ+M/CD/xYQCWByBYUGsBkDuA7dfhGWACVPQB9W9SfnNA+EGv4glICf3CAvAXYEAPSm1wBy6VOmC9/0F5BcAAzP6yBiDil6fBf/YAIAIrGGkPBD5FAzwARp8HgAbMzTXhgx0jqIfpiqrAe+HZUgdUC8guz1oHcFkCpAWYvAnOB3ywi4TYEwDt7Uy2xutrnU7rpqjVub+2Pt6YnKtyA1Sof0zgqwGYNID4EOBdPRggj5CENARNEbioXwA4PS3AyPlZA6p5SughwfcegCXa35mMO0Au6v7mxrm75GcFRB8CCL/guwGsfvK32712L8oAliYA4lGYBeADO0C6/8N8/xv52QSUHvtvCdgj+yHqbE6qmL92CfLyB37Cj/B3ia8WVJEJUyNwJnwFCDEAbP/N/OgBhQBYBr56DGTnx4j7UdQZb98dDOhAnACI/HEFOL2pCqtHWRdojMA14ce3PzwANQJ5/pmAsgHGji6I+O9P1m7+k9Ymv5t64F29A0BpACDlT9SrggniQ9wGahE4cfAdsNKzBZT4+4UA1LW/C/p/1+YEBtzLWsADVUMCJPqJqoopEHq/DpxMvgeCYACvQAJPlfe/HACM3a1C8o9SC7/LPSA5AS0BNXgoFEJV7wPpdfA0+P0b0OYPQModsJwAbv7/6eF2/FF48yWILSDBD8tf1AD2gUtxC9QEQJL/1YS/0P+oZv6dqfg3dOrjUHUmtY8CD/hn4wuw81NAp5gBMSBqg1eiAKyyA/AAsNtfKQAU8W83UxOb5DfiUbLgl1qg/HkPzM4AaLFytWVUtaPgFCvA+YGPscoEJOkfEr/IT/ycnha4iFx+jxYEAx6zBbAC8v1fxAgGtDGzCHgGLvEMcPE7cOC78v5XdIC1nyNhMgEyigngr6UWbHsPVEkFMACgjwxok32x5oCHAOcAz4Afwv/+g9KTf+iiAYfw763X6ZOf/En0JBHsDvxNar1KL4LpHUDwGQFhl4HpOUgicJ63IJXhvwZ/Af/wApi0GuC5u3zBYDRu2Ip+lT9Eam2kPZABqDfARagK0yKgFvBKGBw45S2ABqgF+ArsSPtPA/aeJ/SOxx+zzJPTX5O/zEL0qCoYUA8AJPz2jKvAE3BZ+U9GLcBEAwr4BQO2ai3PFP0pfsr7GTTTIL+U18IGSyA2oJscAAeawZIU0AA6oE3gjLcASPFX2QBKNwDyU779hjRNtMbtoBl8W15pURSC5kMw5a+wPAfsA0kXOMtbQJIAsH9X/iOcAFr9bHT/p/q/T1LQ+mkGzBZKYJGamUEGsCoXbwPeBa/mFQB8LOcf/k0BjDaiA+wYlKZg/EQc4D0wSwAF+pm4EUT3wQtJD/zCCgj4UHr9L+Sf8Vf84+DPU/BoxvlZAbUO+FTgRfInJsAjYFehT94DvqQJ8Bvw3wRgt8XtP07RgkfbWQ+o7/9TYcfS13oNQNflHij/ASY2wL4ErtV/Tk9NDP8Y6WmB6w9v5/7aZhWHccVLRUHw9kO80L6hBrUaFdu1IJIpFBWVjnlBNm84UFj7SyeSiSjiYMY1TROb1Rrb+a/6fO/n5OStlzmfc96TqKB8nvOc75t0fb/uugHCXxqwsgITlB8GLKQGyGeB2+kmcMX41QDAWw2o/wJEwzX+3/jjpgBdTwPgDjj9wgpdC4nKCNBt4D4yQB8C0gAI/od/9xNAfwq/gesWKkLQdwPK/cfmqwF+BiIDbsA9dBcUA74W0W8Bx03wHP8haNCX+CU/1LDl1pgRGRiGAWGBJUCO/0qRgNSAO+ibABug+MiAHgDAn9Pb4GufFviJAetJ8Ws0MCG8ykL8eMF0W+LdTchq4dJ8+V1Y+FV/4QDdBx9OA8APAcCANAEn7v/O6qCyO5/BhwfhREhcMldkoVVl/ya3q0ZxCGBAyY+L+c2BxbIKmAF3SgL8CEBUACQBmPJnwHUGrA9Wj1rOX6/woRRnRC4FFvoiKeGIWFANHp97wmuACehMD15e8bIYEVjIDKCvQ5spP+DVAZZwY62vf50jfAgU/H+rR8MHUUQk3pcpeey5ucfnm6gDVgLiLuDxx8KvZkFEIAy4UhoAAV62/1x5/EP08be1c/ry4VLKfxNW8PAJYbUhHmPVAzLC5wAUYHXA9z9LANAJfsUPwfSNEF+GcwPUAvsNKFx5BBw/7v8j/F7A0ahxSxVumCWtuWcff/wX+TxA/O5A3AMF/+zK4uLiAl2lAfRJ6Hbm31b+LAEYLDhQ//kPWzGBAwhBQ1Vh3ALlh2T0Ir4MLTT1MyGdgcCPMwB8SgBbIJpfCAfEgLskALkD51LVff6dMD/UPoIB72YhqGzcGk/25ujPx1/Ys/vhr/4T0eC3/OPiCNghyMvg3TCABH6W8tMw5fQhFH+Iq99Qfkv+aMnRQ5kL/40T7fHTT9OPRHb9dtiYyz8IMz+T8/678kMgn4XvKxMAJftPi+OHdpwfOgQ/6XD9nyWg+jf4o5f4h+PPzi833IHWgpVA49ftF3otA5KBLAH3sAHcAKLmBOh9cHVaI+eHmjv6sNQfg8bfS0BF17+pGvizUv4Twpde6jcgc+C3tARqAII+IpA6IF8GHrqyLQG4RgZcKwwA+rnVkn9g/KIxJ+Aq5h+jEjB/X2H6q6sqnJo2ibQ/x78wSgn4pQFFBnbjBKQF0Oj51TKQnIE71AAE4Bqkz0GeS7U6S0eV8psm9tTwVbMAqipQJJxVAR//sFT5T/aP6bdm5bfl5lFwzAIpA8oPxR3wrPJHAEoD9FPANrUB0Mdf/9qAVsJfEefQ+cmCwbpsoe8l1KgdVb7/9jqVpHb/+BV/au7p568rv2fgkyIB2H58CMglBsQZeOC2R7a3v6bhDQC+pcc/DZ7GDI2dvzIdMj+m6HCdmTENqWI1Sn76R+EVzdw8qTLjr754RQzgBMwbfzhwPSkBtv8YZ/MUBD8bcC++DcMBiA3Qh4Czp0ASnaYJHQl/YOGltcMlIDQZVaVKfD/qNf+sIu0fywPEkYB+o3TgQAJg9DQXCZ9nmQAzYBuKBMgRwLAEkPhXYMsDQPgdQ+sMQB/axPjjcFjNNCETg2besOL90vgrbx9iCThopEoOARng4v3HsqYGlA7AgIe3SVkCsodAcGHRAOA6LQdA8t9JHGh1we0maC8l8uCmtDQ6juZB4IfIgOfyEumHIBKAIfSsxVBUwdSAa6IIAMZlOMD0wh9//l15AXB1MAaCHxG4aQ+G4+Op/jF6BAZWHXMHGqeSACySBSaEYHFN+HMD7mcDwgHgk/ghQMxVnr77GPCg7/wdF3nQ+i7n36Srt0nXZPyPTVgfHbzCjbSCP4rgEqHzCcnLwJ4bcJYdCBVVoM4APgTpU5CrMiIBkzgAUxok+GDH2sPa6232oC8ng/56x+NCk18wptUajo5/zvvnZQY8NeDsRQbiEPwaCWDsMGCtPANhwJUsAcYfFjA6Llar4De1uoGP2SP+ngzVxmQwHu4JepCHBet7o8HxV9FFL+2gZPzQvvB7qQwH3vA/EWD4OABra2vGv5hEAAZYR1Cit88BKb/8Dnzo0G4AnVKDogTABKX/HtfHNKA/fj8eDMaj/lA1Go3Gg4Pjr37+hhT4ZgDRYxr/XFXIHdjVBOQG0H1gdgQehAHKzxZwAtAR4TKG7b+hFwGojcDFi3QEeoSf6PuP2QLT24UMXy3w+Pv+awnsn2DAshhAnwCNXSZCMIOfDLBOmJQAa4AC/EhAxn/o/O1Ou8LAmzbT03oI9ovE30PrPNl6WuWd49fzg90TMLsCQr9Xs+QRKBIAer0TrpU3QjJAdJWWd6+GBSKCvlwGoGLkSoa+wJGh8GNhD1gRAOd/GwMz7aaZN1HEDE3tPwegPgPLOf8aLxBlwBQ1gBNwRR24ui3faC/RCAMu1wQAvApu/LBkQvS9q9h/zICP/e+FBbVNJIHPY2b+6R5Y60BEIHZfBimNwDxLDJBWoIQfjcDCAFYZAMaFBRBeXCPuGMcuyBL0zi5DE1AG4BvwJyr4B3zjqD8Eb2QBcC3yIppRBNmAbWXHoFczoAxARfD5YFXt1jvcMi/1gLUlAQhFAj7AAH/gSw/N8vzrs7P79B/CVBPKCPxKd0HbfSxYhd8DYA5EDUAb3DwCl1j+FLhpzwNQNw63ROQDzd4WsW9R+Le8i2YeAOCHyu0Peub/ndmxYC0MKCKwFlqUmUcABoBd+DEUXgZagAh86Ogv+dtDghcLMHHBAtHHNQFI+YV+6vNPdA+iHwbucgBUFc8iAil/fgoEPz0Dt20CHxc74Am4JNJH4N2GvhiAA1DvwA3BReM4lXXQpGGNdL9R/g+ijfJ7mNQ6EtPw38puf/rY4HrHpZ+k4zSoAb/FCWAFf/HTcTJAxQmwCHAbGEt/xKAVARCV/O3B1iXtm8aDuUWgtz66eAd4lrDTOqODquHHc7NzgR8hYCOiDDbOiAPBHg6o0gSorl2UBOgRgLgPSvTC8BIIzELE7mfgyxB7AAEdF1ags6SJLhblx+4zPhbb/ah+SeeIUadUJS5EBH6RBET+g39NzsDMBFgAQI+pNSBNwBAGcABO1A3tmCZT36cNVGX7pYsqVuw87T6GKGue7Pj22CyfgOXCAjsHEoEn9QyclIAFws8NoI9wYFd8PgTY+HgQ/sgrwIkaaLswdwGDuscx/Abv/gZetI3qD8Q+pS8Kfn9car5zkjwCp+pPwJmpM2AGXNzkLsCMbl2gTuc6tACcrCHgIfZAV+Br21S84JXpOQCEX9KXN3/rm/YLth+jTnYjuA7+mRYY/mKSABPzwwFeoK4UAH8I/vSeBeBkLd0g5ugXt4GZigygBrLcQRfCEvQqo4/tBzxpn+CX/zICT+oRKFR+I8wNIHShNwNCN+gERADqNbFOYRs09B2odUA/hNA41fQ5FLufGhB9k5YhOIBFFYaUZ6CsARhn3ADmLwzASPvA8QOgch/ACZAANNsna8z7XvQM8wQAO/idniX4UIb/jPVMeP5gWdShJSwIWRncXVH8+gjUJwBL1yXwmN1+BKDZbLoNpR3DIM+lm7+B6dvPw/QK0ef4WdeMZ0cM7+Io8BQrIgL7HoAyA6xIgP9PQDQBOb/gd2m2ogQ2obbMWboB/lLaM9Kap85QRp+dfusatW/obYxUHgM1oJEa8NOpIgJRBMwALYKSgK5Z8F0XDSCIf6c7kXsA6Bkdrzwg+2v7G83JLAMYH9d5mucz8NdJSm+KtnFp07A2sDEz+igLePEIvJwYcIouT8BaGPBqHIHvv/cEcACC/zSaP5AHh3YCmq62v9FVPRioAdErbQML6FneNvPzaBj3OVuAMdU3L7afdUAGGH+YkBYGM+B68Bt+fQLAbwZsSRvkpA0i8PFmpztMDGjxJYo3bfOgnwbg/eiWF/xZx7hQ0TVPy9+zqnHbIqBrqU5SBDj+GKd4YBJ+/oXwVTaA6MEvBmCgD3TCT+pGCWDUFkYTSzN945HYMwNAThbU8efw2e7nj4pbw4hhWxyIWQiHgA1YFgNAjxIARQL0ThgJQP2LAACfZAFwdW9wCaAAKG2bkf1Nlof3s0Zx3CMt2gWGMv5i+5P8m/baoghBfQTezIpgODD9o+HbLAAia4E/ZUCXamBWAmACLfEGw4LRnBC/4bPOswPWLC3k/KqsZ3RC/wIvhg9ZNaw1YPes4WsEwoLFMzgBJE1AHgHgk7L9RzUcSwngAADWlnhDabAwDBhfQ+AKenlFuyzf/Y+KpqnJ8beuYXOC7/zt2QZUXgVB/9MFOgai9PtA1ACgO34YAH2XaagnQHMur0quPkQ0xnoEYv9d2fZ/hvGRbD8cyPsFPa8GRL8U3ARSGXvpgFZBLv8/Af+C8mMm9wFLgP0/0KIGCH83d2A9NcAy0G61gj0OQrMv/FCQJx5oqzjGJ2UtI/OekYGPazfD57W+CCxLAuQEYLK8CCxEDQD7j/z/gepFDehSAMKALzHTEtDiBRJm5EFccO2l6T+fROAzDFpMH5mYvrz7RQBIfYMPE06ognoXvIBTAAOsDJgFkQDQs3oegUv6Ew2z4B28Wg0U7ta0mjKhFg8+Alz04AIug5c3oeAvm0VBwu7aF+bEAMzaIvAyGwD8C6gDloDAx7QEkAW9qIGQFoF3MCBaJlwDEQADTlV68ZLy57LNLwPwjPLnx3/agCfkkza4m/CB8We5oAbsEi1t/wWWOHBGIpAmwALQI36rAdEF/Ttc8OLQSkAddf76uycA+x/4uGp3vwyApd/VbsZXEFyqMgKZAT8RPE0xgEKgRSASoAbo7osB0Qedf7A1Lgw4UQfgB75l4LzhY6mPv/PXBOBPys7tJ64qjOJVY+o16otaK6WFTlERtQwYLV7SWJSi9mKaEqMSY2PFxAhJDYmmCY0vjQmUFgpIGv9X13fba1/mUF3nMjNeHtZvr+/bew4zZ05n7zfUPpJgAHBUTQAA9g2A2g//ECNQ9AD84Q4BoH+zT607gHLYubcAvhGx/X19YPm/kRNQ++XNchTAYZgPBraLvBJaANspAAUA+oc8Af4roLD/Hey3AJCAu+yBjHq37lysekBjH3t9u9Dy6ke4p3Z98CF95hSsIPIIGIBNser+CeC9S7EWZBOEDIAiwDXsFsCXm0fZA0dqBu3L+/5zCSkAHf0/3BfrX+w2AxLAqwagfvuN3aVdseyCPQJQBK5LeRMggLAfBVADmCWAjhZY1MM9vfIBVfa7OyAXQGo/BO/Y7bSlrtkICAMTgxAoAUx5CwgxA5dsKsxXghoAQ2B/zviy0qkAMO6m47GVA2j8d9qvbhfIBhjD/6oR2PJBj4dWU+CA08cG4PZtBMAInM8jcMmaABPACoD8V4CqAPx0AgB8EhhX/wcjWJcSeLh/I9B2ALNf3Tb8nY1klEGILBBJmgePZAF4FwhwSgAMgQGIFui/gxkFcLFsgkcdQG573DcRwRiA2v/XrX+6L94BVDeLo38DwPQz/ykAdo6FwG0oCJzHFgnQErAm4CVAAvUc+AkBaAnQN7aSBB7IYN1KwGe/cv3TUf8QO6DK218OYBI7VtqtyIEA3rtd9QACYA0gARAB6CSAv+PE7+Bgkxc/YSXcJIAswreDCADyxj/sU+0CMJTyT/sh4SAAaJePVAmAywCM/3lNACcCJiD3f/UX7QDZj+B4EpAAWQeN0HWbfr4MAHrhQ+wPaAAIvqu2b3eNHwgABCwEB4oJYAWgBbAJQHFJgAAgAIB9yAPwSYw/fhjNALxVuBwPGhx6fSQAqBn/jgCw/ov7hVKeAEyzxiFYtBHwpSAAsAMsnIfePZ+KQNyzBByBfHIBCWAAZPcewJWwe20fWAcG4GtV2f6prvzTfwtA7E8yBrKJ+LwBcNsBuOqJkADcPpTG3xKAXQGcUAAjZpGO/RgnCW+Ct3j1uwHQ+m8ngMEAJjH+CiEYpCBMYVMSUEyDt6Hcv7QC1oBfGQUAlSZAFQFQAgmALITYAzzu6jpynyOxEuj2X8e/vQRG+9TWJCKgG62ThR1AEQmYUvtOQErAqiAmQlUA+O7PlIAvr8YvAToDfUkAYrgoBI5/Vg73fgj7GYAu+yUA+m8BjFgGJsM2/WevIwGT6Y3AwoIQWDD/DqA7ARfhHs4pDcSmLYQ8ADb8yXdwYCDu4zcTTZ3pZ/7pvqMBMgGSgawR1idsLIFeJADOPQIkwIVA3QMuQjQvIdBF4d1YCI0PlFKxklDdAQBXd/dvABT+W+1OZjVg403/bAUBYCI6wAISgF3l/knAAXzBACQCFAisE0AHAT9qAB3L/3r9f/AEcEbPhydDWQ8clIApBbBtABauLUBKwWUEmADYVwCeAGw1AawM70cJjB8gMvgnADSrX9rv/hsA1PiHjk+SgJ1om3tKwH4AUPO0XyyFDIB8aNsB+Md46h/Du3iHCXiICOAz/dtf4/+Njvybe78CMFCTpQrjLAdbCuOiqANwkQEAMAIOQBPgAZAdrulf9Pf/A/BAAUDff1b6by+A0j8vgZQ/GwRZCibC+Sk7Ff75xAFsGQAYN7EPFguBQ2JfE/AFe4CcywT0/x8A/9yLMChXfy0Be/9XNEDaD9nL7SoAZRTSamDqhALYM//UiiNgDRgAIyD+2QPgWa1/YwHAyS+K/jcAQwDQ2Dfntf0k1n81+kSwU/g/hd02YpAtAGgASGBGM0ACJ50AAMSXtwyAC97FNwCYTuHd0H8GsH4FAExE0LZ/Eujof/QPGASQE4CMgrrXScAATBYAVlZWFlayubBNgAKIDHyDDQhkj5LAPJgAzGIL8SmFhSABcPrj5f9m+neJ/ToAlK2EOO7MgO9WAX5ZfKL2D5UALnkCYN0Q6KeXmQB7MBgxDWAtHI5BgU8rGHcSgG8/o30TAYgq+1Az/ARwuAnAIs6LiiBqIS0D9mMdCPtQICCAVAL86pKNPzzrZntoNwDAprknB4ehe8yC6ccim+7XPfxtB3zffj3MAQxn7rFxl5eL+jDCSSBLQALANhgAmICrmoCLkQEyMApfcxowl7O+EQifPUgVQP/Mf+X/7e7xf18kZ0cwAY9BgBDUvQeAPXAlJgECUARG4JITAACzbwREt2j+Gyh9tvWUTwNhk5sT4bOJK1ECY5qAdvLDHwAPan+8YbwpUrCPuOf2Pfl8IAB9M0z/LIK6DQKAILiqBYAIQBeVgQkUzP8tdkFGnb6LBKwTAET7B+XflLm38FNCYMesLqpVL/5F1gF29kADEPYZAb84RgAYf5N/iUPk/kkA/0y64MAEBASe7l+hf89+2/1oH2rLP90pNSewt7iItEvgZefQZ/UQPXAD9nMA56ILtAlIkgiYxDalAK72y2kg3OuZu/dAyD/8WF/9MP9R/V0XwCL/xyCc5VESMLy4CN8CYbFYCSAU8Sp64N5NAqCsDbIJEMBVScCtIPDND5n/H6QAQOCEdUF3HxD4klkYg/8PLQBV/Pl7ad3tjw0Q1pMsA5uIgMVeQHj64yQNIiYBtgAZfQgR4ExQJuDHmAR/D/8/AMDXsI5DdQsqm8BsBoGjP4vn0N0rP1zvAJB//rWq/9q/D3yJYGdRA6BFQAQ4DAqqw9eB2zdvOgDaZxvkRIhZIH2DXwBcDQBqHwDkQ+14eatqAux4DkMeoyruXZHvPjT+Ofqmjukv818A0G6wtQi5ddusF0QJsAUIgN8WFi7D/+VzJgVAAiyBHxUAhC+xiX3oa0oIQLdujflKQEfa7OLsDyZ7+s91AOB3Pvlzye34w34NoMh/HYFhA5AlINci3wuvSAAuw6xavywQuBpSRQ2kBEBXDEBFwPxDm/F+aLZS9Q/GrqMC1H85/cvsb+IHAAavf2m/JiBNQCGkEOQCAJsEewjAb7/BrJnvigAB/GgA4B87ARQJuJJqYPZArV/h9/7Ki99F+Lv6P/PfyJoACGBzAhoFChVgV4MUwOWFc3kCCCDvglYC9vVtVdgnANMVqwFrAgdplwD40Q8r/3b51z3/txIoux4AJyDmmQMCmJcOIC0gEsAIdCQgKoAEKgTy71gDB+nBdQAI/wMXPzg6/LP+g8AHVQSG1HwhEoirQRPWAi+7dSCYd//QIABMQADABU07cF1HauCK6B/OA93avp4BUO+Mfzn8fPvf+C9/MosEpAag8aIERJYDzgEggArA6HsC5ueFQQ3gkpeABYA1AMG3CQwSgbETnAc6db8JAPx31L/5J4D2F7Owf6B7ENhdXI0aoGI6iFXQ8s2b6AAWgJ9//lnME4AsB2dAIAHgFEAAMvCZtAag+1kbHJqNkz1hBbADMP3038a/+c28LAAiQ+A6OYQA6E6ldsBV0E34dwDnfsY+D5UJIACMf7QABqCS18CDsg3SOp9uf84AtG/9Wf2dy1/aJwArgyX9RzuWgGBAZS0QBcAEmOa1CLgaJIDnpQIaAESQA0AblIsCCmBIdhxVCHZRAc0X/zn3t/5pnwBY/5SHYGlvFd5Xx3GulFpgb1n9MwHz2ByASv5UEE3gSQCA8hJoAwAedRuEX9mwk4OeL6QAcPFL/53tn+Xf/lwOtXRsaenY0CrMrzYBKFrgbxEAAHCxCvQieQ0ACFoAlMZCIxAXxmAWMgi26b6OALADDux+NN+Mfwtg2o5pOS19sCQENlYXJQBCYRxHHYC2BcpG/wAww2mAAH7EDVxMrICKwHX8S74jUvtGQU/2uGsdkA2g6f2mgf4ZfwKgLANLSydXxb0icK0yAEckADmAeSAY/Xl+dHQeGEAgpoEZAuDd+zgJmMZ0U5l/SC4NTr1lAKA5bFAg2GYHzH4pPgfQ7d9U268QLEF3hYDEQM84VGkOFP/RAuAeCEZFFoEVAgABA0D7SuB6IkBhVJ3A53xDEO5xThzuMwCsfyn+7sVPs/4hgHBPLQEB2qAZt14gT4sAWAVAmP7UPgDMWwAsAjPoAYMAMAFyPSdCQAKobgD4/FTeBeYm5Mws9BmA8meyu6/9Mv7Y2vy3CDQClKcgOgADwP4HBCKLwLmVmRn41xKAagDXr4v9H+ifGbgO4T+qIgACc1b+eHaP/r0B9Duq//jx3b29rQ3X1tbe7u7Jevw7tLS0tVqrXAWrfxDwBojxH5UT2yAQeAIA4CUCAIG4i4td0cIhAocPIQGACMhaYMojMJtvCADv/RwNsF+O/tnDexs769tzcz3ss3Ozs71eb67nmri7v7G1d9KHv5vAV0MNgHoKgHTw//jj5z/EvkkJlACePfQiAcBeBkCMi+xRCWgE/knLQe99OGy/92EA8G//FZd9Tx/eugfnFKzDf6vt/Y29k5n/r3yjNjoDsMUASP/D4dZ187dE8L+gNfBuDYD+FQAFACIAgPCJMSwHIwLY49QvCiCb/mB+Y108z85RcC8HznKarSns7M1U3gPBUh0BaYHWAbeXAcD9ewJGM/lEcE67gDVBAjAFgBh9NaQA2AX6fFPIVQB0j/6L/nd4C+aH5nDImbI60ANnIWHexzMI9jsB78ntIBSHI9gYGICjR+ZTAMy9A/jDMyAR0HkA8hpoAfBWPpWI4D5XQ2HfA8AGEPYPb2yrb84Vg4UE0D61ub/1VRIQrE1Pr2F7b2i1h83EKXBf/AcAcc8AsAewBgzAM4MT4IIfJMDkAIBgln3QNJsFIC0AZOw3hyhNQKeQAOy0nzHYyxHkXaBXd8AiAAEAR0wDo04AALwHPAUA3QF4DTsJMAP6tnhqBATEu6tv/tP4n76zTt+y6Qs9wEF3ymqgS5sbM04AhbAm29pmr0f/fBvMDugRGC2lBGYgJAD+HQAJ0L8BoMoQ3GMRRATuZP4BYHhjk0tlWlcNToBs3WIMtAzW9no9+JejLgB2gI/U8kfYmAFNgAFgAtoCaP2/FgCMgRSBL4dMd/u5/8M++LZYnMAc4SMvmxKoO0Iv2mGrcY/BltmXA7rbE/vw3xQAhNH34Q8IKkUQACwCLxx6rADQjP8b2AZk4AFmgqIN7Ga3voV996fmITzB5gFozBMC9v+AQLWwqgQ4A9QFAOno0zwToDpfAWAHoH1jADkDpuC+LYcmT42rn/X0ZwCzPzE0MTE3IeM/FAlQFHje0Q57B9dAi2CjVyyBdqIAIPP/EQBg8HE4BJ8Iw78n4Onk/y8HkI9/CEFgBlRlG+hH/mHf/NuwT5hvP+P1rGxFAyyrgHXQhSAAXNssGsAyAfj4W/0rAPq3ElhRAJcA4IkcQBMAOKI0AmRwIbUBZOCON4Bhs2+b7ZZ+tS4IojOoPAqMAHUgguXltbXltT3xHw1gYbnugBp/kXIoegCnAQB4XAG0/nlVX8o6EMSyEEIbCALb9n/079O+JgCGgwIeZnFoEeCZcTAKZp8xEM2lbYD2Z0AACHbYAOfNPwNgBFQMQERgRmQA8IuT1RTY3tFMKbiiDwiDf45GI3yg/8edTfiESWfAk21zeCHuxbofegox/Q+Pwsay6NpQrAD22gIQ53pAZQKg6AHvAsAjBuAvCwCcVffzAwA7vBUIAYdw3wiM3Jf/48G62mUGsFebw4nh50YRgQWguw6EwF40wOXlpgN+hD2pXg3PpB7wCACwA0QA2m+0GYiog9A9JTBhw+9Df5D/WS8FeXAIOLI2kFrhw7V/DgT24Z8NkAGAfScw+qluXAxFBM5bCTx66FB0AAIob2lH4ZUAyBisg8DsAxl+eJMAQAGAIEjATt4WsUwwAL6r/VxD2LpgrC4O7YFATyeAfAnkAXD/nz4sAfjl6efVP0qAARCTvKOHHZoCy4ApCNwZe+3OOBZEUuO5e7LgFv9SW4IslHxlyNWwusauh51b+QIIyZ8/cXQbHGL86d/cf4qdTcACQAD469hhBUD/TQN4G7uLCAKAzAnj98b66/q+CBkwhVUcAaKgwDYJ/xMegCHPPk5BQFh0MPAF0OL88sYkht8bAN8FswF4GTADBiBWgs8CwIuSgDoAF/hnvVJMgan/2oNTRz5GJ5QMBAKPerite0L+JNogACgFaM4QYPNz63/SF0AnNpZXNP91AXgEIgHsAZn/GQfwDOyLCKD5Rnsfx5v9Nx1AMHAMm9oJfUU0MUiKoc5BahMiWw9g/MM23aeaoLJLIJPivl4BRP1bDbgGJ+ApAHjMAOQVcKFw3+/DPvwrAgj+k4TVuhPA+4JeTYBloQeHPxBwGvAnZp/55+7SN4Dx5cibzD9nAI4/xCbAJsgEvAAAT5ctEPYvXKhuakf12QsoJfAxCIw7gQ4KEgI9kwMB6FP4rHoAdxzuf4T+1T6U/EM+/h0AoCwBTwDA46kCxkiAf9fq93lbU1EiIIj881/3lMAUvrTERtApLpZqyehDDEC9M/42/6t7jn8RAHOvJ9GgaVAWggDwCAFAN8bMfwqAePfd1Q8ElN1sDgQYgg6xIKAKQk8OH+0O+/SP26aGfwLIGgBkCEaRAUlAaoPwr8KXBrAQ1HmQADwAr1+wHoDh7wsBV98gvF0ikGXC7sgrbAQMQZc4TRICJV47hz/8H9li/MM/J0DzzgQwAkUCsAyAXkpzwI0bYzcUQPhPACimoNDwSDQChGBubuI/qiVA89Uew/+xtf9RWC/8Q3kDZAKcQMcyAHrG/EM3UAL0/7oCoP1Xcwb9AgEycdpuOfifQ8CVUgXAoEQK2uG39neO7lXW/4IAAwDVACDxLwSeUgBPGwD6B4BIAOwXt7QqYoB/r977ViobJ17xXkgEne5dRFCItln9kxz+Izs+9ysA5p/+KSTAFoOpBUCcBESPA0D4v3Ej9w8ZANinLAtWCYDAzz9YGWgIJlcflgJeLxgsdU77HH6Jf9b96wUQ/ZcJ4CwQ7wRsEoAeZQLgvwTA73O3CMCm1s5RD8EIPrrYe3gh2DujLgA+J9C+3yz0Zlv+HH8CSHXQtIB4M/juo4dUzzMBJQBIC6BVtIRwjif64riEIBCsdiLg+6LODEz0aF/Tj7WPDv8e3/wX/jkD0L7tQDA4AeiB3gXZA9S/SyqbAajFnqhh0CfQzgmpgxNThmCcDLpAdKqnMvueflQ/F38Hjz81ygAUk6D2wOiCat9LAHL/TuDVbhUTpJ2P4/MDCQFjcPCaqB1/iOGP9E+M3hTV/q3+sdF+XQFcCfN6kLSAaAK6ChAGuX8I7gv/ZwZBwFbd/rVGAAZD/y8D7r6w38OFwNY/pP47AuAI0iTAOUDWga4X473wjQrAoI+0d3EwCHbecgSYEYzBuNTzAf2gY/BpH5e+9VJw65/V32m/bYKoAGkBoccsAfks2DcCdQCwq/AwgACzQASIgc4JqwhCXQ3F2yJ96BXuZeL30Yd9UVf+OxoAFwJ5ACIBL4R/rAQ8AFAEIAHgLR2S3vfHzqZABGRgEExptDkJ0rslfyT/0Zwhs88CoP9y/EeTCKCzB6ICQi/pm+G2BACAovX3/c4Gorocompw3poAApsVjYFBSBgoeod5uLfoq32v/RoA819eAoFz3UzpzUC9DJRFwJNqnTUwFj0AcgD1dzrju/xJXUGIyjl5V2MABg4BFBSDgaAWoUmId8Y195j49veWkzgDlv1fpGlX/yKF4BNBcTGAq4AnMgCPpiag9rH1X/cA/EoC4fwYDiIIKaMWxta2/14/GACCUQCHWiMq+6kg/obw0N41Mb6Ggx2ge/4f1RM3fc0CYAs8f0krgHqxnAUusAQq/3Rv32tXBl2N8YwyOYlSUAaA4BQcBMWfSUrm4X4H7s15HoBknzMA4x8MrAxsHTRKAvU7QbbBKgEO4NVIwGlYeT99pUFPOGyHoi2KX86TbJvDW6gFhwAKygEkku30o7FmHu6PbG9cW7PBl4d2BoB7VVn/Mf66Q6j/rgDYKogRiGkgawF4058K4PTpVACNLAZymP8ztZTP7samQRAOLlhW2+HcRn5qe2dmbc3th+Lyf9kAIdqPAOR1UAJw/1wE5BEggJgFISQgAHgABgOA2AzkqP0bvuG9nc1xWASIVkfN+9btNZfaX+uYANv6H/UDmz31BAz6qyBbICPgABgBUdh/9fSZM6cVQJcMQRRDq2zy2MUnxu9uTqyOHDmqOjI1NbS5vbOxNbO0tLaG3aXu6V8BVAEY5QogtpgCcOqqgBnOgXkE6N8yEAkwCPxWd5fMXetcdtZPDnGpFc2HmP92BqB/dcwm4C8+yqbAUQaAHaCIwFhFIEsAAnD6YQDS/NAMPHY5+fnYmaX3sZXu12xbSwS0+xX51w7QOf6Q9/7Bw99cDGz1CPxn82DfaiBmAahugh/IaXhwDBwDB9/+6RJ23+AaEUjuVeHfnVf5p//mCmAQ4AJAX5d/EWMAuAYo9Jh3QVXZBdEDAOAs/Wdf7tSzZ8BEwyaOP3zL0Z0A+s8SMNA/lwCcAXyvA8DxtwDwbVCpR58TAFwK9Z1AGYGzdG9nEf+Bq1gu6iv3zvF3BAwACbD7037rn1MACRQtwOy31wLZAes+2DQBSLqg+T8r9ulf86/usctWSQccUsNnjtG9RP8Y7ScItK8EOPzWAJJ9NsBR+rfUKwH3zjVw9akAdsBGz3ApxBqIAIDAaU2Al746H/5gePgDVw1hCf0uhh0vfGua/xrd19N/W//4LrT45x9BiUDEK+H2T8I/AYh/FkBbBDealYC6x24IIJh3Bm4dDMDBGTQQuHX5h6ax5/4h3Boe9pv+d84DYO3N/uSBs8545UXArABoXwLw5KOHOvVIXgNsAgHgrEi8GwMxHgoCpBBn9WxP3L4hYOPHN0AQgOks/V8pghj/azH8Nv7zVgFOADIAFM2XCwDOAN16LACwC8osQAAQnGMXJdfHSaBJgvrFA31XCdDvgDAAX4n929jUv98U7vLlFf82+LwkYBT+1X6a97KCkIMfEM8nQGwsgK424ASgvAaQAQUgXfCsRiAYwDn8Hz+OAximiQAHfIvUvj8WUuc4sLnM/W0WgN8STMcf0gTo+AcB2iaK0RD9138LOLANtF2APUC64FlxDgZmH7ax47BzLSkF2MfRaBoyBmF/TbL/3m3VtaQFIRD2kYBRBCAEAhECq4IMwDz2wv9BDYBtQAi4f9YAS4BtQCnoNGAR8BywKzAK0JId2vH4tVBjoOYh/7XoZRJQ97wlmBYAirr4MlAqAP9ILPZEoB7/J9kAugm8DACpBIiADLIeYC7NOxkcnwYGmCxugkEO04V93XX0Re6e/oXAyoLZRwSg5I8UfOCr3teO/2H6P0BPpwio+f6vv/pKiCEYzsQEZDJz8MqTGaf/TF/F8GsAVOV9oc9FA4BgrBJ983nr/zwvAvwvAkxAMRNk9mUHgW6pZ2NCtfbRAGGfHYD+IQUwLxVg5rDTcoWBX5Mtxp/+H6rHog1eIIHTTQaIQDPQyQD1EF7xorFvAHzscdB/DWAeAEZBwPtbGwX6Z/t3vcsV4H8jwC4A+0bg1wzA8Fmal/NxmQs7ExAg6D//Vvx708i+IIAMAX8fp0oAlAY4eaVvumf8PQD0/38IeBfQUxYBIggI0PFh+m01zYciBCenxbnsMK8A6J8JYASgPAE5DrpX87V95P9/6d/izp+1kRiI4l4vKOvFdvBVKY642ebKI7AEXLm0K5HmvkUI3PeHe9LM5K2klTnsmPz0x06KwHt6M1pIsd3TXysCMcEiAGZqANCDEogOW/z8PHuoH4bh7W2I8g15S7ae/8nkw4CPsxgQjjdLwJlDofyT6H+o6q8/D0xrAPz+WY1AbIMX9A/6CcnxR3wMyuswFQ/5StAPRL95AF1ngxlg7LX0Vb4ZYPf/NQ78kgjIZYgAvGMkjfAZg8CDug8DAj9ggw1T9HXgYgDW+DoKagCYWBCwJAS93Hn0qfzxSv1guQ4ZeDFgASPAEJTkwmWXGUkcCPKB7qMhAQhFAKgfU1C91B2X2EP5Wv79cnEd7acD75oBjMQE1sB/ZMAMqCbA4/iVUwTypQ+YB2gEMgC/qnZA9dTP9ndVGaANGNGCIgVVihgwBKUJwHtsdIAWiAMHyJeN0ifYr6byR3Bl/FkGvAmyDBwnPGfSGYecIawCy4CHAZ4OKAcxAaI+dKAUDvHYOQ6UzssP7JaL23CP9i8CZoBlYKTdkPL3WQXEmTng4xbVez96YAaEhYP8ozkQYepDmOSMlYU//pmVW9xOiypgBhILjvSAHTE3oWTI8TEE0I8ZGDFpAQi3GU2ow9r3PP6badZsBOIA9BtHsq9QGoBRWGA5MCwFYUghIAtiwrwRvPdOIn/TUMPNdfCShQBjzoNYCHlH0L3qgRf5r/pdsVaAKTmAOig0+Vgfc+oPo+A3bvGVdFv2gawOaEJZD7waZcMigwxM4NkRzQEM2mClcNKQJ4mPG+Rjp/yvxq1pgVC3YC/7bDVgowWYZoHXGfGAPmAG+OJUOeyTjpB6KOdrdUfIvwdN91hJAT3IfYDoI2MwfzlMrwa64DPGBFEr/YHSgfcbtL670bTbLAVhJNAEpqFoCLXeCNKCyCy4jA/q3eLONG6tJogBrISUoidgS/uCUvGAPmQ2YIRNpxjjw+dq1/Hs78vStf32iZUwfUC84MM+8YF1gZXfD9hYEIqv8rDpO3d/8WUWOviwfRITFH677ENigzBTEjqJxySrVd/vOtcsvpll41zXtW3b9zAE/FAgXGb+4CgWpGmQNfPYuFI2oAe73a7rnGu+RPc/7NDmX/6EDAkAAAAASUVORK5CYII=",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?Ae.Unsupported:Ae.NotDetected,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new $s),this.emit("disconnect"))},this._connecting=!1,this._wallet=null,this._publicKey=null,this._network=e.network||null,this._readyState!==Ae.Unsupported){const t=n=>{typeof n.data=="object"&&n.data.__glow_loaded&&(this._readyState!==Ae.Installed&&(this._readyState=Ae.Installed,this.emit("readyStateChange",this._readyState)),window.removeEventListener("message",t))};window.addEventListener("message",t),vi(()=>{var n;return(n=window.glowSolana)!=null&&n.isGlow?(window.removeEventListener("message",t),this._readyState!==Ae.Installed&&(this._readyState=Ae.Installed,this.emit("readyStateChange",this._readyState)),!0):!1})}}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isConnected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Ae.Installed)throw new kr;this._connecting=!0;const e=window.glowSolana;try{await e.connect()}catch(n){throw new Cr(n==null?void 0:n.message,n)}if(!e.publicKey)throw new eo;let t;try{t=new ie(e.publicKey.toBytes())}catch(n){throw new Lr(n==null?void 0:n.message,n)}e.on("disconnect",this._disconnected),this._wallet=e,this._publicKey=t,this.emit("connect",t)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new Nr(t==null?void 0:t.message,t))}}this.emit("disconnect")}async sendTransaction(e,t,n={}){try{const s=this._wallet;if(!s)throw new et;try{const{signers:i,...c}=n;e=await this.prepareTransaction(e,t,c),i!=null&&i.length&&e.partialSign(...i),c.preflightCommitment=c.preflightCommitment||t.commitment;const{signature:u}=await s.signAndSendTransaction(e,{...c,network:this._network});return u}catch(i){throw i instanceof St?i:new er(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const t=this._wallet;if(!t)throw new et;try{return await t.signTransaction(e,this._network)||e}catch(n){throw new Ot(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new et;try{return await t.signAllTransactions(e,this._network)||e}catch(n){throw new Ot(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new et;try{const{signature:n}=await t.signMessage(e);return n}catch(n){throw new bi(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}}const rd="Phantom";class id extends xi{constructor(e={}){super(),this.name=rd,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjM0IiB3aWR0aD0iMzQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iLjUiIHgyPSIuNSIgeTE9IjAiIHkyPSIxIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiM1MzRiYjEiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1NTFiZjkiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9Ii41IiB4Mj0iLjUiIHkxPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii44MiIvPjwvbGluZWFyR3JhZGllbnQ+PGNpcmNsZSBjeD0iMTciIGN5PSIxNyIgZmlsbD0idXJsKCNhKSIgcj0iMTciLz48cGF0aCBkPSJtMjkuMTcwMiAxNy4yMDcxaC0yLjk5NjljMC02LjEwNzQtNC45NjgzLTExLjA1ODE3LTExLjA5NzUtMTEuMDU4MTctNi4wNTMyNSAwLTEwLjk3NDYzIDQuODI5NTctMTEuMDk1MDggMTAuODMyMzctLjEyNDYxIDYuMjA1IDUuNzE3NTIgMTEuNTkzMiAxMS45NDUzOCAxMS41OTMyaC43ODM0YzUuNDkwNiAwIDEyLjg0OTctNC4yODI5IDEzLjk5OTUtOS41MDEzLjIxMjMtLjk2MTktLjU1MDItMS44NjYxLTEuNTM4OC0xLjg2NjF6bS0xOC41NDc5LjI3MjFjMCAuODE2Ny0uNjcwMzggMS40ODQ3LTEuNDkwMDEgMS40ODQ3LS44MTk2NCAwLTEuNDg5OTgtLjY2ODMtMS40ODk5OC0xLjQ4NDd2LTIuNDAxOWMwLS44MTY3LjY3MDM0LTEuNDg0NyAxLjQ4OTk4LTEuNDg0Ny44MTk2MyAwIDEuNDkwMDEuNjY4IDEuNDkwMDEgMS40ODQ3em01LjE3MzggMGMwIC44MTY3LS42NzAzIDEuNDg0Ny0xLjQ4OTkgMS40ODQ3LS44MTk3IDAtMS40OS0uNjY4My0xLjQ5LTEuNDg0N3YtMi40MDE5YzAtLjgxNjcuNjcwNi0xLjQ4NDcgMS40OS0xLjQ4NDcuODE5NiAwIDEuNDg5OS42NjggMS40ODk5IDEuNDg0N3oiIGZpbGw9InVybCgjYikiLz48L3N2Zz4K",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?Ae.Unsupported:Ae.NotDetected,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new $s),this.emit("disconnect"))},this._accountChanged=t=>{const n=this._publicKey;if(!!n){try{t=new ie(t.toBytes())}catch(s){this.emit("error",new Lr(s==null?void 0:s.message,s));return}n.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Ae.Unsupported&&vi(()=>{var t,n,s;return((n=(t=window.phantom)==null?void 0:t.solana)==null?void 0:n.isPhantom)||((s=window.solana)==null?void 0:s.isPhantom)?(this._readyState=Ae.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isConnected)}get readyState(){return this._readyState}async connect(){var e;try{if(this.connected||this.connecting)return;if(this._readyState!==Ae.Installed)throw new kr;this._connecting=!0;const t=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!t.isConnected)try{await t.connect()}catch(s){throw new Cr(s==null?void 0:s.message,s)}if(!t.publicKey)throw new eo;let n;try{n=new ie(t.publicKey.toBytes())}catch(s){throw new Lr(s==null?void 0:s.message,s)}t.on("disconnect",this._disconnected),t.on("accountChanged",this._accountChanged),this._wallet=t,this._publicKey=n,this.emit("connect",n)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new Nr(t==null?void 0:t.message,t))}}this.emit("disconnect")}async sendTransaction(e,t,n={}){try{const s=this._wallet;if(!s)throw new et;try{const{signers:i,...c}=n;e=await this.prepareTransaction(e,t,c),i!=null&&i.length&&e.partialSign(...i),c.preflightCommitment=c.preflightCommitment||t.commitment;const{signature:u}=await s.signAndSendTransaction(e,c);return u}catch(i){throw i instanceof St?i:new er(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const t=this._wallet;if(!t)throw new et;try{return await t.signTransaction(e)||e}catch(n){throw new Ot(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new et;try{return await t.signAllTransactions(e)||e}catch(n){throw new Ot(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new et;try{const{signature:n}=await t.signMessage(e);return n}catch(n){throw new bi(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}}var Mi=Wn.exports.Buffer;function sd(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=n}var c=r.length,u=r.charAt(0),h=Math.log(c)/Math.log(256),w=Math.log(256)/Math.log(c);function m(B){if((Array.isArray(B)||B instanceof Uint8Array)&&(B=Mi.from(B)),!Mi.isBuffer(B))throw new TypeError("Expected Buffer");if(B.length===0)return"";for(var k=0,T=0,C=0,U=B.length;C!==U&&B[C]===0;)C++,k++;for(var D=(U-C)*w+1>>>0,L=new Uint8Array(D);C!==U;){for(var z=B[C],P=0,W=D-1;(z!==0||P<T)&&W!==-1;W--,P++)z+=256*L[W]>>>0,L[W]=z%c>>>0,z=z/c>>>0;if(z!==0)throw new Error("Non-zero carry");T=P,C++}for(var Q=D-T;Q!==D&&L[Q]===0;)Q++;for(var j=u.repeat(k);Q<D;++Q)j+=r.charAt(L[Q]);return j}function I(B){if(typeof B!="string")throw new TypeError("Expected String");if(B.length===0)return Mi.alloc(0);for(var k=0,T=0,C=0;B[k]===u;)T++,k++;for(var U=(B.length-k)*h+1>>>0,D=new Uint8Array(U);B[k];){var L=e[B.charCodeAt(k)];if(L===255)return;for(var z=0,P=U-1;(L!==0||z<C)&&P!==-1;P--,z++)L+=c*D[P]>>>0,D[P]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");C=z,k++}for(var W=U-C;W!==U&&D[W]===0;)W++;var Q=Mi.allocUnsafe(T+(U-W));Q.fill(0,0,T);for(var j=T;W!==U;)Q[j++]=D[W++];return Q}function N(B){var k=I(B);if(k)return k;throw new Error("Non-base"+c+" character")}return{encode:m,decodeUnsafe:I,decode:N}}var od=sd,ad=od,cd="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Rr=ad(cd);const ud="Slope";class ld extends xi{constructor(e={}){super(),this.name=ud,this.url="https://slope.finance",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiByeD0iNjQiIGZpbGw9IiM2RTY2RkEiLz4KPHBhdGggZD0iTTI3Ljk0NzUgNTIuMTU5Nkw1MS45ODI2IDI4LjA1NzJMNzIuNjA5OCA3LjY1Mzg5QzczLjg3MzQgNi40MDQwMSA3Ni4wMTc4IDcuMjk5MSA3Ni4wMTc4IDkuMDc2NDJMNzYuMDE4NyA1Mi4xNTlMNTEuOTgzNiA3Ni4xMjY4TDI3Ljk0NzUgNTIuMTU5NloiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8zNzk1XzI1NTQzKSIvPgo8cGF0aCBkPSJNMTAwLjA1MyA3NS45OTNMNzYuMDE4IDUxLjk1OEw1MS45ODI5IDc1Ljk5MzFMNTEuOTgyOSAxMTguOTI0QzUxLjk4MjkgMTIwLjcwMyA1NC4xMzEyIDEyMS41OTcgNTUuMzkzNyAxMjAuMzQzTDEwMC4wNTMgNzUuOTkzWiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzM3OTVfMjU1NDMpIi8+CjxwYXRoIGQ9Ik0yNy45NDcgNTIuMTYwMUg0NC42ODM5QzQ4LjcxNDcgNTIuMTYwMSA1MS45ODIyIDU1LjQyNzYgNTEuOTgyMiA1OS40NTgzVjc2LjEyNjlIMzUuMjQ1M0MzMS4yMTQ2IDc2LjEyNjkgMjcuOTQ3IDcyLjg1OTQgMjcuOTQ3IDY4LjgyODdWNTIuMTYwMVoiIGZpbGw9IiNGMUYwRkYiLz4KPHBhdGggZD0iTTc2LjAxNzggNTIuMTYwMUg5Mi43NTQ3Qzk2Ljc4NTUgNTIuMTYwMSAxMDAuMDUzIDU1LjQyNzYgMTAwLjA1MyA1OS40NTgzVjc2LjEyNjlIODMuMzE2MUM3OS4yODU0IDc2LjEyNjkgNzYuMDE3OCA3Mi44NTk0IDc2LjAxNzggNjguODI4N1Y1Mi4xNjAxWiIgZmlsbD0iI0YxRjBGRiIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzM3OTVfMjU1NDMiIHgxPSI1MS45ODMxIiB5MT0iNy4wNzE1NSIgeDI9IjUxLjk4MzEiIHkyPSI3Ni4xMjY4IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNBOEFERkYiLz4KPHN0b3Agb2Zmc2V0PSIwLjY0ODU1NiIgc3RvcC1jb2xvcj0id2hpdGUiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzM3OTVfMjU1NDMiIHgxPSI3Ni4wMTgiIHkxPSI1MS45NTgiIHgyPSI3Ni4wMTgiIHkyPSIxMjAuOTI4IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIG9mZnNldD0iMC4yNjA3ODQiIHN0b3AtY29sb3I9IiNCNkJBRkYiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRTRFMkZGIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg==",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?Ae.Unsupported:Ae.NotDetected,this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Ae.Unsupported&&vi(()=>typeof window.Slope=="function"||window.slopeApp?(this._readyState=Ae.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Ae.Installed||typeof window.Slope!="function")throw new kr;this._connecting=!0;const e=new window.Slope;let t;try{({data:t}=await e.connect())}catch(s){throw new Cr(s==null?void 0:s.message,s)}if(!t.publicKey)throw new eo;let n;try{n=new ie(t.publicKey)}catch(s){throw new Lr(s==null?void 0:s.message,s)}this._wallet=e,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){this._wallet=null,this._publicKey=null;try{let t;try{({msg:t}=await e.disconnect())}catch(n){throw new Nr(n==null?void 0:n.message,n)}if(t!=="ok")throw new Nr(t)}catch(t){this.emit("error",t)}}this.emit("disconnect")}async signTransaction(e){try{const t=this._wallet;if(!t)throw new et;try{const n=Rr.encode(e.serializeMessage()),{msg:s,data:i}=await t.signTransaction(n);if(!i.publicKey||!i.signature)throw new Ot(s);const c=new ie(i.publicKey),u=Rr.decode(i.signature);return e.addSignature(c,u),e}catch(n){throw n instanceof St?n:new Ot(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){var t;try{const n=this._wallet;if(!n)throw new et;try{const s=e.map(w=>Rr.encode(w.serializeMessage())),{msg:i,data:c}=await n.signAllTransactions(s),u=e.length;if(!c.publicKey||((t=c.signatures)==null?void 0:t.length)!==u)throw new Ot(i);const h=new ie(c.publicKey);for(let w=0;w<u;w++)e[w].addSignature(h,Rr.decode(c.signatures[w]));return e}catch(s){throw s instanceof St?s:new Ot(s==null?void 0:s.message,s)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const t=this._wallet;if(!t)throw new et;try{const n=await t.signMessage(e);return Rr.decode(n.data.signature)}catch(n){throw new bi(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}}const fd="Solflare";class hd extends xi{constructor(e={}){super(),this.name=fd,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Ae.Unsupported:Ae.Loadable,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new $s),this.emit("disconnect"))},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==Ae.Unsupported&&vi(()=>{var t;return((t=window.solflare)==null?void 0:t.isSolflare)||window.SolflareApp?(this._readyState=Ae.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Ae.Loadable&&this._readyState!==Ae.Installed)throw new kr;let e;try{e=(await Promise.resolve().then(()=>Fd)).default}catch(s){throw new U0(s==null?void 0:s.message,s)}let t;try{t=new e({network:this._config.network})}catch(s){throw new O0(s==null?void 0:s.message,s)}if(this._connecting=!0,!t.connected)try{await t.connect()}catch(s){throw new Cr(s==null?void 0:s.message,s)}if(!t.publicKey)throw new Cr;let n;try{n=new ie(t.publicKey.toBytes())}catch(s){throw new Lr(s==null?void 0:s.message,s)}t.on("disconnect",this._disconnected),this._wallet=t,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new Nr(t==null?void 0:t.message,t))}}this.emit("disconnect")}async signTransaction(e){try{const t=this._wallet;if(!t)throw new et;try{return await t.signTransaction(e)||e}catch(n){throw new Ot(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new et;try{return await t.signAllTransactions(e)||e}catch(n){throw new Ot(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new et;try{return await t.signMessage(e,"utf8")}catch(n){throw new bi(n==null?void 0:n.message,n)}}catch(t){throw this.emit("error",t),t}}}const $d="";function dd({children:r}){const e=to.Mainnet,t=Y.useMemo(()=>N0(e),[e]),n=Y.useMemo(()=>[new id,new nd,new ld,new hd({network:e})],[e]);return O.default.createElement(R0,{endpoint:t},O.default.createElement(H0,{wallets:n,autoConnect:!0},O.default.createElement(j0,null,r)))}function pd(r){return`${r.slice(0,4)}...${r.slice(-4)}`}const gd={ethereum:"ETH",solana:"SOL",polygon:"MATIC",avalanche:"AVAX",flow:"FLOW"};function wd({projectData:r,appId:e,hasUser:t}){var k;const[n,s]=Y.useState(!1),[i,c]=Y.useState(""),{setVisible:u}=Cc(),{connected:h,publicKey:w,signMessage:m,disconnect:I}=Sc(),N=Y.useRef(!1),B=Y.useMemo(()=>{if(!(r!=null&&r.wallet))return[];const{wallet:T}=r,C=[];if(T!=null&&T.isBalanceRequired){const U=O.default.createElement(O.default.Fragment,null,"Have at least",O.default.createElement("strong",null," "+T.balance+" "+gd[r.chain]+" "),"in your wallet");C.push(U)}if(T!=null&&T.isNftRequired){const{nftCollection:U}=T,D=O.default.createElement(O.default.Fragment,null,"Hold an NFT from"," ",O.default.createElement("strong",null,O.default.createElement("a",{href:U==null?void 0:U.url,target:"_blank",rel:"noreferrer"},U==null?void 0:U.name)));C.push(D)}return C},[r]);return Y.useEffect(()=>{async function T(){if(!(!h||!w||!m||N.current))try{N.current=!0,s(!0);const C=w.toBase58(),{nonce:U}=await Jc({appId:e,address:C}),D=new TextEncoder().encode(U),L=ed.encode(await m(D));await $c({address:C,signature:L,appId:e}),c(pd(w.toString()))}catch(C){I(),C.message!=="User rejected the request."&&C.name!==et.name&&console.error("error",C)}finally{s(!1),N.current=!1}}T()},[e,s,h,w,m,I]),((k=r==null?void 0:r.wallet)==null?void 0:k.required)===!1?null:O.default.createElement(ki,{title:"Wallet",onClick:()=>{i||u(!0)},info:B,isLoading:n,rightText:i,buttonDisabled:!t})}function yd({projectData:r,appId:e,hasUser:t}){return O.default.createElement(dd,null,O.default.createElement(wd,{projectData:r,appId:e,hasUser:t}))}const ep="";function md({projectData:r,appId:e,hasUser:t,inputRef:n}){var N,B,k,T,C,U,D,L,z;const[s,i]=Y.useState(!1),[c,u]=Y.useState(""),[h,w]=Y.useState(!1);Y.useEffect(()=>{var P;w(!!((P=r==null?void 0:r.userInfo)!=null&&P.registered))},[r]);const m=async()=>{var P;if(!(!e||!t||!(r!=null&&r.id)||h))try{u(""),i(!0);const{error:W}=await eu({appId:e,projectId:r.id,customField:((P=n==null?void 0:n.current)==null?void 0:P.value)||""});if(W)return console.error("Register error",W),u(W.message);w(!0)}catch(W){console.error(W)}finally{i(!1)}},I=s||!t||((N=r==null?void 0:r.discord)==null?void 0:N.enabled)&&!((k=(B=r==null?void 0:r.userInfo)==null?void 0:B.discord)!=null&&k.username)||((T=r==null?void 0:r.discord2)==null?void 0:T.enabled)&&!((U=(C=r==null?void 0:r.userInfo)==null?void 0:C.discord)!=null&&U.username)||((D=r==null?void 0:r.twitter)==null?void 0:D.enabled)&&!((z=(L=r==null?void 0:r.userInfo)==null?void 0:L.twitter)!=null&&z.username);return O.default.createElement(O.default.Fragment,null,O.default.createElement("button",{className:"hypeday-register-button",onClick:m,disabled:I},s&&O.default.createElement("div",{className:"hypeday-spinner hypeday-btn-spinner"}),O.default.createElement("span",{style:{visibility:s?"hidden":"initial"}},h?"Registered! \u{1F389}":"Register")),!!c&&O.default.createElement("span",{className:"hypeday-register-error"},c))}function Ad({appId:r,projectId:e,userToken:t}){const[n,s]=Y.useState(),[i,c]=Y.useState(!0),[u,h]=Y.useState(""),w=Y.useRef(null),m=Y.useCallback(async()=>{if(!e||!r){console.error("HypeDayReact: projectId and appId props are required.");return}c(!0),h(""),Xc({appId:r,projectId:e}).then(I=>s(I)).catch(I=>{console.error("HypeDayReact: Error fetching project data",I),h(I.message||"Something went wrong. Please check your connection.")}).finally(()=>c(!1))},[r,e]);return Y.useEffect(()=>{Zc(t)},[t]),Y.useEffect(()=>{m()},[m]),i?O.default.createElement("div",{className:"hypeday-wrapper",style:{display:"flex",justifyContent:"center"}},O.default.createElement("div",{className:"hypeday-spinner"})):u?O.default.createElement("div",{className:"hypeday-wrapper"},O.default.createElement("span",{className:"hypeday-error"},u),O.default.createElement("button",{className:"hypeday-button",onClick:m},"Retry")):O.default.createElement("div",{className:"hypeday-wrapper"},O.default.createElement(ru,{projectData:n}),O.default.createElement(yd,{projectData:n,appId:r,hasUser:!!t}),O.default.createElement(iu,{projectData:n,appId:r,hasUser:!!t}),O.default.createElement(tu,{projectData:n,appId:r,hasUser:!!t}),O.default.createElement(nu,{projectData:n,ref:w}),O.default.createElement(md,{projectData:n,appId:r,hasUser:!!t,inputRef:w}),O.default.createElement("div",{style:{fontSize:"0.8em",width:"100%",display:"flex",justifyContent:"flex-end",paddingTop:12}},O.default.createElement("span",null,"Powered by"," ",O.default.createElement("a",{href:"https://hype.day",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"}},"Hype.Day"))))}var bd=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Hc=function(r){bd(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(ti),_i=Wn.exports.Buffer;function vd(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=n}var c=r.length,u=r.charAt(0),h=Math.log(c)/Math.log(256),w=Math.log(256)/Math.log(c);function m(B){if((Array.isArray(B)||B instanceof Uint8Array)&&(B=_i.from(B)),!_i.isBuffer(B))throw new TypeError("Expected Buffer");if(B.length===0)return"";for(var k=0,T=0,C=0,U=B.length;C!==U&&B[C]===0;)C++,k++;for(var D=(U-C)*w+1>>>0,L=new Uint8Array(D);C!==U;){for(var z=B[C],P=0,W=D-1;(z!==0||P<T)&&W!==-1;W--,P++)z+=256*L[W]>>>0,L[W]=z%c>>>0,z=z/c>>>0;if(z!==0)throw new Error("Non-zero carry");T=P,C++}for(var Q=D-T;Q!==D&&L[Q]===0;)Q++;for(var j=u.repeat(k);Q<D;++Q)j+=r.charAt(L[Q]);return j}function I(B){if(typeof B!="string")throw new TypeError("Expected String");if(B.length===0)return _i.alloc(0);for(var k=0,T=0,C=0;B[k]===u;)T++,k++;for(var U=(B.length-k)*h+1>>>0,D=new Uint8Array(U);B[k];){var L=e[B.charCodeAt(k)];if(L===255)return;for(var z=0,P=U-1;(L!==0||z<C)&&P!==-1;P--,z++)L+=c*D[P]>>>0,D[P]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");C=z,k++}for(var W=U-C;W!==U&&D[W]===0;)W++;var Q=_i.allocUnsafe(T+(U-W));Q.fill(0,0,T);for(var j=T;W!==U;)Q[j++]=D[W++];return Q}function N(B){var k=I(B);if(k)return k;throw new Error("Non-base"+c+" character")}return{encode:m,decodeUnsafe:I,decode:N}}var xd=vd,Ed=xd,Id="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Ft=Ed(Id);class Bd extends ti{constructor(e,t){var n;if(super(),n=this,this._handleMessage=s=>{if(this._injectedProvider&&s.source===window||s.origin===this._providerUrl.origin&&s.source===this._popup){if(s.data.method==="connected"){const i=new ie(s.data.params.publicKey);(!this._publicKey||!this._publicKey.equals(i))&&(this._publicKey&&!this._publicKey.equals(i)&&this._handleDisconnect(),this._publicKey=i,this._autoApprove=!!s.data.params.autoApprove,this.emit("connect",this._publicKey))}else if(s.data.method==="disconnected")this._handleDisconnect();else if((s.data.result||s.data.error)&&this._responsePromises.has(s.data.id)){const[i,c]=this._responsePromises.get(s.data.id);s.data.result?i(s.data.result):c(new Error(s.data.error))}}},this._handleConnect=()=>(this._handlerAdded||(this._handlerAdded=!0,window.addEventListener("message",this._handleMessage),window.addEventListener("beforeunload",this.disconnect)),this._injectedProvider?new Promise(s=>{this._sendRequest("connect",{}),s()}):(window.name="parent",this._popup=window.open(this._providerUrl.toString(),"_blank","location,resizable,width=460,height=675"),new Promise(s=>{this.once("connect",s)}))),this._handleDisconnect=()=>{this._handlerAdded&&(this._handlerAdded=!1,window.removeEventListener("message",this._handleMessage),window.removeEventListener("beforeunload",this.disconnect)),this._publicKey&&(this._publicKey=null,this.emit("disconnect")),this._responsePromises.forEach(([s,i],c)=>{this._responsePromises.delete(c),i("Wallet disconnected")})},this._sendRequest=async function(s,i){if(s!=="connect"&&!n.connected)throw new Error("Wallet not connected");const c=n._nextRequestId;return++n._nextRequestId,new Promise((u,h)=>{n._responsePromises.set(c,[u,h]),n._injectedProvider?n._injectedProvider.postMessage({jsonrpc:"2.0",id:c,method:s,params:{network:n._network,...i}}):(n._popup.postMessage({jsonrpc:"2.0",id:c,method:s,params:i},n._providerUrl.origin),n.autoApprove||n._popup.focus())})},this.connect=()=>(this._popup&&this._popup.close(),this._handleConnect()),this.disconnect=async function(){n._injectedProvider&&await n._sendRequest("disconnect",{}),n._popup&&n._popup.close(),n._handleDisconnect()},this.sign=async function(s,i){if(!(s instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");const c=await n._sendRequest("sign",{data:s,display:i}),u=Ft.decode(c.signature),h=new ie(c.publicKey);return{signature:u,publicKey:h}},this.signTransaction=async function(s){const i=await n._sendRequest("signTransaction",{message:Ft.encode(s.serializeMessage())}),c=Ft.decode(i.signature),u=new ie(i.publicKey);return s.addSignature(u,c),s},this.signAllTransactions=async function(s){const i=await n._sendRequest("signAllTransactions",{messages:s.map(h=>Ft.encode(h.serializeMessage()))}),c=i.signatures.map(h=>Ft.decode(h)),u=new ie(i.publicKey);return s=s.map((h,w)=>(h.addSignature(u,c[w]),h)),s},Md(e))this._injectedProvider=e;else if(Sd(e))this._providerUrl=new URL(e),this._providerUrl.hash=new URLSearchParams({origin:window.location.origin,network:t}).toString();else throw new Error("provider parameter must be an injected provider or a URL string.");this._network=t,this._publicKey=null,this._autoApprove=!1,this._popup=null,this._handlerAdded=!1,this._nextRequestId=1,this._responsePromises=new Map}get publicKey(){return this._publicKey}get connected(){return this._publicKey!==null}get autoApprove(){return this._autoApprove}}function Sd(r){return typeof r=="string"}function Md(r){return _d(r)&&Td(r.postMessage)}function _d(r){return typeof r=="object"&&r!==null}function Td(r){return typeof r=="function"}var kd=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tr=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(c){c(i)})}return new(t||(t=Promise))(function(i,c){function u(m){try{w(n.next(m))}catch(I){c(I)}}function h(m){try{w(n.throw(m))}catch(I){c(I)}}function w(m){m.done?i(m.value):s(m.value).then(u,h)}w((n=n.apply(r,e||[])).next())})},nr=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(w){return function(m){return h([w,m])}}function h(w){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,s&&(i=w[0]&2?s.return:w[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,w[1])).done)return i;switch(s=0,i&&(w=[w[0]&2,i.value]),w[0]){case 0:case 1:i=w;break;case 4:return t.label++,{value:w[1],done:!1};case 5:t.label++,s=w[1],w=[0];continue;case 7:w=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(w[0]===6||w[0]===2)){t=0;continue}if(w[0]===3&&(!i||w[1]>i[0]&&w[1]<i[3])){t.label=w[1];break}if(w[0]===6&&t.label<i[1]){t.label=i[1],i=w;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(w);break}i[2]&&t.ops.pop(),t.trys.pop();continue}w=e.call(r,t)}catch(m){w=[6,m],s=0}finally{n=i=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Cd=function(r){kd(e,r);function e(t,n,s){var i=r.call(this)||this;return i._instance=null,i.handleMessage=function(c){},i._sendRequest=function(c,u){return tr(i,void 0,void 0,function(){return nr(this,function(h){switch(h.label){case 0:return this._instance.sendRequest?[4,this._instance.sendRequest(c,u)]:[3,2];case 1:return[2,h.sent()];case 2:return this._instance._sendRequest?[4,this._instance._sendRequest(c,u)]:[3,4];case 3:return[2,h.sent()];case 4:throw new Error("Unsupported version of `@project-serum/sol-wallet-adapter`")}})})},i._handleConnect=function(){i.emit("connect")},i._handleDisconnect=function(){window.clearInterval(i._pollTimer),i.emit("disconnect")},i._network=n,i._provider=s,i}return Object.defineProperty(e.prototype,"publicKey",{get:function(){return this._instance.publicKey||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connected",{get:function(){return this._instance.connected||!1},enumerable:!1,configurable:!0}),e.prototype.connect=function(){return tr(this,void 0,void 0,function(){var t=this;return nr(this,function(n){switch(n.label){case 0:return this._instance=new Bd(this._provider,this._network),this._instance.on("connect",this._handleConnect),this._instance.on("disconnect",this._handleDisconnect),this._pollTimer=window.setInterval(function(){var s,i;((i=(s=t._instance)===null||s===void 0?void 0:s._popup)===null||i===void 0?void 0:i.closed)!==!1&&t._handleDisconnect()},200),[4,this._instance.connect()];case 1:return n.sent(),[2]}})})},e.prototype.disconnect=function(){return tr(this,void 0,void 0,function(){return nr(this,function(t){switch(t.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return this._instance.removeAllListeners("connect"),this._instance.removeAllListeners("disconnect"),[4,this._instance.disconnect()];case 1:return t.sent(),[2]}})})},e.prototype.signTransaction=function(t){return tr(this,void 0,void 0,function(){var n;return nr(this,function(s){switch(s.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._sendRequest("signTransaction",{message:Ft.encode(t)})];case 1:return n=s.sent(),[2,Ft.decode(n.signature)]}})})},e.prototype.signAllTransactions=function(t){return tr(this,void 0,void 0,function(){var n;return nr(this,function(s){switch(s.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._sendRequest("signAllTransactions",{messages:t.map(function(i){return Ft.encode(i)})})];case 1:return n=s.sent(),[2,n.signatures.map(function(i){return Ft.decode(i)})]}})})},e.prototype.signMessage=function(t,n){return n===void 0&&(n="hex"),tr(this,void 0,void 0,function(){var s;return nr(this,function(i){switch(i.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._instance.sign(t,n)];case 1:return s=i.sent().signature,[2,Uint8Array.from(s)]}})})},e}(Hc),Nd=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),oo=globalThis&&globalThis.__assign||function(){return oo=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},oo.apply(this,arguments)},Ur=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(c){c(i)})}return new(t||(t=Promise))(function(i,c){function u(m){try{w(n.next(m))}catch(I){c(I)}}function h(m){try{w(n.throw(m))}catch(I){c(I)}}function w(m){m.done?i(m.value):s(m.value).then(u,h)}w((n=n.apply(r,e||[])).next())})},Or=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(w){return function(m){return h([w,m])}}function h(w){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,s&&(i=w[0]&2?s.return:w[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,w[1])).done)return i;switch(s=0,i&&(w=[w[0]&2,i.value]),w[0]){case 0:case 1:i=w;break;case 4:return t.label++,{value:w[1],done:!1};case 5:t.label++,s=w[1],w=[0];continue;case 7:w=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(w[0]===6||w[0]===2)){t=0;continue}if(w[0]===3&&(!i||w[1]>i[0]&&w[1]<i[3])){t.label=w[1];break}if(w[0]===6&&t.label<i[1]){t.label=i[1],i=w;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(w);break}i[2]&&t.ops.pop(),t.trys.pop();continue}w=e.call(r,t)}catch(m){w=[6,m],s=0}finally{n=i=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Ld=function(r){Nd(e,r);function e(t,n){var s=this,i;return s=r.call(this)||this,s._publicKey=null,s._messageHandlers={},s.handleMessage=function(c){if(s._messageHandlers[c.id]){var u=s._messageHandlers[c.id],h=u.resolve,w=u.reject;delete s._messageHandlers[c.id],c.error?w(c.error):h(c.result)}},s._sendMessage=function(c){if(!s.connected)throw new Error("Wallet not connected");return new Promise(function(u,h){var w,m,I=Da();s._messageHandlers[I]={resolve:u,reject:h},(m=(w=s._iframe)===null||w===void 0?void 0:w.contentWindow)===null||m===void 0||m.postMessage({channel:"solflareWalletAdapterToIframe",data:oo({id:I},c)},"*")})},s._iframe=t,s._publicKey=new ie((i=n==null?void 0:n.toString)===null||i===void 0?void 0:i.call(n)),s}return Object.defineProperty(e.prototype,"publicKey",{get:function(){return this._publicKey||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connected",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.connect=function(){return Ur(this,void 0,void 0,function(){return Or(this,function(t){return[2]})})},e.prototype.disconnect=function(){return Ur(this,void 0,void 0,function(){return Or(this,function(t){switch(t.label){case 0:return[4,this._sendMessage({method:"disconnect"})];case 1:return t.sent(),[2]}})})},e.prototype.signTransaction=function(t){return Ur(this,void 0,void 0,function(){var n,s;return Or(this,function(i){switch(i.label){case 0:if(!this.connected)throw new Error("Wallet not connected");i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._sendMessage({method:"signTransaction",params:{message:Ft.encode(t)}})];case 2:return n=i.sent().signature,[2,Ft.decode(n)];case 3:throw s=i.sent(),console.log(s),new Error("Failed to sign transaction");case 4:return[2]}})})},e.prototype.signAllTransactions=function(t){return Ur(this,void 0,void 0,function(){var n,s;return Or(this,function(i){switch(i.label){case 0:if(!this.connected)throw new Error("Wallet not connected");i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._sendMessage({method:"signAllTransactions",params:{messages:t.map(function(c){return Ft.encode(c)})}})];case 2:return n=i.sent().signatures,[2,n.map(function(c){return Ft.decode(c)})];case 3:throw s=i.sent(),console.log(s),new Error("Failed to sign transactions");case 4:return[2]}})})},e.prototype.signMessage=function(t,n){return n===void 0&&(n="hex"),Ur(this,void 0,void 0,function(){var s,i;return Or(this,function(c){switch(c.label){case 0:if(!this.connected)throw new Error("Wallet not connected");c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this._sendMessage({method:"signMessage",params:{data:t,display:n}})];case 2:return s=c.sent(),[2,Uint8Array.from(Ft.decode(s))];case 3:throw i=c.sent(),console.log(i),new Error("Failed to sign message");case 4:return[2]}})})},e}(Hc);function Ti(r){return r.version===void 0}var Rd=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dn=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(c){c(i)})}return new(t||(t=Promise))(function(i,c){function u(m){try{w(n.next(m))}catch(I){c(I)}}function h(m){try{w(n.throw(m))}catch(I){c(I)}}function w(m){m.done?i(m.value):s(m.value).then(u,h)}w((n=n.apply(r,e||[])).next())})},Pn=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(w){return function(m){return h([w,m])}}function h(w){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,s&&(i=w[0]&2?s.return:w[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,w[1])).done)return i;switch(s=0,i&&(w=[w[0]&2,i.value]),w[0]){case 0:case 1:i=w;break;case 4:return t.label++,{value:w[1],done:!1};case 5:t.label++,s=w[1],w=[0];continue;case 7:w=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(w[0]===6||w[0]===2)){t=0;continue}if(w[0]===3&&(!i||w[1]>i[0]&&w[1]<i[3])){t.label=w[1];break}if(w[0]===6&&t.label<i[1]){t.label=i[1],i=w;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(w);break}i[2]&&t.ops.pop(),t.trys.pop();continue}w=e.call(r,t)}catch(m){w=[6,m],s=0}finally{n=i=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Ud=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Od=function(r){Rd(e,r);function e(t){var n=r.call(this)||this;return n._network="mainnet-beta",n._provider=null,n._adapterInstance=null,n._element=null,n._iframe=null,n._connectHandler=null,n._flutterHandlerInterval=null,n._handleEvent=function(s){var i,c,u;switch(s.type){case"connect_native_web":{n._collapseIframe(),n._adapterInstance=new Cd(n._iframe,n._network,((i=s.data)===null||i===void 0?void 0:i.provider)||n._provider||"https://solflare.com/provider"),n._adapterInstance.on("connect",n._webConnected),n._adapterInstance.on("disconnect",n._webDisconnected),n._adapterInstance.connect(),n._setPreferredAdapter("native_web");return}case"connect":{n._collapseIframe(),n._adapterInstance=new Ld(n._iframe,((c=s.data)===null||c===void 0?void 0:c.publicKey)||""),n._adapterInstance.connect(),n._setPreferredAdapter((u=s.data)===null||u===void 0?void 0:u.adapter),n._connectHandler&&(n._connectHandler.resolve(),n._connectHandler=null),n.emit("connect",n.publicKey);return}case"disconnect":{n._connectHandler&&(n._connectHandler.reject(),n._connectHandler=null),n._disconnected(),n.emit("disconnect");return}case"collapse":{n._collapseIframe();return}default:return}},n._handleResize=function(s){s.resizeMode==="full"?s.params.mode==="fullscreen"?n._expandIframe():s.params.mode==="hide"&&n._collapseIframe():s.resizeMode==="coordinates"&&n._iframe&&(n._iframe.style.top=isFinite(s.params.top)?"".concat(s.params.top,"px"):"",n._iframe.style.bottom=isFinite(s.params.bottom)?"".concat(s.params.bottom,"px"):"",n._iframe.style.left=isFinite(s.params.left)?"".concat(s.params.left,"px"):"",n._iframe.style.right=isFinite(s.params.right)?"".concat(s.params.right,"px"):"",n._iframe.style.width=isFinite(s.params.width)?"".concat(s.params.width,"px"):s.params.width,n._iframe.style.height=isFinite(s.params.height)?"".concat(s.params.height,"px"):s.params.height)},n._handleMessage=function(s){var i;if(((i=s.data)===null||i===void 0?void 0:i.channel)==="solflareIframeToWalletAdapter"){var c=s.data.data||{};c.type==="event"?n._handleEvent(c.event):c.type==="resize"?n._handleResize(c):c.type==="response"&&n._adapterInstance&&n._adapterInstance.handleMessage(c)}},n._removeElement=function(){n._flutterHandlerInterval!==null&&(clearInterval(n._flutterHandlerInterval),n._flutterHandlerInterval=null),n._element&&(n._element.remove(),n._element=null)},n._removeDanglingElements=function(){var s,i,c=document.getElementsByClassName("solflare-wallet-adapter-iframe");try{for(var u=Ud(c),h=u.next();!h.done;h=u.next()){var w=h.value;w.parentElement&&w.remove()}}catch(m){s={error:m}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(s)throw s.error}}},n._injectElement=function(){n._removeElement(),n._removeDanglingElements();var s="".concat(e.IFRAME_URL,"?cluster=").concat(encodeURIComponent(n._network),"&origin=").concat(encodeURIComponent(window.location.origin),"&version=1"),i=n._getPreferredAdapter();i&&(s+="&adapter=".concat(encodeURIComponent(i))),n._element=document.createElement("div"),n._element.className="solflare-wallet-adapter-iframe",n._element.innerHTML=`
      <iframe src='`.concat(s,`' style='position: fixed; top: 0; bottom: 0; left: 0; right: 0; width: 100%; height: 100%; border: none; border-radius: 0; z-index: 99999; color-scheme: auto;' allowtransparency='true'></iframe>
    `),document.body.appendChild(n._element),n._iframe=n._element.querySelector("iframe"),window.fromFlutter=n._handleMobileMessage,n._flutterHandlerInterval=setInterval(function(){window.fromFlutter=n._handleMobileMessage},100),window.addEventListener("message",n._handleMessage,!1)},n._collapseIframe=function(){n._iframe&&(n._iframe.style.top="",n._iframe.style.right="",n._iframe.style.height="2px",n._iframe.style.width="2px")},n._expandIframe=function(){n._iframe&&(n._iframe.style.top="0px",n._iframe.style.bottom="0px",n._iframe.style.left="0px",n._iframe.style.right="0px",n._iframe.style.width="100%",n._iframe.style.height="100%")},n._getPreferredAdapter=function(){return localStorage&&localStorage.getItem("solflarePreferredWalletAdapter")||null},n._setPreferredAdapter=function(s){localStorage&&s&&localStorage.setItem("solflarePreferredWalletAdapter",s)},n._clearPreferredAdapter=function(){localStorage&&localStorage.removeItem("solflarePreferredWalletAdapter")},n._webConnected=function(){n._connectHandler&&(n._connectHandler.resolve(),n._connectHandler=null),n.emit("connect",n.publicKey)},n._webDisconnected=function(){n._connectHandler&&(n._connectHandler.reject(),n._connectHandler=null),n._disconnected(),n.emit("disconnect")},n._disconnected=function(){window.removeEventListener("message",n._handleMessage,!1),n._removeElement(),n._clearPreferredAdapter(),n._adapterInstance=null},n._handleMobileMessage=function(s){var i,c;(c=(i=n._iframe)===null||i===void 0?void 0:i.contentWindow)===null||c===void 0||c.postMessage({channel:"solflareMobileToIframe",data:s},"*")},t!=null&&t.network&&(n._network=t==null?void 0:t.network),t!=null&&t.provider&&(n._provider=t==null?void 0:t.provider),n}return Object.defineProperty(e.prototype,"publicKey",{get:function(){var t;return((t=this._adapterInstance)===null||t===void 0?void 0:t.publicKey)||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isConnected",{get:function(){var t;return!!(!((t=this._adapterInstance)===null||t===void 0)&&t.connected)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connected",{get:function(){return this.isConnected},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoApprove",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.connect=function(){return Dn(this,void 0,void 0,function(){var t=this;return Pn(this,function(n){switch(n.label){case 0:return this.connected?[2]:(this._injectElement(),[4,new Promise(function(s,i){t._connectHandler={resolve:s,reject:i}})]);case 1:return n.sent(),[2]}})})},e.prototype.disconnect=function(){return Dn(this,void 0,void 0,function(){return Pn(this,function(t){switch(t.label){case 0:return this._adapterInstance?[4,this._adapterInstance.disconnect()]:[2];case 1:return t.sent(),this._disconnected(),this.emit("disconnect"),[2]}})})},e.prototype.signTransaction=function(t){return Dn(this,void 0,void 0,function(){var n,s,i,c,u=this;return Pn(this,function(h){switch(h.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return n=Ti(t)?t.serializeMessage():t.message.serialize(),[4,this._adapterInstance.signTransaction(n)];case 1:return s=h.sent(),Ti(t)?t.addSignature(this.publicKey,Buffer.from(s)):(i=t.message.staticAccountKeys.slice(0,t.message.header.numRequiredSignatures),c=i.findIndex(function(w){return w.equals(u.publicKey)}),c>=0&&(t.signatures[c]=s)),[2,t]}})})},e.prototype.signAllTransactions=function(t){return Dn(this,void 0,void 0,function(){var n,s,i,c,u,h,w=this;return Pn(this,function(m){switch(m.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return n=t.map(function(I){return Ti(I)?I.serializeMessage():I.message.serialize()}),[4,this._adapterInstance.signAllTransactions(n)];case 1:for(s=m.sent(),i=0;i<t.length;i++)c=t[i],Ti(c)?c.addSignature(this.publicKey,Buffer.from(s[i])):(u=c.message.staticAccountKeys.slice(0,c.message.header.numRequiredSignatures),h=u.findIndex(function(I){return I.equals(w.publicKey)}),h>=0&&(c.signatures[h]=s[i]));return[2,t]}})})},e.prototype.signMessage=function(t,n){return n===void 0&&(n="utf8"),Dn(this,void 0,void 0,function(){return Pn(this,function(s){switch(s.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._adapterInstance.signMessage(t,n)];case 1:return[2,s.sent()]}})})},e.prototype.sign=function(t,n){return n===void 0&&(n="utf8"),Dn(this,void 0,void 0,function(){return Pn(this,function(s){switch(s.label){case 0:return[4,this.signMessage(t,n)];case 1:return[2,s.sent()]}})})},e.prototype.detectWallet=function(t){var n;return t===void 0&&(t=10),Dn(this,void 0,void 0,function(){return Pn(this,function(s){return window.SolflareApp||((n=window.solflare)===null||n===void 0?void 0:n.isSolflare)?[2,!0]:[2,new Promise(function(i){var c,u;c=setInterval(function(){var h;(window.SolflareApp||((h=window.solflare)===null||h===void 0?void 0:h.isSolflare))&&(clearInterval(c),clearTimeout(u),i(!0))},500),u=setTimeout(function(){clearInterval(c),i(!1)},t*1e3)})]})})},e.IFRAME_URL="https://connect.solflare.com/",e}(ti);const Fd=Object.freeze(Object.defineProperty({__proto__:null,default:Od},Symbol.toStringTag,{value:"Module"}));return Ad});
